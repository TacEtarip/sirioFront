(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{xSpW:function(t,e,n){"use strict";n.r(e),n.d(e,"InventarioModule",function(){return go});var i=n("ofXK"),o=n("3Pt+"),a=n("tyNb"),r=n("2Vo4"),s=n("/uUt"),c=n("Kj3r"),l=n("zP0r"),m=n("SxV6"),d=n("0IaG"),u=n("fXoL"),g=n("bTqV");let b=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}eliminarItem(){this.dialogRef.close(this.data.codigo)}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-eliminar-dialog"]],decls:12,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close","","color","accent",3,"click"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(u.Tb(0,"h2",0),u.yc(1,"Eliminando "),u.Tb(2,"b"),u.yc(3),u.Sb(),u.Sb(),u.Tb(4,"mat-dialog-content",1),u.Tb(5,"p"),u.yc(6,"\xbfSeguro que quieres eliminar este item?"),u.Sb(),u.Sb(),u.Tb(7,"mat-dialog-actions",2),u.Tb(8,"button",3),u.ac("click",function(){return e.eliminarItem()}),u.yc(9,"Eliminar"),u.Sb(),u.Tb(10,"button",4),u.yc(11,"Cancelar"),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.zc(e.data.name),u.Cb(7),u.kc("mat-dialog-close",!0))},directives:[d.h,d.e,d.c,g.a,d.d],styles:["b[_ngcontent-%COMP%]{color:#ff7b00}b[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:jubilat,sans-serif;font-weight:200}h2[_ngcontent-%COMP%]{color:#005087;font-size:26px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}@media screen and (max-width:800px){h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:16px}}"]}),t})(),p=(()=>{class t{constructor(){}}return t.opened=new r.a(!0),t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("9K50"),f=n("dNgK");let C=(()=>{class t{constructor(){this.scrollY=new r.a(0),this.scrollY$=this.scrollY.asObservable(),this.scrollH=new r.a(0),this.porcent=new r.a(0)}updateScrollY(t){this.scrollY.next(t)}scrollToTop(){this.elementScroll.scroll(0,0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("8LU1"),_=n("0EQZ"),O=n("FKr1"),S=n("u47x");const y=["button"],x=["*"],M=new u.s("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),P=new u.s("MatButtonToggleGroup"),w={provide:o.l,useExisting:Object(u.V)(()=>I),multi:!0};let T=0;class k{constructor(t,e){this.source=t,this.value=e}}let I=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+T++,this.valueChange=new u.o,this.change=new u.o,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(v.c)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(v.c)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(v.c)(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new _.c(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new k(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(u.h),u.Nb(M,8))},t.\u0275dir=u.Ib({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&u.Gb(n,D,1),2&t){let t;u.oc(t=u.bc())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(u.Db("aria-disabled",e.disabled),u.Fb("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[u.Bb([w,{provide:P,useExisting:t}])]}),t})();class N{}const F=Object(O.x)(N);let D=(()=>{class t extends F{constructor(t,e,n,i,o,a){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new u.o;const r=Number(o);this.tabIndex=r||0===r?r:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=Object(v.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Object(v.c)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+T++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new k(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(P,8),u.Nb(u.h),u.Nb(u.l),u.Nb(S.h),u.Yb("tabindex"),u.Nb(M,8))},t.\u0275cmp=u.Hb({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&u.Dc(y,1),2&t){let t;u.oc(t=u.bc())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&u.ac("focus",function(){return e.focus()}),2&t&&(u.Db("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),u.Fb("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[u.zb],ngContentSelectors:x,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(u.jc(),u.Tb(0,"button",0,1),u.ac("click",function(){return e._onButtonClick()}),u.Tb(2,"span",2),u.ic(3),u.Sb(),u.Sb(),u.Ob(4,"span",3),u.Ob(5,"span",4)),2&t){const t=u.pc(1);u.kc("id",e.buttonId)("disabled",e.disabled||null),u.Db("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),u.Cb(5),u.kc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[O.r],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),A=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},imports:[[O.j,O.s],O.j]}),t})();var G=n("NFeN"),V=n("kmnG"),j=n("d3UM"),L=n("qFsG"),z=n("tsEh"),B=n("ccyI"),E=n("bSwM"),R=n("/1cH"),$=n("Xa2L");function U(t,e){1&t&&(u.Tb(0,"mat-option",33),u.yc(1,"Crear Venta"),u.Sb())}function q(t,e){1&t&&(u.Tb(0,"mat-option",34),u.yc(1,"A\xf1adir A Venta Activa"),u.Sb())}function H(t,e){1&t&&(u.Tb(0,"mat-form-field",9),u.Tb(1,"mat-label"),u.yc(2,"Cantidad Disponible"),u.Sb(),u.Ob(3,"input",35),u.Sb())}function Y(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",12),u.Tb(1,"mat-label"),u.yc(2,"Cantidad"),u.Sb(),u.Tb(3,"input",36),u.ac("input",function(){return u.rc(t),u.ec().actTotal()})("keypress",function(){return u.rc(t),u.ec().resetSum()}),u.Sb(),u.Tb(4,"mat-error"),u.yc(5,"Cantidad Invalida"),u.Sb(),u.Sb()}}function Q(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div"),u.Tb(1,"div",39),u.Tb(2,"mat-form-field",40),u.Tb(3,"mat-label"),u.yc(4,"Sub..."),u.Sb(),u.Ob(5,"input",41),u.Sb(),u.Tb(6,"mat-form-field",40),u.Tb(7,"mat-label"),u.yc(8,"Sub II..."),u.Sb(),u.Ob(9,"input",42),u.Sb(),u.Tb(10,"mat-form-field",43),u.Tb(11,"mat-label"),u.yc(12,"Cantidad Disponible"),u.Sb(),u.Ob(13,"input",44),u.Sb(),u.Tb(14,"mat-form-field",43),u.Tb(15,"mat-label"),u.yc(16,"Cantidad"),u.Sb(),u.Tb(17,"input",45),u.ac("input",function(){u.rc(t);const n=e.index;return u.ec(2).actTotalForSubConteo(n)})("keypress",function(){return u.rc(t),u.ec(2).resetSum()}),u.Sb(),u.Tb(18,"mat-error"),u.yc(19,"Cantidad Invalida"),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.index;u.Cb(1),u.kc("formGroupName",t)}}function K(t,e){if(1&t&&(u.Tb(0,"div",37),u.xc(1,Q,20,1,"div",38),u.Sb()),2&t){const t=u.ec();u.Cb(1),u.kc("ngForOf",t.cantidadList.controls)}}function X(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Cb(1),u.zc(t.viewValue)}}function J(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",46),u.Tb(1,"mat-label"),u.yc(2,"Tipo De Comprobante"),u.Sb(),u.Tb(3,"mat-select",47,48),u.ac("valueChange",function(e){return u.rc(t),u.ec().currentDocumentType=e})("ngModelChange",function(){return u.rc(t),u.ec().changeValidators()}),u.xc(5,X,2,2,"mat-option",49),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Cb(3),u.kc("value",t.currentDocumentType),u.Cb(2),u.kc("ngForOf",t.tiposDocumentos)}}function W(t,e){1&t&&(u.Tb(0,"mat-label"),u.yc(1,"RUC"),u.Sb())}function Z(t,e){1&t&&(u.Tb(0,"mat-label"),u.yc(1,"DNI"),u.Sb())}function tt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",51),u.xc(1,W,2,0,"mat-label",52),u.xc(2,Z,2,0,"mat-label",52),u.Tb(3,"input",53),u.ac("keyup",function(){return u.rc(t),u.ec().comprobarDOC()}),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Cb(1),u.kc("ngIf","factura"===t.ventaForm.get("documentoTipo").value),u.Cb(1),u.kc("ngIf","boleta"===t.ventaForm.get("documentoTipo").value)}}function et(t,e){1&t&&(u.Tb(0,"mat-form-field",4),u.Tb(1,"mat-label"),u.yc(2,"Nombre..."),u.Sb(),u.Ob(3,"input",54),u.Sb())}function nt(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Cb(1),u.zc(t.viewValue)}}function it(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",55),u.Tb(1,"mat-label"),u.yc(2,"Metodo de pago"),u.Sb(),u.Tb(3,"mat-select",56),u.ac("valueChange",function(e){return u.rc(t),u.ec().currentMetodoPago=e}),u.xc(4,nt,2,2,"mat-option",49),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Cb(3),u.kc("value",t.currentMetodoPago),u.Cb(1),u.kc("ngForOf",t.metodosDePago)}}function ot(t,e){1&t&&(u.Tb(0,"mat-form-field",51),u.Tb(1,"mat-label"),u.yc(2,"Descripci\xf3n"),u.Sb(),u.Ob(3,"input",57),u.Sb())}function at(t,e){1&t&&(u.Tb(0,"mat-form-field",4),u.Tb(1,"mat-label"),u.yc(2,"Cliente email..."),u.Sb(),u.Ob(3,"input",58),u.Sb())}const rt=function(){return{"grid-column":"span 6",color:"#ff7b00"}};function st(t,e){1&t&&(u.Tb(0,"h3",59),u.yc(1," Gu\xeda de remisi\xf3n "),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,rt))}const ct=function(){return{"grid-column":"span 6"}};function lt(t,e){1&t&&(u.Tb(0,"mat-form-field",60),u.Tb(1,"mat-label"),u.yc(2,"Peso(Kg)..."),u.Sb(),u.Ob(3,"input",61),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,ct))}const mt=function(){return{"grid-column":"span 4"}};function dt(t,e){1&t&&(u.Tb(0,"mat-form-field",62),u.Tb(1,"mat-label"),u.yc(2,"Documento transportista..."),u.Sb(),u.Ob(3,"input",63),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,mt))}const ut=function(){return{"grid-column":"span 2"}};function gt(t,e){1&t&&(u.Tb(0,"mat-form-field",62),u.Tb(1,"mat-label"),u.yc(2,"Placa..."),u.Sb(),u.Ob(3,"input",64),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,ut))}function bt(t,e){1&t&&(u.Tb(0,"mat-form-field",4),u.Tb(1,"mat-label"),u.yc(2,"Nombre..."),u.Sb(),u.Ob(3,"input",65),u.Sb())}const pt=function(){return{"grid-column":"span 6",color:"#ff7b00",margin:"1em 0 1em 0"}};function ht(t,e){1&t&&(u.Tb(0,"h5",59),u.yc(1," Punto de partida "),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,pt))}function ft(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function Ct(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Departamento"),u.Sb(),u.Ob(3,"input",67),u.Tb(4,"mat-autocomplete",null,68),u.xc(6,ft,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterDepartamentos)}}function vt(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function _t(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Provincia"),u.Sb(),u.Ob(3,"input",69),u.Tb(4,"mat-autocomplete",null,70),u.xc(6,vt,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterProvincias)}}function Ot(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function St(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Distrito"),u.Sb(),u.Ob(3,"input",71),u.Tb(4,"mat-autocomplete",null,72),u.xc(6,Ot,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterDistritos)}}function yt(t,e){1&t&&(u.Tb(0,"mat-form-field",4),u.Tb(1,"mat-label"),u.yc(2,"Direccion de partida..."),u.Sb(),u.Ob(3,"input",73),u.Sb())}function xt(t,e){1&t&&(u.Tb(0,"h5",59),u.yc(1," Punto de llegada "),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,pt))}function Mt(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function Pt(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Departamento"),u.Sb(),u.Ob(3,"input",74),u.Tb(4,"mat-autocomplete",null,75),u.xc(6,Mt,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterDepartamentosLlegada)}}function wt(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function Tt(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Provincia"),u.Sb(),u.Ob(3,"input",76),u.Tb(4,"mat-autocomplete",null,77),u.xc(6,wt,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterProvinciasLlegada)}}function kt(t,e){if(1&t&&(u.Tb(0,"mat-option",50),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Cb(1),u.Ac(" ",t," ")}}function It(t,e){if(1&t&&(u.Tb(0,"mat-form-field",66),u.Tb(1,"mat-label"),u.yc(2,"Distrito"),u.Sb(),u.Ob(3,"input",78),u.Tb(4,"mat-autocomplete",null,79),u.xc(6,kt,2,2,"mat-option",49),u.Sb(),u.Sb()),2&t){const t=u.pc(5),e=u.ec();u.kc("ngStyle",u.lc(3,ut)),u.Cb(3),u.kc("matAutocomplete",t),u.Cb(3),u.kc("ngForOf",e.filterDistritosLlegada)}}function Nt(t,e){1&t&&(u.Tb(0,"mat-form-field",4),u.Tb(1,"mat-label"),u.yc(2,"Direccion de partida..."),u.Sb(),u.Ob(3,"input",80),u.Sb())}function Ft(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-checkbox",81),u.ac("click",function(){return u.rc(t),u.ec().activarGenerarGuiaForm()}),u.yc(1,"Generar guia"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled","noone"===t.ventaForm.get("documentoTipo").value)}}function Dt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",82),u.ac("click",function(){u.rc(t);const e=u.ec();return e.ventaSimple(e.ventaForm.getRawValue())}),u.fc(1,"async"),u.yc(2,"Vender"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.ventaForm.valid||t.sum<=0||!u.gc(1,1,t.documentAccepted)&&"noone"!==t.ventaForm.get("documentoTipo").value)}}function At(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",82),u.ac("click",function(){u.rc(t);const e=u.ec();return e.generarNuevaVenta(e.ventaForm.getRawValue())}),u.yc(1,"Crear Venta"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.ventaForm.valid||t.sum<=0)}}function Gt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",83),u.ac("click",function(){u.rc(t);const e=u.ec();return e.agregarItemVenta(e.ventaForm.getRawValue())}),u.yc(1," Agregar A Venta"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.ventaForm.valid||t.sum<=0)}}function Vt(t,e){1&t&&(u.Tb(0,"div",84),u.Ob(1,"mat-spinner",85),u.Sb())}const jt=function(){return{"margin-right":"10px"}};let Lt=(()=>{class t{constructor(t,e,n,i,o,a){this.dialogRef=t,this.item=e,this.formBuilder=n,this.inventarioMNG=i,this.router=o,this.auth=a,this.generarGuia$=new r.a(!1),this.ventaEnCurso=new r.a(!1),this.disabled=new r.a(!0),this.documentAccepted=new r.a(!1),this.documentoFullInfo=new r.a(!1),this.sum=0,this.ubigeoPartida="",this.tiposDocumentos=[{value:"noone",viewValue:"Sin Documento"},{value:"factura",viewValue:"Factura"},{value:"boleta",viewValue:"Boleta"}],this.metodosDePago=[{value:"efectivo",viewValue:"Efectivo"},{value:"tarjeta",viewValue:"Tarjeta"},{value:"yape",viewValue:"Yape"},{value:"otro",viewValue:"Otro"}],this.metodosDeTransporte=[{value:"01",viewValue:"Publico"},{value:"02",viewValue:"Privado"}],this.currentDocumentType=this.tiposDocumentos[0].value,this.currentMetodoPago=this.metodosDePago[0].value,this.currentTipoTransporte=this.metodosDeTransporte[0].value,this.llegadaUbigeo="",this.partidaUbigeo="",this.indexProvincia=0,this.ventaActiva="",this.sunatCodes=z}ngOnDestroy(){this.subOne.unsubscribe(),this.subI.unsubscribe(),this.subII.unsubscribe(),this.subIII.unsubscribe(),this.subIV.unsubscribe(),this.subV.unsubscribe(),this.subVI.unsubscribe(),this.generarGuia$.complete()}ngOnInit(){this.inventarioMNG.getVentasActivas().subscribe(t=>{this.ventaActiva=t.codigo}),this.ventaForm=this.formBuilder.group({selectAcction:this.formBuilder.control("ventaSimple",o.s.compose([o.s.required])),priceIGV:this.formBuilder.control({value:this.rebrandNumber(!0,this.item.priceIGV),disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.min(.01)])),priceNoIGV:this.formBuilder.control({value:this.item.priceNoIGV,disabled:!0}),documentoTipo:this.formBuilder.control(this.tiposDocumentos[0].value,o.s.compose([o.s.required])),docCod:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern("^[0-9]*$"),o.s.minLength(11),o.s.maxLength(11)])),nameDocumento:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required])),metodoPagoOne:this.formBuilder.control("efectivo",o.s.required),metodoPagoTwo:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^[a-zA-Z0-9.,_#\s]+$/),o.s.minLength(2)])),clienteEmail:this.formBuilder.control("",o.s.compose([o.s.email])),peso:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.min(.01)])),documento_transportista:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^[0-9]{8}$|^[0-9]{11}$/g)])),placa_transportista:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^[0-9a-zA-Z_-]{3,}$/)])),denomicaion_transportista:this.formBuilder.control({value:"",disabled:!0}),departamento:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateDepartamento])),provincia:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateProvincia("departamento")])),distrito:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateDistrito("departamento","provincia")])),direccion_partida:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^[a-zA-Z0-9.,_#\s]+$/)])),departamento_llegada:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateDepartamento])),provincia_llegada:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateProvincia("departamento_llegada")])),distrito_llegada:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,this.validateDistrito("departamento_llegada","provincia_llegada")])),direccion_llegada:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.pattern(/^[a-zA-Z0-9.,_#\s]+$/)]))}),this.ventaForm.get("documento_transportista").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.ventaForm.get("documento_transportista").valid?this.comprobarDocV2(t):this.ventaForm.get("denomicaion_transportista").reset()}),this.generarGuia$.pipe(Object(s.a)()).subscribe(t=>{t?(this.ventaForm.get("peso").enable(),this.ventaForm.get("documento_transportista").enable(),this.ventaForm.get("placa_transportista").enable(),this.ventaForm.get("departamento").enable(),this.ventaForm.get("direccion_partida").enable(),this.ventaForm.get("departamento_llegada").enable(),this.ventaForm.get("direccion_llegada").enable()):(this.ventaForm.get("peso").disable(),this.ventaForm.get("documento_transportista").disable(),this.ventaForm.get("placa_transportista").disable(),this.ventaForm.get("departamento").disable(),this.ventaForm.get("direccion_partida").disable(),this.ventaForm.get("departamento_llegada").disable(),this.ventaForm.get("direccion_llegada").disable())}),this.item.subConteo?(this.ventaForm.addControl("cantidadList",this.formBuilder.array([])),this.cantidadList=this.ventaForm.get("cantidadList"),this.item.subConteo.order.forEach(t=>{t.cantidad>0&&this.addOrder(t.name,t.nameSecond,t.cantidad)})):(this.ventaForm.addControl("cantidadDisponible",this.formBuilder.control({value:this.item.cantidad,disabled:!0},o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.minLength(1)]))),this.ventaForm.addControl("cantidadVenta",this.formBuilder.control("",o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(1)])))),this.subI=this.ventaForm.get("departamento").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkDepartamento(t,"provincia","departamento",1)}),this.subII=this.ventaForm.get("provincia").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkProvincia(t,"provincia","departamento","distrito",1)}),this.subIII=this.ventaForm.get("distrito").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkDistrito(t,"provincia","distrito",1)}),this.subIV=this.ventaForm.get("departamento_llegada").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkDepartamento(t,"provincia_llegada","departamento_llegada",2)}),this.subV=this.ventaForm.get("provincia_llegada").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkProvincia(t,"provincia_llegada","departamento_llegada","distrito_llegada",2)}),this.subVI=this.ventaForm.get("distrito_llegada").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.checkDistrito(t,"provincia_llegada","distrito_llegada",2)}),this.subOne=this.ventaForm.get("metodoPagoOne").valueChanges.pipe(Object(s.a)()).subscribe(t=>{this.ventaForm.get("metodoPagoTwo").reset(),"efectivo"===t?this.ventaForm.get("metodoPagoTwo").disable():this.ventaForm.get("metodoPagoTwo").enable()})}checkDepartamento(t,e,n,i){if(1===i?(this.filterDepartamentos=new Array,this.filterProvincias=new Array):(this.filterDepartamentosLlegada=new Array,this.filterProvinciasLlegada=new Array),this.ventaForm.get(e).reset(),this.ventaForm.get(e).disable(),t){const e=new RegExp("^"+t+"+[a-z ]*$","i");z.forEach(t=>{e.test(t.departamento)&&(1===i?this.filterDepartamentos.push(t.departamento):this.filterDepartamentosLlegada.push(t.departamento))})}this.ventaForm.get(n).valid&&this.ventaForm.get(e).enable()}checkProvincia(t,e,n,i,o){if(1===o?(this.filterProvincias=new Array,this.filterDistritos=new Array):(this.filterProvinciasLlegada=new Array,this.filterDistritosLlegada=new Array),this.ventaForm.get(i).reset(),this.ventaForm.get(i).disable(),t){const e=new RegExp("^"+t+"+[a-z ]*$","i"),i=z.findIndex(t=>t.departamento===this.ventaForm.get(n).value.toUpperCase());this.indexProvincia=i,z[i].provincias.forEach(t=>{e.test(t.provincia)&&(1===o?this.filterProvincias.push(t.provincia):this.filterProvinciasLlegada.push(t.provincia))})}this.ventaForm.get(e).valid&&this.ventaForm.get(i).enable()}checkDistrito(t,e,n,i){if(1===i?this.filterDistritos=new Array:this.filterDistritosLlegada=new Array,t){const n=new RegExp("^"+t+"+[a-z ]*$","i"),o=z[this.indexProvincia].provincias.findIndex(t=>t.provincia===this.ventaForm.get(e).value.toUpperCase());z[this.indexProvincia].provincias[o].distritos.forEach(t=>{n.test(t.distrito)&&(1===i?this.filterDistritos.push(t.distrito):this.filterDistritosLlegada.push(t.distrito))})}}validateDepartamento(t){let e=0;return z.forEach(n=>{n.departamento===t.value.toUpperCase()&&e++}),e>=1?null:{valid:!0}}validateProvincia(t){return e=>{let n=0;if(e.parent.get(t).valid){const i=z.findIndex(n=>n.departamento===e.parent.get(t).value.toUpperCase());z[i].provincias.forEach(t=>{e.value&&t.provincia===e.value.toUpperCase()&&n++})}return n>=1?null:{valid:!0}}}validateDistrito(t,e){return n=>{let i=0;if(n.parent.get(t).valid&&n.parent.get(e).valid){const o=z.findIndex(e=>e.departamento===n.parent.get(t).value.toUpperCase()),a=z[o].provincias.findIndex(t=>t.provincia===n.parent.get(e).value.toUpperCase());z[o].provincias[a].distritos.forEach(t=>{n.value&&t.distrito===n.value.toUpperCase()&&i++})}return i>=1?null:{valid:!0}}}addOrder(t,e,n){const i=this.formBuilder.group({name:this.formBuilder.control({value:t,disabled:!0},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),nameSecond:this.formBuilder.control({value:e,disabled:!0},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),cantidadDisponible:this.formBuilder.control({value:n,disabled:!0},o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$")])),cantidadVenta:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)]))});this.cantidadList.push(i)}activarGenerarGuiaForm(){this.generarGuia$.next(!this.generarGuia$.value)}actTotal(){if(this.sum=0,this.ventaForm.get("cantidadVenta").value<=0||this.item.cantidad-this.ventaForm.get("cantidadVenta").value<0)this.ventaForm.get("cantidadVenta").setErrors({incorrect:!0});else{const t=this.ventaForm.get("cantidadVenta").value,e=this.ventaForm.get("priceIGV").value;this.sum=t,this.totalPriceIGV=this.rebrandNumber(!0,Math.round(100*(e*t+Number.EPSILON))/100).replace(".",",")}}resetSum(){this.sum=0}getNoIGVPrice(t){return Math.round(100*(t/1.18+Number.EPSILON))/100}rebrandNumber(t,e){const n=e.toString().trim().replace(",","."),i=n.indexOf(".");let o="";return t&&(o=-1===n.indexOf(".")?n+".00":""===n.charAt(i+1)?n+"00":""===n.charAt(i+2)?n+"0":n),o}resetSome(){this.generarGuia$.next(!1),this.ventaForm.get("documentoTipo").setValue("noone"),this.ventaForm.get("metodoPagoOne").setValue("efectivo")}changeNumberOut(){const t=this.ventaForm.get("priceIGV").value,e=this.getNoIGVPrice(t),n=this.ventaForm.get("priceIGV").valid,i=this.rebrandNumber(n,t),o=this.rebrandNumber(n,e);if(""!==i)if(this.ventaForm.get("priceIGV").setValue(i),this.ventaForm.get("priceNoIGV").setValue(o),this.item.subConteo){this.sum=0;for(let e=0;e<this.cantidadList.controls.length;e++)this.sum=this.sum+this.cantidadList.at(e).get("cantidadVenta").value;const t=this.ventaForm.get("priceIGV").value;this.totalPriceIGV=this.rebrandNumber(!0,Math.round(100*(this.sum*t+Number.EPSILON))/100).replace(".",",")}else this.actTotal()}changeNumber(){const t=this.ventaForm.get("priceIGV").value,e=this.getNoIGVPrice(t),n=this.ventaForm.get("priceIGV").valid,i=this.rebrandNumber(n,t),o=this.rebrandNumber(n,e);if(""!==i)if(this.ventaForm.get("priceNoIGV").setValue(o),this.item.subConteo){this.sum=0;for(let e=0;e<this.cantidadList.controls.length;e++)this.sum=this.sum+this.cantidadList.at(e).get("cantidadVenta").value;const t=this.ventaForm.get("priceIGV").value;this.totalPriceIGV=this.rebrandNumber(!0,Math.round(100*(this.sum*t+Number.EPSILON))/100).replace(".",",")}else this.actTotal()}changeValidators(){this.ventaForm.get("documentoTipo").value===this.tiposDocumentos[1].value?(this.ventaForm.get("docCod").setValidators([o.s.minLength(11),o.s.maxLength(11),o.s.required]),this.ventaForm.get("docCod").enable(),this.ventaForm.get("nameDocumento").setValue(""),this.ventaForm.get("docCod").reset()):this.ventaForm.get("documentoTipo").value===this.tiposDocumentos[2].value?(this.ventaForm.get("docCod").setValidators([o.s.minLength(8),o.s.maxLength(8),o.s.required]),this.ventaForm.get("docCod").enable(),this.ventaForm.get("nameDocumento").setValue(""),this.ventaForm.get("docCod").reset()):(this.ventaForm.get("docCod").setValidators([]),this.ventaForm.get("docCod").disable(),this.ventaForm.get("nameDocumento").setValue(""),this.ventaForm.get("docCod").reset())}comprobarDocV2(t){const e=t.length;8===e?this.inventarioMNG.getDNI(t).subscribe(t=>{t?this.ventaForm.get("denomicaion_transportista").setValue(t.nombre):(this.ventaForm.get("denomicaion_transportista").setValue(""),this.ventaForm.get("documento_transportista").setErrors({incorrect:!0}))}):11===e&&this.inventarioMNG.getRUC(t).subscribe(t=>{t?this.ventaForm.get("denomicaion_transportista").setValue(t.nombre_o_razon_social):(this.ventaForm.get("denomicaion_transportista").setValue(""),this.ventaForm.get("documento_transportista").setErrors({incorrect:!0}))})}comprobarDOC(){this.ventaForm.get("docCod").valid&&this.ventaForm.get("docCod").enabled?this.ventaForm.get("documentoTipo").value===this.tiposDocumentos[1].value?this.inventarioMNG.getRUC(this.ventaForm.get("docCod").value).subscribe(t=>{t?(this.ventaForm.get("nameDocumento").setValue(t.nombre_o_razon_social),this.documentoFullInfo.next(t),this.documentAccepted.next(!0)):(this.ventaForm.get("nameDocumento").setValue(""),this.documentoFullInfo.next(null),this.ventaForm.get("docCod").setErrors({incorrect:!0}),this.documentAccepted.next(!1))}):this.inventarioMNG.getDNI(this.ventaForm.get("docCod").value).subscribe(t=>{t?(this.documentoFullInfo.next(t),this.ventaForm.get("nameDocumento").setValue(t.nombre),this.documentAccepted.next(!0)):(this.documentoFullInfo.next(null),this.ventaForm.get("nameDocumento").setValue(""),this.ventaForm.get("docCod").setErrors({incorrect:!0}),this.documentAccepted.next(!1))}):this.documentAccepted.next(!1)}changePrice(){this.disabled.value?(this.disabled.next(!1),this.ventaForm.get("priceIGV").enable()):(this.disabled.next(!0),this.ventaForm.get("priceIGV").disable())}crearNewVentaBody(t){let e;e=this.item.subConteo?t.cantidadList:[];const n=parseFloat(this.totalPriceIGV.replace(",",".")),i=Math.round(100*(n/1.18+Number.EPSILON))/100,o={codigo:this.item.codigo,name:this.item.name,priceIGV:t.priceIGV,priceNoIGV:t.priceNoIGV,descripcion:this.item.description,cantidadSC:e,cantidad:t.cantidadVenta,totalPrice:n,totalPriceNoIGV:i};this.item.subConteo&&(o.cantidad=this.sum);const a={documento:{type:"noone",name:"",codigo:null,direccion:""},codigo:"",totalPrice:n,totalPriceNoIGV:i,estado:"pendiente",itemsVendidos:[o],vendedor:this.auth.getUser(),tipoVendedor:this.auth.getTtype(),cliente_email:"",medio_de_pago:""};return this.ventaEnCurso.next(!0),a}ventaCMN(t,e){let n;n=this.item.subConteo?t.cantidadList:[];const i=parseFloat(this.totalPriceIGV.replace(",",".")),o=Math.round(100*(i/1.18+Number.EPSILON))/100,a={codigo:this.item.codigo,name:this.item.name,priceIGV:t.priceIGV,priceNoIGV:t.priceNoIGV,descripcion:this.item.description,cantidadSC:n,cantidad:t.cantidadVenta,totalPrice:i,totalPriceNoIGV:o};this.item.subConteo&&(a.cantidad=this.sum);const r={documento:{type:t.documentoTipo,name:t.nameDocumento,codigo:t.docCod,direccion:this.documentoFullInfo.value.direccion||""},codigo:"",totalPrice:i,guia:!1,totalPriceNoIGV:o,estado:e,itemsVendidos:[a],vendedor:this.auth.getUser(),tipoVendedor:this.auth.getTtype(),cliente_email:t.clienteEmail||"",medio_de_pago:t.metodoPagoOne+"|"+(t.metodoPagoTwo||" ")};return this.generarGuia$.value&&(r.guia=!0,r.peso=t.peso,r.transportista_placa=t.placa_transportista,r.transportista_codigo=t.documento_transportista,r.transportista_nombre=t.denomicaion_transportista,r.llegada_ubigeo=this.getUbigeo(t.departamento_llegada,t.provincia_llegada,t.distrito_llegada),r.partida_ubigeo=this.getUbigeo(t.departamento,t.provincia,t.distrito),r.llegada_direccion=t.direccion_llegada,r.partida_direccion=t.direccion_partida,r.bultos=a.cantidad),this.ventaEnCurso.next(!0),r}getUbigeo(t,e,n){const i=z.findIndex(e=>e.departamento===t),o=z[i].provincias.findIndex(t=>t.provincia===e);return z[i].provincias[o].distritos.find(t=>t.distrito===n).codigo}ventaSimple(t){const e=this.ventaCMN(t,"ejecutada");this.inventarioMNG.generarVentaSimple({venta:e}).subscribe(t=>{this.ventaEnCurso.next(!1),"Succes"===t.message.split("||")[0]?(this.dialogRef.close(),this.router.navigateByUrl(`/ventas/postVenta/${t.message.split("||")[1]}`)):"La Cantidad Ha Cambiado"===t.message?alert("Ya no disponemos con la cantidad necesaria para realizar la venta"):alert("Error al procesar la venta intentelo de nuevo en un momento!")})}generarNuevaVenta(t){const e=this.crearNewVentaBody(t);this.inventarioMNG.generarVentaNueva({venta:e}).subscribe(t=>{this.ventaEnCurso.next(!1),t?t.venta?this.dialogRef.close({message:`SuccesAG ${t.venta.codigo}`,venta:t.venta}):(alert(t.message),this.dialogRef.close({message:"notVentaG",venta:null})):alert("Error desconocido, intenta denuevo en un momento.")})}agregarItemVenta(t){const e=parseFloat(this.totalPriceIGV.replace(",",".")),n=Math.round(100*(e/1.18+Number.EPSILON))/100,i={codigo:this.item.codigo,name:this.item.name,priceIGV:t.priceIGV,priceNoIGV:t.priceNoIGV,cantidad:t.cantidadVenta,cantidadSC:t.cantidadList,totalPrice:e,totalPriceNoIGV:n,descripcion:this.item.description};this.item.subConteo?i.cantidad=this.sum:i.cantidadSC=[],this.ventaEnCurso.next(!0),this.inventarioMNG.agregarItemVenta(i,this.ventaActiva).subscribe(t=>{this.ventaEnCurso.next(!1),t?this.dialogRef.close({item:this.item,message:`succesAI|${t.message}`}):(alert("Ocurrio un error desconocido."),this.dialogRef.close({item:this.item,message:"error"}))})}actTotalForSubConteo(t){const e=this.cantidadList.at(t);if(this.sum=0,e.get("cantidadDisponible").value-e.get("cantidadVenta").value<0||e.get("cantidadVenta").value<0||null===e.get("cantidadVenta").value)this.cantidadList.at(t).get("cantidadVenta").setErrors({incorrect:!0});else{for(let e=0;e<this.cantidadList.controls.length;e++)this.sum=this.sum+this.cantidadList.at(e).get("cantidadVenta").value;const t=this.ventaForm.get("priceIGV").value;this.totalPriceIGV=this.rebrandNumber(!0,Math.round(100*(this.sum*t+Number.EPSILON))/100).replace(".",",")}}testValueForm(t){}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a),u.Nb(o.e),u.Nb(h.a),u.Nb(a.b),u.Nb(B.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-venta-dialog"]],decls:78,vars:68,consts:[["alt","cerrar","src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content","",1,"gridContainer"],["appearance","fill",1,"example-full-width","agregarVenta"],["name","codigo","id","codigo","formControlName","selectAcction",3,"ngModelChange"],["value","ventaSimple"],["value","crearVenta",4,"ngIf"],["value","aVentaActiva",4,"ngIf"],["appearance","fill",1,"example-full-width","doubleGrid"],["name","priceIGV","id","priceNoIGV","formControlName","priceNoIGV","type","number","min","0","step","1","matInput",""],["matPrefix",""],["appearance","fill",1,"example-full-width","doubleGridTwo"],["name","priceIGV","id","priceIGV","formControlName","priceIGV","type","number","min","0","step","1","matInput","",3,"input","focusout"],["appearance","fill","class","example-full-width doubleGrid",4,"ngIf"],["appearance","fill","class","example-full-width doubleGridTwo",4,"ngIf"],["formArrayName","cantidadList","class","arrayForm",4,"ngIf"],["appearance","fill","class","example-full-width doubleGrid singleGrid",4,"ngIf"],["id","busquedaDOC","appearance","fill","class","example-full-width doubleGridTwo singleGrid",4,"ngIf"],["appearance","fill","class","example-full-width agregarVenta",4,"ngIf"],["currentMetodoPago","","appearance","fill","class","example-full-width doubleGrid singleGrid",4,"ngIf"],[3,"ngStyle",4,"ngIf"],["appearance","fill","class","example-full-width doubleGridTwo singleGrid",3,"ngStyle",4,"ngIf"],["appearance","fill","class","example-full-width doubleGrid",3,"ngStyle",4,"ngIf"],["appearance","fill","class","example-full-width",3,"ngStyle",4,"ngIf"],[1,"hpc"],[3,"ngStyle","click"],[3,"disabled","click",4,"ngIf"],[1,"totalGrid"],["mat-dialog-actions","","align","end"],["type","button","mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","lastBTN","type","button","mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["id","overlay",4,"ngIf"],["value","crearVenta"],["value","aVentaActiva"],["name","cantidad","id","cantidadD","formControlName","cantidadDisponible","type","number","min","1","step","1","matInput",""],["name","cantidad","id","cantidad","formControlName","cantidadVenta","type","number","min","1","step","1","matInput","",3,"input","keypress"],["formArrayName","cantidadList",1,"arrayForm"],[4,"ngFor","ngForOf"],[1,"secondGrid",3,"formGroupName"],["appearance","fill",1,"names","tripleGrid"],["spellcheck","false","formControlName","name","maxlength","60","matInput",""],["spellcheck","false","formControlName","nameSecond","maxlength","60","matInput",""],["appearance","fill",1,"cantidad","tripleGrid"],["spellcheck","false","formControlName","cantidadDisponible","type","number","min","0","step","1","matInput",""],["spellcheck","false","formControlName","cantidadVenta","type","number","min","0","step","1","matInput","",3,"input","keypress"],["appearance","fill",1,"example-full-width","doubleGrid","singleGrid"],["name","documentoTipo","formControlName","documentoTipo",3,"value","valueChange","ngModelChange"],["SELECT",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","busquedaDOC","appearance","fill",1,"example-full-width","doubleGridTwo","singleGrid"],[4,"ngIf"],["name","docCod","id","docCod","formControlName","docCod","matInput","",3,"keyup"],["spellcheck","false","name","name","id","name","formControlName","nameDocumento","maxlength","60","matInput",""],["currentMetodoPago","","appearance","fill",1,"example-full-width","doubleGrid","singleGrid"],["name","metodoPagoOne","formControlName","metodoPagoOne",3,"value","valueChange"],["name","metodoPagoTwo","id","metodoPagoTwo","formControlName","metodoPagoTwo","matInput",""],["spellcheck","false","name","clienteEmail","id","clienteEmail","formControlName","clienteEmail","matInput",""],[3,"ngStyle"],["appearance","fill",1,"example-full-width","doubleGridTwo","singleGrid",3,"ngStyle"],["spellcheck","false","name","peso","id","peso","formControlName","peso","matInput",""],["appearance","fill",1,"example-full-width","doubleGrid",3,"ngStyle"],["spellcheck","false","name","documento_transportista","id","documento_transportista","formControlName","documento_transportista","matInput",""],["name","placa_transportista","id","placa_transportista","formControlName","placa_transportista","matInput",""],["spellcheck","false","name","denomicaion_transportista","id","denomicaion_transportista","formControlName","denomicaion_transportista","matInput",""],["appearance","fill",1,"example-full-width",3,"ngStyle"],["type","text","matInput","","formControlName","departamento",3,"matAutocomplete"],["auto","matAutocomplete"],["autocomplete","off","type","text","matInput","","formControlName","provincia",3,"matAutocomplete"],["autoTwo","matAutocomplete"],["autocomplete","not-pro","type","text","matInput","","formControlName","distrito",3,"matAutocomplete"],["autoTrhee","matAutocomplete"],["spellcheck","false","name","direccion_partida","id","direccion_partida","formControlName","direccion_partida","matInput",""],["type","text","matInput","","formControlName","departamento_llegada",3,"matAutocomplete"],["autoFour","matAutocomplete"],["autocomplete","off","type","text","matInput","","formControlName","provincia_llegada",3,"matAutocomplete"],["autoFive","matAutocomplete"],["autocomplete","off","type","text","matInput","","formControlName","distrito_llegada",3,"matAutocomplete"],["autoSix","matAutocomplete"],["spellcheck","false","name","direccion_partida","id","direccion_partida","formControlName","direccion_llegada","matInput",""],[3,"disabled","click"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],["type","button","mat-flat-button","","color","primary",1,"lastBTN",3,"disabled","click"],["id","overlay"],["color","accent",1,"ventaR"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Venta De: "),u.Tb(3,"b"),u.yc(4),u.Sb(),u.Sb(),u.Tb(5,"form",2),u.Tb(6,"div",3),u.Tb(7,"mat-form-field",4),u.Tb(8,"mat-label"),u.yc(9,"Agregar A Venta"),u.Sb(),u.Tb(10,"mat-select",5),u.ac("ngModelChange",function(){return e.resetSome()}),u.Tb(11,"mat-option",6),u.yc(12,"Venta Simple"),u.Sb(),u.xc(13,U,2,0,"mat-option",7),u.xc(14,q,2,0,"mat-option",8),u.Sb(),u.Sb(),u.Tb(15,"mat-form-field",9),u.Tb(16,"mat-label"),u.yc(17,"Precio No IGV"),u.Sb(),u.Ob(18,"input",10),u.Tb(19,"span",11),u.yc(20,"S/ "),u.Sb(),u.Sb(),u.Tb(21,"mat-form-field",12),u.Tb(22,"mat-label"),u.yc(23,"Precio"),u.Sb(),u.Tb(24,"input",13),u.ac("input",function(){return e.changeNumber()})("focusout",function(){return e.changeNumberOut()}),u.Sb(),u.Tb(25,"span",11),u.yc(26,"S/ "),u.Sb(),u.Sb(),u.xc(27,H,4,0,"mat-form-field",14),u.xc(28,Y,6,0,"mat-form-field",15),u.xc(29,K,2,1,"div",16),u.xc(30,J,6,2,"mat-form-field",17),u.xc(31,tt,4,2,"mat-form-field",18),u.xc(32,et,4,0,"mat-form-field",19),u.xc(33,it,5,2,"mat-form-field",20),u.xc(34,ot,4,0,"mat-form-field",18),u.xc(35,at,4,0,"mat-form-field",19),u.xc(36,st,2,2,"h3",21),u.fc(37,"async"),u.xc(38,lt,4,2,"mat-form-field",22),u.fc(39,"async"),u.xc(40,dt,4,2,"mat-form-field",23),u.fc(41,"async"),u.xc(42,gt,4,2,"mat-form-field",23),u.fc(43,"async"),u.xc(44,bt,4,0,"mat-form-field",19),u.fc(45,"async"),u.xc(46,ht,2,2,"h5",21),u.fc(47,"async"),u.xc(48,Ct,7,4,"mat-form-field",24),u.fc(49,"async"),u.xc(50,_t,7,4,"mat-form-field",24),u.fc(51,"async"),u.xc(52,St,7,4,"mat-form-field",24),u.fc(53,"async"),u.xc(54,yt,4,0,"mat-form-field",19),u.fc(55,"async"),u.xc(56,xt,2,2,"h5",21),u.fc(57,"async"),u.xc(58,Pt,7,4,"mat-form-field",24),u.fc(59,"async"),u.xc(60,Tt,7,4,"mat-form-field",24),u.fc(61,"async"),u.xc(62,It,7,4,"mat-form-field",24),u.fc(63,"async"),u.xc(64,Nt,4,0,"mat-form-field",19),u.fc(65,"async"),u.Tb(66,"div",25),u.Tb(67,"mat-checkbox",26),u.ac("click",function(){return e.changePrice()}),u.yc(68,"Habilitar precio"),u.Sb(),u.xc(69,Ft,2,1,"mat-checkbox",27),u.Sb(),u.Tb(70,"h2",28),u.yc(71),u.Sb(),u.Sb(),u.Tb(72,"div",29),u.xc(73,Dt,3,3,"button",30),u.xc(74,At,2,1,"button",30),u.xc(75,Gt,2,1,"button",31),u.Sb(),u.Sb(),u.xc(76,Vt,2,0,"div",32),u.fc(77,"async")),2&t&&(u.Cb(4),u.zc(e.item.name),u.Cb(1),u.kc("formGroup",e.ventaForm),u.Cb(8),u.kc("ngIf",!e.ventaActiva),u.Cb(1),u.kc("ngIf",e.ventaActiva),u.Cb(13),u.kc("ngIf",!e.item.subConteo),u.Cb(1),u.kc("ngIf",!e.item.subConteo),u.Cb(1),u.kc("ngIf",e.item.subConteo),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf",u.gc(37,35,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(39,37,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(41,39,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(43,41,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(45,43,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(47,45,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(49,47,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(51,49,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(53,51,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(55,53,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(57,55,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(59,57,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(61,59,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(63,61,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.kc("ngIf",u.gc(65,63,e.generarGuia$)&&"noone"!==e.ventaForm.get("documentoTipo").value&&"ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(3),u.kc("ngStyle",u.lc(67,jt)),u.Cb(2),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(2),u.Ac("Total: S/ ",e.totalPriceIGV,""),u.Cb(2),u.kc("ngIf","ventaSimple"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","crearVenta"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf","aVentaActiva"===e.ventaForm.get("selectAcction").value),u.Cb(1),u.kc("ngIf",u.gc(77,65,e.ventaEnCurso)))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,j.a,o.n,o.f,O.m,i.m,o.c,o.q,L.b,V.g,E.a,i.n,d.c,V.b,o.d,i.l,o.h,o.j,R.c,R.a,g.a,$.b],pipes:[i.b],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-size:26px;font-weight:400}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}b[_ngcontent-%COMP%]{color:#ff7b00;font-family:jubilat,sans-serif;font-weight:400}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:0;grid-column:1/7}.ventaR[_ngcontent-%COMP%]{top:42%;z-index:6;font-size:32px;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;text-align:center;font-family:futura-pt,sans-serif;color:#ff6e40;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.totalGrid[_ngcontent-%COMP%]{grid-column:1/7;margin:1em 0;align-self:flex-end;text-align:right}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%)}.gridContainer[_ngcontent-%COMP%]{-moz-column-gap:1em;column-gap:1em;display:grid;grid-template-columns:repeat(6,1fr)}.doubleGrid[_ngcontent-%COMP%]{grid-column:1/4}.secondGrid[_ngcontent-%COMP%]{display:grid;-moz-column-gap:1em;column-gap:1em;grid-template-columns:repeat(8,1fr)}.tripleGrid[_ngcontent-%COMP%]{grid-column:span 2}.arrayForm[_ngcontent-%COMP%]{grid-column:1/7}.doubleGridTwo[_ngcontent-%COMP%]{grid-column:4/7}.agregarVenta[_ngcontent-%COMP%]{grid-column:1/7}.mat-dialog-content[_ngcontent-%COMP%]{max-height:50vh}img[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:800px){.lastBTN[_ngcontent-%COMP%]{margin-top:.5em}h1[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width:600px){.tripleGrid[_ngcontent-%COMP%]{grid-column:span 4}.singleGrid[_ngcontent-%COMP%]{grid-column:span 6}h1[_ngcontent-%COMP%]{font-size:16px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:35vh}}"]}),t})();const zt=function(){return{margin:"0 0 0 .5em"}};function Bt(t,e){1&t&&(u.Tb(0,"h4",29),u.yc(1,"Imag\xe9n Subida Correctamente"),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,zt))}function Et(t,e){1&t&&(u.Tb(0,"h4",29),u.yc(1,"Ficha Subida Correctamente"),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,zt))}function Rt(t,e){if(1&t&&(u.Tb(0,"mat-option",30),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.name),u.Cb(1),u.zc(t.name)}}const $t=function(){return{"margin-right":".5em"}};let Ut=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.inventarioMNG=e,this.dialogRef=n,this.item=i,this.disabled=!0,this.disabledPDF=!0,this.showMessage=!1,this.showMessagePDF=!1,this.onNewItem=new u.o,this.marcasList=new r.a([])}ngOnInit(){this.inventarioMNG.getItem(this.item.codigo).subscribe(t=>{t&&(this.item=t)}),this.inventarioMNG.getAllMarcas().subscribe(t=>{this.marcasList.next(t)}),this.myForm=this.formBuilder.group({name:this.formBuilder.control(this.item.name,o.s.compose([o.s.required,o.s.minLength(3),o.s.maxLength(30)])),priceIGV:this.formBuilder.control(this.item.priceIGV,o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.min(.01),o.s.minLength(1)])),cantidad:this.formBuilder.control({value:this.item.cantidad,disabled:!0},o.s.compose([o.s.required])),unidadDeMedida:this.formBuilder.control(this.item.unidadDeMedida,o.s.compose([o.s.required])),description:this.formBuilder.control(this.item.description,o.s.compose([o.s.required])),costoPropio:this.formBuilder.control(this.item.costoPropio,o.s.compose([o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.minLength(1),o.s.min(0),o.s.required])),marca:this.formBuilder.control(this.item.marca,o.s.compose([]))}),this.uploadForm=this.formBuilder.group({img:[""]}),this.uploadFileForm=this.formBuilder.group({pdf:[""]})}testFocus(){const t=this.myForm.get("priceIGV").value.toString().trim().replace(",","."),e=t.indexOf(".");let n="";this.myForm.get("priceIGV").valid&&(n=-1===t.indexOf(".")?t+".00":""===t.charAt(e+1)?t+"00":""===t.charAt(e+2)?t+"0":t),""!==n&&this.myForm.get("priceIGV").setValue(n)}onSubmit(t){const e=t;e.codigo=this.item.codigo,e.name=t.name.trim(),e.description=t.description.trim(),this.inventarioMNG.updateItem(e).subscribe(t=>{null!==t&&(this.myForm.reset(),this.dialogRef.close())})}onSubmitIMG(){this.inventarioMNG.uploadFile(this.fileToUpload,this.item.codigo,this.item.photo).subscribe(t=>{!1!==t&&(this.disabled=!0,this.showMessage=!0)})}onSubmitPDF(){this.inventarioMNG.uploadFilePDF(this.fileToUploadPDF,this.item.codigo).subscribe(t=>{t&&(this.disabledPDF=!0,this.showMessagePDF=!0)})}onFileSelect(t){this.fileToUpload=t.item(0),this.onSubmitIMG()}onFileSelectPDF(t){this.fileToUploadPDF=t.item(0),this.onSubmitPDF()}convertCostoPropio(){if(""!==this.myForm.get("costoPropio").value){const t=this.myForm.get("costoPropio").value,e=this.myForm.get("costoPropio").valid;this.myForm.get("costoPropio").setValue(this.rebrandNumber(e,t))}}convertPriceIGV(){const t=this.myForm.get("priceIGV").value,e=this.myForm.get("priceIGV").valid;this.myForm.get("priceIGV").setValue(this.rebrandNumber(e,t))}rebrandNumber(t,e){const n=e.toString().trim().replace(",","."),i=n.indexOf(".");let o="";return t&&(o=-1===n.indexOf(".")?n+".00":""===n.charAt(i+1)?n+"00":""===n.charAt(i+2)?n+"0":n),o}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(o.e),u.Nb(h.a),u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-editar-item-dialog"]],decls:62,vars:14,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title","",1,"title"],[1,"new-item-form","topForm","customUpload",3,"ngStyle","formGroup","ngSubmit"],["matRipple","","for","img",1,"custom-file-upload"],["type","file","spellcheck","false","name","img","id","img","formControlName","img",3,"change"],["class","succesMSG",3,"ngStyle",4,"ngIf"],[1,"new-item-form","topForm","customUpload",3,"formGroup","ngSubmit"],["matRipple","","for","pdf",1,"custom-file-upload"],["type","file","spellcheck","false","name","pdf","id","pdf","formControlName","pdf",3,"change"],[1,"new-item-form",3,"formGroup","ngSubmit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width","nameForm"],["spellcheck","false","name","name","id","name","formControlName","name","maxlength","60","matInput",""],["appearance","fill",1,"example-full-width","precioForm"],["spellcheck","false","name","priceIGV","id","priceIGV","formControlName","priceIGV","min","1","step","1","type","number","matInput","",1,"example-right-align",3,"focusout"],["matPrefix",""],["spellcheck","false","name","cantidad","id","cantidad","formControlName","cantidad","type","number","min","0","step","1","matInput",""],["name","unidadDeMedida","id","unidadDeMedida","formControlName","unidadDeMedida",3,"value"],["value","UND"],["value","PAR"],["value","CAJA"],["appearance","fill",1,"example-full-width","descriptionField"],["name","description","id","description","formControlName","description","maxlength","600","matInput",""],["spellcheck","false","name","costoPropio","id","costoPropio","formControlName","costoPropio","min","1","step","1","type","number","matInput","",1,"example-right-align",3,"focusout"],["appearance","fill",1,"example-full-width","marca"],["name","marca","id","marca","formControlName","marca",3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["type","submit","mat-flat-button","","color","accent",3,"disabled"],[1,"succesMSG",3,"ngStyle"],[3,"value"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Editando "),u.Tb(3,"b"),u.yc(4),u.Sb(),u.Sb(),u.Tb(5,"form",2),u.ac("ngSubmit",function(){return e.onSubmitIMG()}),u.Tb(6,"label",3),u.yc(7," Subir Imag\xe9n "),u.Sb(),u.Tb(8,"input",4),u.ac("change",function(t){return e.onFileSelect(t.target.files)}),u.Sb(),u.xc(9,Bt,2,2,"h4",5),u.Sb(),u.Tb(10,"form",6),u.ac("ngSubmit",function(){return e.onSubmitPDF()}),u.Tb(11,"label",7),u.yc(12," Subir Ficha "),u.Sb(),u.Tb(13,"input",8),u.ac("change",function(t){return e.onFileSelectPDF(t.target.files)}),u.Sb(),u.xc(14,Et,2,2,"h4",5),u.Sb(),u.Tb(15,"form",9),u.ac("ngSubmit",function(){return e.onSubmit(e.myForm.value)}),u.Tb(16,"div",10),u.Tb(17,"mat-form-field",11),u.Tb(18,"mat-label"),u.yc(19,"Nombre Del Producto"),u.Sb(),u.Ob(20,"input",12),u.Sb(),u.Tb(21,"mat-form-field",13),u.Tb(22,"mat-label"),u.yc(23,"Precio"),u.Sb(),u.Tb(24,"input",14),u.ac("focusout",function(){return e.convertPriceIGV()}),u.Sb(),u.Tb(25,"span",15),u.yc(26,"S/ "),u.Sb(),u.Sb(),u.Tb(27,"mat-form-field",13),u.Tb(28,"mat-label"),u.yc(29,"Cantidad"),u.Sb(),u.Ob(30,"input",16),u.Sb(),u.Tb(31,"mat-form-field",13),u.Tb(32,"mat-label"),u.yc(33,"Unidad De Medida"),u.Sb(),u.Tb(34,"mat-select",17),u.Tb(35,"mat-option",18),u.yc(36,"UND"),u.Sb(),u.Tb(37,"mat-option",19),u.yc(38,"PAR"),u.Sb(),u.Tb(39,"mat-option",20),u.yc(40,"CAJA"),u.Sb(),u.Sb(),u.Sb(),u.Tb(41,"mat-form-field",21),u.Tb(42,"mat-label"),u.yc(43,"Descripci\xf3n"),u.Sb(),u.Ob(44,"textarea",22),u.Sb(),u.Tb(45,"mat-form-field",13),u.Tb(46,"mat-label"),u.yc(47,"Costo propio"),u.Sb(),u.Tb(48,"input",23),u.ac("focusout",function(){return e.convertCostoPropio()}),u.Sb(),u.Tb(49,"span",15),u.yc(50,"S/ "),u.Sb(),u.Sb(),u.Tb(51,"mat-form-field",24),u.Tb(52,"mat-label"),u.yc(53,"Marca"),u.Sb(),u.Tb(54,"mat-select",25),u.Tb(55,"mat-option"),u.yc(56,"Ninguna"),u.Sb(),u.xc(57,Rt,2,2,"mat-option",26),u.fc(58,"async"),u.Sb(),u.Sb(),u.Sb(),u.Tb(59,"div",27),u.Tb(60,"button",28),u.yc(61,"Actualizar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(4),u.zc(e.item.name),u.Cb(1),u.kc("ngStyle",u.lc(13,$t))("formGroup",e.uploadForm),u.Cb(4),u.kc("ngIf",e.showMessage),u.Cb(1),u.kc("formGroup",e.uploadFileForm),u.Cb(4),u.kc("ngIf",e.showMessagePDF),u.Cb(1),u.kc("formGroup",e.myForm),u.Cb(19),u.kc("value",0),u.Cb(20),u.kc("value",0),u.Cb(3),u.kc("ngForOf",u.gc(58,11,e.marcasList)),u.Cb(3),u.kc("disabled",!e.myForm.valid))},directives:[d.h,d.d,o.t,o.o,i.n,o.g,O.r,o.c,o.n,o.f,i.m,d.e,V.c,V.f,L.b,o.j,o.q,V.g,j.a,O.m,i.l,d.c,g.a],pipes:[i.b],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.example-form[_ngcontent-%COMP%]{min-width:900px;max-width:1000px;width:100%}.title[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-size:26px;font-weight:400}*[_ngcontent-%COMP%]{font-weight:600;font-style:normal}.orderSC[_ngcontent-%COMP%], .tituloSC[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);-moz-column-gap:.5em;column-gap:.5em}.orderSC[_ngcontent-%COMP%]{grid-template-columns:repeat(12,1fr)}.scExtra[_ngcontent-%COMP%]{grid-column:1/7;width:100%}h4[_ngcontent-%COMP%]{margin:.7em 0;font-size:26px;font-weight:200;color:#ff7b00}.scDeno[_ngcontent-%COMP%]{grid-column:span 3}.scDenoTwo[_ngcontent-%COMP%]{grid-column:span 2}.mat-divider[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2em;grid-column:1/4}.fDivide[_ngcontent-%COMP%]{margin:0}.tituloInput[_ngcontent-%COMP%]{grid-column:span 2}.agregarCant[_ngcontent-%COMP%], .dismCant[_ngcontent-%COMP%], .eleminarMainSub[_ngcontent-%COMP%]{grid-column:span 2;height:63px}.marca[_ngcontent-%COMP%]{grid-column:2/4}.botonAgregarSubCont[_ngcontent-%COMP%]{grid-column:1/4;width:100%}input[type=file][_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ffd9b5;border-radius:.2em;padding:6px 12px;cursor:pointer;min-width:100px;display:inline-block;text-align:center}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:rgba(0,81,135,.17254901960784313)}.customUpload[_ngcontent-%COMP%]{display:inline-block;display:flex;align-items:center}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%)}img[_ngcontent-%COMP%]:hover{cursor:pointer}input[_ngcontent-%COMP%]{font-size:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-half-width[_ngcontent-%COMP%]{width:30%}.chipSubCant[_ngcontent-%COMP%]{grid-column:1/4}.tresCuatro[_ngcontent-%COMP%]{grid-column:1/3}.mat-checkbox[_ngcontent-%COMP%]{margin-bottom:1em;align-self:center;text-align:center}.mat-dialog-content[_ngcontent-%COMP%]{max-height:40vh}.put-margin[_ngcontent-%COMP%]{margin-right:1em}.new-item-form[_ngcontent-%COMP%]     .mat-form-field-infix{width:100%}.new-item-form[_ngcontent-%COMP%]     .mat-form-field-flex{height:62px}.topForm[_ngcontent-%COMP%]{margin-bottom:1em}.extraMRG[_ngcontent-%COMP%]{margin-left:1em;width:100px}.descriptionField[_ngcontent-%COMP%]{grid-column:1/4}.descriptionField[_ngcontent-%COMP%]     .mat-form-field-flex{height:auto}.nameForm[_ngcontent-%COMP%]{grid-column:1/4}b[_ngcontent-%COMP%]{color:#ff7b00;font-family:jubilat,sans-serif;font-weight:400}h2[_ngcontent-%COMP%]{color:#005087;font-size:22px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}.close-btn[_ngcontent-%COMP%]{margin-bottom:.5em}.uploads[_ngcontent-%COMP%]{padding-bottom:1em}.ficha-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,81,135,.10980392156862745)}h5[_ngcontent-%COMP%]{display:inline-block;margin:0}td[_ngcontent-%COMP%]{padding-right:8px}.mat-dialog-container[_ngcontent-%COMP%], [_nghost-%COMP%]{width:800px}.mat-dialog-content[_ngcontent-%COMP%]{display:grid;-moz-column-gap:.5em;column-gap:.5em;grid-template-columns:repeat(3,1fr)}.names[_ngcontent-%COMP%]{grid-column:span 2}@media screen and (max-width:800px) and (orientation:portrait){.title[_ngcontent-%COMP%]{font-size:20px}.put-margin[_ngcontent-%COMP%]{margin-right:0}.example-half-width[_ngcontent-%COMP%]{width:100%}.close-btn[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{margin-bottom:.5em}h1[_ngcontent-%COMP%]{line-height:1.5em}}.mat-dialog-content[_ngcontent-%COMP%]{max-height:50vh}@media screen and (max-width:600px){.mat-dialog-content[_ngcontent-%COMP%]{max-height:35vh}.marca[_ngcontent-%COMP%], .precioForm[_ngcontent-%COMP%]{grid-column:span 4}}"]}),t})();var qt=n("FtGj"),Ht=n("XNiG"),Yt=n("VRyK"),Qt=n("R0Ic");const Kt=["mat-sort-header",""];function Xt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",3),u.ac("@arrowPosition.start",function(){return u.rc(t),u.ec()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return u.rc(t),u.ec()._disableViewStateAnimation=!1}),u.Ob(1,"div",4),u.Tb(2,"div",5),u.Ob(3,"div",6),u.Ob(4,"div",7),u.Ob(5,"div",8),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.kc("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),u.Cb(2),u.kc("@indicator",t._getArrowDirectionState()),u.Cb(1),u.kc("@leftPointer",t._getArrowDirectionState()),u.Cb(1),u.kc("@rightPointer",t._getArrowDirectionState())}}const Jt=["*"];class Wt{}const Zt=Object(O.A)(Object(O.y)(Wt));let te=(()=>{class t extends Zt{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new Ht.a,this.start="asc",this._direction="",this.sortChange=new u.o}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(v.c)(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return ee(e||t)},t.\u0275dir=u.Ib({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[u.zb,u.Ab]}),t})();const ee=u.Vb(te),ne=O.b.ENTERING+" "+O.a.STANDARD_CURVE,ie={indicator:Object(Qt.m)("indicator",[Object(Qt.j)("active-asc, asc",Object(Qt.k)({transform:"translateY(0px)"})),Object(Qt.j)("active-desc, desc",Object(Qt.k)({transform:"translateY(10px)"})),Object(Qt.l)("active-asc <=> active-desc",Object(Qt.e)(ne))]),leftPointer:Object(Qt.m)("leftPointer",[Object(Qt.j)("active-asc, asc",Object(Qt.k)({transform:"rotate(-45deg)"})),Object(Qt.j)("active-desc, desc",Object(Qt.k)({transform:"rotate(45deg)"})),Object(Qt.l)("active-asc <=> active-desc",Object(Qt.e)(ne))]),rightPointer:Object(Qt.m)("rightPointer",[Object(Qt.j)("active-asc, asc",Object(Qt.k)({transform:"rotate(45deg)"})),Object(Qt.j)("active-desc, desc",Object(Qt.k)({transform:"rotate(-45deg)"})),Object(Qt.l)("active-asc <=> active-desc",Object(Qt.e)(ne))]),arrowOpacity:Object(Qt.m)("arrowOpacity",[Object(Qt.j)("desc-to-active, asc-to-active, active",Object(Qt.k)({opacity:1})),Object(Qt.j)("desc-to-hint, asc-to-hint, hint",Object(Qt.k)({opacity:.54})),Object(Qt.j)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Object(Qt.k)({opacity:0})),Object(Qt.l)("* => asc, * => desc, * => active, * => hint, * => void",Object(Qt.e)("0ms")),Object(Qt.l)("* <=> *",Object(Qt.e)(ne))]),arrowPosition:Object(Qt.m)("arrowPosition",[Object(Qt.l)("* => desc-to-hint, * => desc-to-active",Object(Qt.e)(ne,Object(Qt.g)([Object(Qt.k)({transform:"translateY(-25%)"}),Object(Qt.k)({transform:"translateY(0)"})]))),Object(Qt.l)("* => hint-to-desc, * => active-to-desc",Object(Qt.e)(ne,Object(Qt.g)([Object(Qt.k)({transform:"translateY(0)"}),Object(Qt.k)({transform:"translateY(25%)"})]))),Object(Qt.l)("* => asc-to-hint, * => asc-to-active",Object(Qt.e)(ne,Object(Qt.g)([Object(Qt.k)({transform:"translateY(25%)"}),Object(Qt.k)({transform:"translateY(0)"})]))),Object(Qt.l)("* => hint-to-asc, * => active-to-asc",Object(Qt.e)(ne,Object(Qt.g)([Object(Qt.k)({transform:"translateY(0)"}),Object(Qt.k)({transform:"translateY(-25%)"})]))),Object(Qt.j)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Object(Qt.k)({transform:"translateY(0)"})),Object(Qt.j)("hint-to-desc, active-to-desc, desc",Object(Qt.k)({transform:"translateY(-25%)"})),Object(Qt.j)("hint-to-asc, active-to-asc, asc",Object(Qt.k)({transform:"translateY(25%)"}))]),allowChildren:Object(Qt.m)("allowChildren",[Object(Qt.l)("* <=> *",[Object(Qt.h)("@*",Object(Qt.f)(),{optional:!0})])])};let oe=(()=>{class t{constructor(){this.changes=new Ht.a,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(u.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ae={provide:oe,deps:[[new u.C,new u.L,oe]],useFactory:function(t){return t||new oe}};class re{}const se=Object(O.y)(re);let ce=(()=>{class t extends se{constructor(t,e,n,i,o,a){super(),this._intl=t,this._changeDetectorRef=e,this._sort=n,this._columnDef=i,this._focusMonitor=o,this._elementRef=a,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._rerenderSubscription=Object(Yt.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(v.c)(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const e=!!t;e!==this._showIndicatorHint&&(this._setIndicatorHintVisible(e),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_handleClick(){this._isDisabled()||this._toggleOnInteraction()}_handleKeydown(t){this._isDisabled()||t.keyCode!==qt.o&&t.keyCode!==qt.g||(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(oe),u.Nb(u.h),u.Nb(te,8),u.Nb("MAT_SORT_HEADER_COLUMN_DEF",8),u.Nb(S.h),u.Nb(u.l))},t.\u0275cmp=u.Hb({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&u.ac("click",function(){return e._handleClick()})("keydown",function(t){return e._handleKeydown(t)})("mouseenter",function(){return e._setIndicatorHintVisible(!0)})("mouseleave",function(){return e._setIndicatorHintVisible(!1)}),2&t&&(u.Db("aria-sort",e._getAriaSortAttribute()),u.Fb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[u.zb],attrs:Kt,ngContentSelectors:Jt,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(u.jc(),u.Tb(0,"div",0),u.Tb(1,"div",1),u.ic(2),u.Sb(),u.xc(3,Xt,6,6,"div",2),u.Sb()),2&t&&(u.Fb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),u.Db("tabindex",e._isDisabled()?null:0),u.Cb(3),u.kc("ngIf",e._renderArrow()))},directives:[i.m],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[ie.indicator,ie.leftPointer,ie.rightPointer,ie.arrowOpacity,ie.arrowPosition,ie.allowChildren]},changeDetection:0}),t})(),le=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},providers:[ae],imports:[[i.c,O.j]]}),t})();var me=n("+0xr"),de=n("Iab2"),ue=n("7EHt");function ge(t,e){1&t&&(u.Tb(0,"h3"),u.yc(1,"Marca:"),u.Sb())}function be(t,e){if(1&t&&(u.Tb(0,"mat-expansion-panel",3),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title"),u.xc(3,ge,2,0,"h3",11),u.Sb(),u.Ob(4,"mat-panel-description"),u.Sb(),u.Tb(5,"h4"),u.yc(6),u.Sb(),u.Sb()),2&t){const t=u.ec();u.kc("expanded",!1),u.Cb(3),u.kc("ngIf",t.data.marca),u.Cb(3),u.zc(t.data.marca)}}function pe(t,e){if(1&t&&(u.Tb(0,"th",23),u.yc(1),u.Sb()),2&t){const t=u.ec(2);u.Cb(1),u.Ac(" ",t.data.subConteo.name," ")}}function he(t,e){if(1&t&&(u.Tb(0,"td",24),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.name," ")}}function fe(t,e){1&t&&(u.Tb(0,"td",25),u.yc(1," Total "),u.Sb())}function Ce(t,e){if(1&t&&(u.Tb(0,"th",23),u.yc(1),u.Sb()),2&t){const t=u.ec(2);u.Cb(1),u.Ac(" ",t.data.subConteo.nameSecond," ")}}function ve(t,e){if(1&t&&(u.Tb(0,"td",24),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.nameSecond," ")}}function _e(t,e){1&t&&u.Ob(0,"td",25)}function Oe(t,e){1&t&&(u.Tb(0,"th",23),u.yc(1," Cantidad "),u.Sb())}function Se(t,e){if(1&t&&(u.Tb(0,"td",24),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.cantidad," ")}}function ye(t,e){if(1&t&&(u.Tb(0,"td",25),u.yc(1),u.Sb()),2&t){const t=u.ec(2);u.Cb(1),u.zc(t.data.cantidad)}}function xe(t,e){1&t&&u.Ob(0,"tr",26)}function Me(t,e){1&t&&u.Ob(0,"tr",27)}function Pe(t,e){1&t&&u.Ob(0,"tr",28)}function we(t,e){if(1&t&&(u.Tb(0,"div",12),u.Tb(1,"table",13),u.Rb(2,14),u.xc(3,pe,2,1,"th",15),u.xc(4,he,2,1,"td",16),u.xc(5,fe,2,0,"td",17),u.Qb(),u.Rb(6,18),u.xc(7,Ce,2,1,"th",15),u.xc(8,ve,2,1,"td",16),u.xc(9,_e,1,0,"td",17),u.Qb(),u.Rb(10,19),u.xc(11,Oe,2,0,"th",15),u.xc(12,Se,2,1,"td",16),u.xc(13,ye,2,1,"td",17),u.Qb(),u.xc(14,xe,1,0,"tr",20),u.xc(15,Me,1,0,"tr",21),u.xc(16,Pe,1,0,"tr",22),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Cb(1),u.kc("dataSource",t.dataSource),u.Cb(13),u.kc("matHeaderRowDef",t.displayedColumnsPos),u.Cb(1),u.kc("matRowDefColumns",t.displayedColumnsPos),u.Cb(1),u.kc("matFooterRowDef",t.displayedColumnsPos)}}const Te=function(t){return{balanceNegativo:t}};let ke=(()=>{class t{constructor(t,e,n){this.inventarioMNG=t,this.dialogRef=e,this.data=n,this.panelOpenState=!1,this.displayedColumnsPos=["name","nameSecond","cantidad"],this.balance=0,this.datasourceTest=[{name:"Test1",nameSecond:"test2",cantidad:2}],n.subConteo&&(this.dataSource=new me.o(n.subConteo.order))}set content(t){this.data.subConteo&&(this.dataSource.sort=t)}ngOnInit(){this.inventarioMNG.getItemBalance(this.data.codigo).subscribe(t=>{t&&(this.balance=t.message)})}descargarReporteItem(){this.inventarioMNG.getExcelReportItem(this.data.codigo).subscribe(t=>{t&&Object(de.saveAs)(t)})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-temporal-show-item-info"]],viewQuery:function(t,e){if(1&t&&u.Dc(te,1),2&t){let t;u.oc(t=u.bc())&&(e.content=t.first)}},decls:60,vars:29,consts:[["mat-dialog-title",""],[1,"itemInfoGrid"],[1,"accordionInfo"],[3,"expanded"],[3,"expanded",4,"ngIf"],[1,"reporteText"],[3,"ngClass"],["mat-stroked-button","","color","primary",3,"click"],["class","tablContenedor",4,"ngIf"],["align","end"],["mat-button","","color","primary","mat-dialog-close",""],[4,"ngIf"],[1,"tablContenedor"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","nameSecond"],["matColumnDef","cantidad"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(u.Tb(0,"h2",0),u.yc(1),u.Sb(),u.Tb(2,"mat-dialog-content"),u.Tb(3,"div",1),u.Tb(4,"mat-accordion",2),u.Tb(5,"mat-expansion-panel",3),u.Tb(6,"mat-expansion-panel-header"),u.Tb(7,"mat-panel-title"),u.Tb(8,"h3"),u.yc(9,"Descripci\xf3n:"),u.Sb(),u.Sb(),u.Sb(),u.Tb(10,"p"),u.yc(11),u.Sb(),u.Sb(),u.xc(12,be,7,3,"mat-expansion-panel",4),u.Tb(13,"mat-expansion-panel",3),u.Tb(14,"mat-expansion-panel-header"),u.Tb(15,"mat-panel-title"),u.Tb(16,"h3"),u.yc(17,"Precio:"),u.Sb(),u.Sb(),u.Ob(18,"mat-panel-description"),u.Sb(),u.Tb(19,"h4"),u.yc(20,"Precio IGV: "),u.Tb(21,"b"),u.yc(22),u.fc(23,"currency"),u.Sb(),u.yc(24," | Precio No IGV: "),u.Tb(25,"b"),u.yc(26),u.fc(27,"currency"),u.Sb(),u.Sb(),u.Sb(),u.Tb(28,"mat-expansion-panel",3),u.Tb(29,"mat-expansion-panel-header"),u.Tb(30,"mat-panel-title"),u.Tb(31,"h3"),u.yc(32,"Cantidades:"),u.Sb(),u.Sb(),u.Ob(33,"mat-panel-description"),u.Sb(),u.Tb(34,"h4"),u.yc(35,"Total: "),u.Tb(36,"b"),u.yc(37),u.Sb(),u.Sb(),u.Sb(),u.Tb(38,"mat-expansion-panel",3),u.Tb(39,"mat-expansion-panel-header"),u.Tb(40,"mat-panel-title"),u.Tb(41,"h3"),u.yc(42,"Reporte:"),u.Sb(),u.Sb(),u.Ob(43,"mat-panel-description"),u.Sb(),u.Tb(44,"h4",5),u.yc(45,"Costo Propio: "),u.Tb(46,"span"),u.yc(47),u.fc(48,"currency"),u.Sb(),u.Sb(),u.Tb(49,"h4",5),u.yc(50,"Balance Total: "),u.Tb(51,"span",6),u.yc(52),u.fc(53,"currency"),u.Sb(),u.Sb(),u.Tb(54,"button",7),u.ac("click",function(){return e.descargarReporteItem()}),u.yc(55,"Decargar Reporte"),u.Sb(),u.Sb(),u.Sb(),u.xc(56,we,17,4,"div",8),u.Sb(),u.Sb(),u.Tb(57,"mat-dialog-actions",9),u.Tb(58,"button",10),u.yc(59,"Listo"),u.Sb(),u.Sb()),2&t&&(u.Cb(1),u.Ac("",e.data.name," info:"),u.Cb(4),u.kc("expanded",!0),u.Cb(6),u.zc(e.data.description),u.Cb(1),u.kc("ngIf",e.data.marca),u.Cb(1),u.kc("expanded",!1),u.Cb(9),u.zc(u.hc(23,15,e.data.priceIGV,"S/")),u.Cb(4),u.zc(u.hc(27,18,e.data.priceNoIGV,"S/")),u.Cb(2),u.kc("expanded",!1),u.Cb(9),u.Bc("",e.data.cantidad," ",e.data.unidadDeMedida,""),u.Cb(1),u.kc("expanded",!1),u.Cb(9),u.zc(u.hc(48,21,e.data.costoPropio,"S/")),u.Cb(4),u.kc("ngClass",u.mc(27,Te,e.balance<0)),u.Cb(1),u.zc(u.hc(53,24,e.balance,"S/")),u.Cb(4),u.kc("ngIf",e.data.subConteo))},directives:[d.h,d.e,ue.a,ue.c,ue.e,ue.f,i.m,ue.d,i.k,g.a,d.c,d.d,me.n,te,me.c,me.i,me.b,me.e,me.k,me.m,me.g,me.h,ce,me.a,me.d,me.j,me.l,me.f],pipes:[i.d],styles:["b[_ngcontent-%COMP%]{color:#ff7b00}b[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-weight:200}h2[_ngcontent-%COMP%]{color:#005087;font-family:jubilat,sans-serif;font-size:26px}h3[_ngcontent-%COMP%]{font-size:20px;color:#ff7b00}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:200;margin:0;grid-column:1/7}h4[_ngcontent-%COMP%]{color:#005087}h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}.accordionInfo[_ngcontent-%COMP%], .tablContenedor[_ngcontent-%COMP%]{grid-column:1/7}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:33%}.reporteText[_ngcontent-%COMP%]{margin-bottom:1em;color:#000}.balanceNegativo[_ngcontent-%COMP%]{color:#e6361e}.itemInfoGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);-moz-column-gap:.8em;column-gap:.8em;row-gap:.8em}@media screen and (max-width:800px){h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:16px}}"]}),t})();function Ie(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",7),u.Tb(1,"mat-form-field",8),u.Tb(2,"mat-label"),u.yc(3,"Comentario..."),u.Sb(),u.Ob(4,"input",9),u.Sb(),u.Tb(5,"mat-form-field",10),u.ac("input",function(){return u.rc(t),u.ec().actCantidad()}),u.Tb(6,"mat-label"),u.yc(7,"Cantidad..."),u.Sb(),u.Ob(8,"input",11),u.Sb(),u.Tb(9,"mat-form-field",12),u.Tb(10,"mat-label"),u.yc(11,"Costo..."),u.Sb(),u.Tb(12,"input",13),u.ac("focusout",function(){return u.rc(t),u.ec().convertPriceIGV()}),u.Sb(),u.Tb(13,"span",14),u.yc(14,"S/ "),u.Sb(),u.Sb(),u.Sb()}}function Ne(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",22),u.Tb(1,"div",23),u.Tb(2,"mat-form-field",24),u.Tb(3,"mat-label"),u.yc(4,"Sub..."),u.Sb(),u.Ob(5,"input",16),u.Sb(),u.Tb(6,"mat-form-field",24),u.Tb(7,"mat-label"),u.yc(8,"Sub II..."),u.Sb(),u.Ob(9,"input",17),u.Sb(),u.Tb(10,"mat-form-field",25),u.Tb(11,"mat-label"),u.yc(12,"Cantidad"),u.Sb(),u.Tb(13,"input",26),u.ac("input",function(){return u.rc(t),u.ec(2).sumCantidades()}),u.Sb(),u.Sb(),u.Tb(14,"button",27),u.ac("dblclick",function(){u.rc(t);const n=e.index;return u.ec(2).eliminarOrder(n)}),u.yc(15,"-"),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.index;u.Cb(1),u.kc("formGroupName",t)}}function Fe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",7),u.Tb(1,"mat-form-field",15),u.Tb(2,"mat-label"),u.yc(3,"Asignacion..."),u.Sb(),u.Ob(4,"input",16),u.Sb(),u.Tb(5,"mat-form-field",15),u.Tb(6,"mat-label"),u.yc(7,"Asignacion II..."),u.Sb(),u.Ob(8,"input",17),u.Sb(),u.Tb(9,"mat-form-field",18),u.Tb(10,"mat-label"),u.yc(11,"Comentario..."),u.Sb(),u.Ob(12,"input",9),u.Sb(),u.Tb(13,"mat-form-field",12),u.Tb(14,"mat-label"),u.yc(15,"Costo..."),u.Sb(),u.Tb(16,"input",13),u.ac("focusout",function(){return u.rc(t),u.ec().convertPriceIGV()}),u.Sb(),u.Tb(17,"span",14),u.yc(18,"S/ "),u.Sb(),u.Sb(),u.Tb(19,"div",19),u.xc(20,Ne,16,1,"div",20),u.Sb(),u.Tb(21,"button",21),u.ac("click",function(){return u.rc(t),u.ec().agregarOrder()}),u.yc(22,"Agregar"),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Cb(20),u.kc("ngForOf",t.order.controls)}}function De(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",28),u.ac("click",function(){u.rc(t);const e=u.ec();return e.actualizarCantidades(e.editarCantForm.getRawValue())}),u.yc(1,"Actualizar"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.editarCantForm.valid)}}function Ae(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",28),u.ac("click",function(){u.rc(t);const e=u.ec();return e.actualizarCantidadesSimple(e.editarCantForm.value)}),u.yc(1,"Actualizar"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.editarCantForm.valid)}}let Ge=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.inventarioMNG=i,this.cantidadTotal=new r.a(this.data.cantidad)}ngOnInit(){this.data.subConteo?(this.editarCantForm=this.formBuilder.group({name:this.formBuilder.control({value:this.data.subConteo.name,disabled:!0},o.s.compose([o.s.required,o.s.minLength(2),o.s.maxLength(30)])),costoVar:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/)])),nameSecond:this.formBuilder.control({value:this.data.subConteo.nameSecond,disabled:!0},o.s.compose([o.s.required,o.s.minLength(2),o.s.maxLength(30)])),comentario:this.formBuilder.control({value:"",disabled:!1},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(30)])),order:this.formBuilder.array([])}),this.order=this.editarCantForm.get("order"),this.data.subConteo.order.forEach(t=>{this.addOrder(t.name,t.nameSecond,!0,!0,t.cantidad)})):this.editarCantForm=this.formBuilder.group({costoVar:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/)])),comentario:this.formBuilder.control({value:"",disabled:!1},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(30)])),cantidad:this.formBuilder.control("",o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)]))})}addOrder(t,e,n,i,a){const r=this.formBuilder.group({name:this.formBuilder.control({value:t,disabled:n},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),nameSecond:this.formBuilder.control({value:e,disabled:i},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),cantidad:this.formBuilder.control(a,o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)]))});this.order.push(r)}agregarOrder(){this.order.at(0).get("nameSecond").value?this.addOrder("","",!1,!1,0):this.addOrder("","",!1,!0,0)}eliminarOrder(t){this.order.removeAt(t)}sumCantidades(){let t=0;for(let e=0;e<this.order.controls.length;e++)t+=this.order.at(e).get("cantidad").value;this.cantidadTotal.next(t)}actCantidad(){this.cantidadTotal.next(this.editarCantForm.get("cantidad").value)}actualizarCantidades(t){const e={subConteo:{name:t.name.trim(),nameSecond:t.nameSecond.trim(),order:t.order},cantidadAntigua:this.data.cantidad,cantidadNueva:this.cantidadTotal.value,costoVar:t.costoVar,comentario:t.comentario.trim(),codigo:this.data.codigo};e.subConteo.order.forEach(t=>{t.name=t.name.trim(),t.nameSecond&&(t.nameSecond=t.nameSecond.trim())}),this.inventarioMNG.uploadVariacion(e).subscribe(t=>{t&&this.dialogRef.close(t)})}convertPriceIGV(){const t=this.editarCantForm.get("costoVar").value,e=this.editarCantForm.get("costoVar").valid;this.editarCantForm.get("costoVar").setValue(this.rebrandNumber(e,t))}actualizarCantidadesSimple(t){const e={cantidadAntigua:this.data.cantidad,cantidadNueva:this.cantidadTotal.value,costoVar:t.costoVar,comentario:t.comentario.trim(),codigo:this.data.codigo};this.inventarioMNG.uploadVariacionSimple(e).subscribe(t=>{t&&this.dialogRef.close(t)})}rebrandNumber(t,e){const n=e.toString().trim().replace(",","."),i=n.indexOf(".");let o="";return t&&(o=-1===n.indexOf(".")?n+".00":""===n.charAt(i+1)?n+"00":""===n.charAt(i+2)?n+"0":n),o}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a),u.Nb(o.e),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-editar-cantidades-dialog"]],decls:19,vars:10,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content","","class","gridDisplay",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close","","color","primary"],["type","submit","mat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-dialog-content","",1,"gridDisplay"],["appearance","fill",1,"comentarioSecond"],["spellcheck","false","formControlName","comentario","maxlength","80","matInput",""],["appearance","fill",1,"cantidad",3,"input"],["spellcheck","false","formControlName","cantidad","type","number","min","0","step","1","matInput",""],["appearance","fill",1,"example-full-width","precioForm"],["spellcheck","false","name","costoVar","id","costoVar","formControlName","costoVar","min","0","step","1","type","number","matInput","",1,"example-right-align",3,"focusout"],["matPrefix",""],["appearance","fill",1,"tituloInput"],["spellcheck","false","formControlName","name","maxlength","60","matInput",""],["spellcheck","false","formControlName","nameSecond","maxlength","60","matInput",""],["appearance","fill",1,"comentario"],["formArrayName","order",1,"formArrayContainer"],["textIndex","i",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","color","accent","mat-button","",1,"botonAgregarSubCont",3,"click"],["textIndex","i"],[1,"gridInterna",3,"formGroupName"],["appearance","fill",1,"names"],["appearance","fill",1,"cantidad"],["spellcheck","false","formControlName","cantidad","type","number","min","0","step","1","matInput","",3,"input"],["type","button","mat-button","","mat-stroked-button","","color","accent",1,"cantidad","deleteBtn",3,"dblclick"],["type","submit","mat-button","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2),u.Sb(),u.Tb(3,"h2",1),u.Tb(4,"b"),u.yc(5,"Total Original:"),u.Sb(),u.yc(6),u.Tb(7,"b"),u.yc(8,"Total Nuevo:"),u.Sb(),u.yc(9),u.fc(10,"async"),u.Sb(),u.Tb(11,"form",2),u.xc(12,Ie,15,0,"div",3),u.xc(13,Fe,23,1,"div",3),u.Tb(14,"mat-dialog-actions",4),u.Tb(15,"button",5),u.yc(16,"Cancelar"),u.Sb(),u.xc(17,De,2,1,"button",6),u.xc(18,Ae,2,1,"button",6),u.Sb(),u.Sb()),2&t&&(u.Cb(2),u.Ac("Editar Cantidades De ",e.data.name,""),u.Cb(4),u.Ac(" ",e.data.cantidad," | "),u.Cb(3),u.Ac(" ",u.gc(10,8,e.cantidadTotal),""),u.Cb(2),u.kc("formGroup",e.editarCantForm),u.Cb(1),u.kc("ngIf",!e.data.subConteo),u.Cb(1),u.kc("ngIf",e.data.subConteo),u.Cb(4),u.kc("ngIf",e.data.subConteo),u.Cb(1),u.kc("ngIf",!e.data.subConteo))},directives:[d.h,d.d,o.t,o.o,o.g,i.m,d.c,g.a,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,o.q,V.g,o.d,i.l,o.h],pipes:[i.b],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}b[_ngcontent-%COMP%]{color:#014c7e}.precioForm[_ngcontent-%COMP%]{grid-column:span 2}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{color:#014c7e}.botonAgregarSubCont[_ngcontent-%COMP%]{grid-column:span 6}b[_ngcontent-%COMP%]{color:#ff7b00;font-weight:600}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%);margin-bottom:10px}img[_ngcontent-%COMP%]:hover{cursor:pointer}.show[_ngcontent-%COMP%]{display:block}.dontShow[_ngcontent-%COMP%]{display:none}.gridDisplay[_ngcontent-%COMP%]{display:grid;-moz-column-gap:1em;column-gap:1em;grid-template-columns:repeat(6,1fr)}.tituloInput[_ngcontent-%COMP%]{grid-column:span 3}.formArrayContainer[_ngcontent-%COMP%]{grid-column:span 6}.deleteBtn[_ngcontent-%COMP%]{height:59.5px}.names[_ngcontent-%COMP%]{grid-column:span 2}.cantidad[_ngcontent-%COMP%]{grid-column:span 1}.comentario[_ngcontent-%COMP%]{grid-column:span 4}.comentarioSecond[_ngcontent-%COMP%]{grid-column:span 3}.example-right-align[_ngcontent-%COMP%]{grid-column:span 2}.gridInterna[_ngcontent-%COMP%]{display:grid;-moz-column-gap:1em;column-gap:1em;grid-template-columns:repeat(6,1fr)}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}}.mat-divider[_ngcontent-%COMP%]{margin-top:1em}@media screen and (max-width:600px){.mat-dialog-content[_ngcontent-%COMP%]{max-height:35vh}h2[_ngcontent-%COMP%]{font-size:18px}h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:16px}.cantidad[_ngcontent-%COMP%]{grid-column:span 4}.names[_ngcontent-%COMP%]{grid-column:span 3}.deleteBtn[_ngcontent-%COMP%]{grid-column:span 2}.comentario[_ngcontent-%COMP%], .formArrayContainer[_ngcontent-%COMP%], .precioForm[_ngcontent-%COMP%]{grid-column:span 6}}"]}),t})();var Ve=n("Qu3c");const je=function(){return{color:"#e2e2e2",cursor:"pointer"}};function Le(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-icon",12),u.ac("click",function(){return u.rc(t),u.ec().openDialogEliminar()}),u.yc(1,"delete"),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,je))}function ze(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",13),u.ac("click",function(){return u.rc(t),u.ec().descargarFicha()}),u.Ob(1,"i",14),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",!t.item.ficha)}}function Be(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",15),u.ac("click",function(){return u.rc(t),u.ec().conectartWpp()}),u.Ob(1,"i",16),u.Sb()}}function Ee(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",17),u.ac("click",function(){return u.rc(t),u.ec().openDialogVenta()}),u.yc(1,"Vender"),u.Sb()}}function Re(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",18),u.ac("click",function(){return u.rc(t),u.ec().openDialogEditar()}),u.Tb(1,"mat-icon"),u.yc(2,"edit"),u.Sb(),u.Sb()}}function $e(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",19),u.ac("click",function(){return u.rc(t),u.ec().openDialogEditarCantidades()}),u.Tb(1,"mat-icon"),u.yc(2,"bar_chart"),u.Sb(),u.Sb()}}const Ue=function(t){return{"background-image":t}};let qe=(()=>{class t{constructor(t,e,n,i,o){this.dialog=t,this.inventarioMNG=e,this.snackBar=n,this.router=i,this.authService=o,this.deleteEvent=new u.o,this.itemInfo=new r.a(null),this.urlOfImage=new r.a(null),this.priceToShow=new r.a(null)}ngOnInit(){this.itemInfo.next(this.item),this.priceToShow.next(this.rebrandNumber(!0,this.itemInfo.value.priceIGV)),this.urlOfImage.next("https://inventario-sirio-dinar.herokuapp.com/inventario/image/"+this.itemInfo.value.photo)}openDialogVenta(){this.dialog.open(Lt,{width:"600px",data:this.itemInfo.value}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{t&&("Falta"===t.message?this.inventarioMNG.getItem(this.itemInfo.value.codigo).subscribe(e=>{this.itemInfo.next(t.item)}):"Succes"===t.message?(this.snackBar.open("Item Vendido!!","",{duration:2e3}),this.itemInfo.next(t.item)):"SuccesAG"===t.message.split(" ")[0]?this.snackBar.open("Venta Creada; Codigo: "+t.message.split(" ")[1],"",{duration:2e3}):"succesAI"===t.message.split("|")[0]&&this.snackBar.open(t.message.split("|")[1],"",{duration:2e3}))})}openDialogEliminar(){this.deleteEvent.emit(this.itemInfo.value)}goToLink(t){window.open(t,"_blank")}conectartWpp(){window.open(`https://wa.me/51977426349?text=Buenas estoy interesado en ${this.item.name}, quisiera obtener m\xe1s informaci\xf3n`,"_blank")}openDialogEditar(){this.dialog.open(Ut,{width:"800px",data:this.itemInfo.value}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{this.inventarioMNG.getItem(this.item.codigo).subscribe(t=>{this.itemInfo.next(t),this.priceToShow.next(this.rebrandNumber(!0,this.itemInfo.value.priceIGV)),this.urlOfImage.next("https://inventario-sirio-dinar.herokuapp.com/inventario/image/"+this.itemInfo.value.photo)})})}openDialogEditarCantidades(){this.dialog.open(Ge,{width:"800px",data:this.itemInfo.value}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{console.log(t),t&&this.itemInfo.next(t)})}rebrandNumber(t,e){const n=e.toString().trim().replace(",","."),i=n.indexOf(".");let o="";return t&&(o=-1===n.indexOf(".")?n+".00":""===n.charAt(i+1)?n+"00":""===n.charAt(i+2)?n+"0":n),o}openItemInfo(){this.dialog.open(ke,{width:"600px",data:this.item})}descargarFicha(){window.open("https://inventario-sirio-dinar.herokuapp.com/inventario/pdf/ficha-"+this.itemInfo.value.codigo+".pdf","_blank")}goToItemPage(){this.router.navigate(["/inventario",this.parsedRoute(this.itemInfo.value.tipo),this.parsedRoute(this.itemInfo.value.subTipo),this.item.codigo])}parsedRoute(t){return t.trim().replace(/ /g,"_")}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.b),u.Nb(h.a),u.Nb(f.a),u.Nb(a.b),u.Nb(B.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-item-card"]],inputs:{item:"item"},outputs:{deleteEvent:"deleteEvent"},decls:23,vars:26,consts:[[1,"item-card"],[1,"title-card"],[1,"title"],[1,"openItemInfo",3,"click"],["class","delete",3,"ngStyle","click",4,"ngIf"],[1,"img-of-product",3,"ngStyle","click"],[1,"final-card"],["class","consumidor-btn","matTooltip","Ficha Tecnica","mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],["matTooltip","Contactar Por WhatsApp","class","consumidor-btn","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["class","vender",3,"click",4,"ngIf"],["class","editar",3,"click",4,"ngIf"],["class","editar editarCantidades",3,"click",4,"ngIf"],[1,"delete",3,"ngStyle","click"],["matTooltip","Ficha Tecnica","mat-stroked-button","","color","primary",1,"consumidor-btn",3,"disabled","click"],[1,"far","fa-file-alt",2,"font-size","24px"],["matTooltip","Contactar Por WhatsApp","mat-stroked-button","","color","primary",1,"consumidor-btn",3,"click"],[1,"fa","fa-whatsapp",2,"font-size","24px"],[1,"vender",3,"click"],[1,"editar",3,"click"],[1,"editar","editarCantidades",3,"click"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"div",1),u.Tb(2,"div",2),u.Tb(3,"h3",3),u.ac("click",function(){return e.goToItemPage()}),u.yc(4),u.fc(5,"async"),u.Sb(),u.Tb(6,"h4",3),u.ac("click",function(){return e.goToItemPage()}),u.yc(7),u.fc(8,"async"),u.fc(9,"async"),u.fc(10,"async"),u.Sb(),u.Sb(),u.xc(11,Le,2,2,"mat-icon",4),u.Sb(),u.Tb(12,"div",5),u.ac("click",function(){return e.goToItemPage()}),u.fc(13,"async"),u.Sb(),u.Tb(14,"div",6),u.xc(15,ze,2,1,"button",7),u.xc(16,Be,2,0,"button",8),u.xc(17,Ee,2,0,"button",9),u.xc(18,Re,3,0,"button",10),u.xc(19,$e,3,0,"button",11),u.Tb(20,"h6"),u.yc(21),u.fc(22,"async"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(4),u.zc(u.gc(5,12,e.itemInfo).name),u.Cb(3),u.Cc("Stock: ",u.gc(8,14,e.itemInfo).cantidad," ",u.gc(9,16,e.itemInfo).unidadDeMedida," | ",u.gc(10,18,e.itemInfo).codigo,""),u.Cb(4),u.kc("ngIf",e.authService.loggedIn()&&e.authService.isAdmin()),u.Cb(1),u.kc("ngStyle",u.mc(24,Ue,"url("+u.gc(13,20,e.urlOfImage)+")")),u.Cb(3),u.kc("ngIf",!e.authService.loggedIn()||"low"===e.authService.getTtype()),u.Cb(1),u.kc("ngIf",!e.authService.loggedIn()||"low"===e.authService.getTtype()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(2),u.Ac("S/",u.gc(22,22,e.priceToShow),""))},directives:[i.m,i.n,G.a,g.a,Ve.a],pipes:[i.b],styles:[".main[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.img-of-product[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%}.img-of-product[_ngcontent-%COMP%]:hover{cursor:pointer}.precioPub[_ngcontent-%COMP%]{grid-column:span 6}.consumidor-btn[_ngcontent-%COMP%]{grid-column:span 2}.item-card[_ngcontent-%COMP%]{display:grid;width:100%;box-shadow:0 0 2px 1px rgba(0,0,0,.1);background-color:#fff;border-radius:.3em;grid-template-rows:70px 280px 70px;height:420px;transition:.2s ease-out}.item-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 9px 1px rgba(0,0,0,.15);transform:scale(1.02) translate(6px,-3px)}.title-card[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{font-size:18px;color:#e87200;font-weight:600}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#005087;font-family:futura-pt,sans-serif;font-weight:300;font-style:normal}.menu[_ngcontent-%COMP%]{overflow:hidden;background-color:#005087;width:20%;box-shadow:3px 1px 3px 1px rgba(0,0,0,.38)}.item-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;padding:10px;overflow:auto;font-family:futura-pt,sans-serif;font-weight:400;font-style:normal}.mat-icon[_ngcontent-%COMP%]{line-height:28px;font-size:22px}.mat-dialog-container[_ngcontent-%COMP%]{width:800px}.user-ctn[_ngcontent-%COMP%]{margin:auto;width:50%}.user-ctn[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin:6px 0 0;font-size:36px;font-weight:200}.show-opc[_ngcontent-%COMP%]{margin:1.5em 0}.icon-img[_ngcontent-%COMP%]{color:#fff}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{text-decoration:none;list-style-type:none;padding:0;margin:0;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}.grupo[_ngcontent-%COMP%]{height:40px;line-height:40px;padding:10px;border-radius:.3em}.grupo[_ngcontent-%COMP%], .grupo-interno[_ngcontent-%COMP%]{display:block;cursor:pointer;display:grid;grid-template-columns:90% 10%}.grupo-interno[_ngcontent-%COMP%]{height:30px;line-height:30px;padding:0 20px;border-radius:.2em;color:#e9b483}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e87200;font-size:20px;margin:0;vertical-align:text-bottom;font-weight:600}.down-btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block}.down-btn[_ngcontent-%COMP%]{background-image:url(/assets/down.svg);width:18px;height:18px;filter:invert(54%) sepia(35%) saturate(4661%) hue-rotate(3deg) brightness(92%) contrast(104%);transform:rotate(90deg);align-self:center;margin:auto}.grupo-interno[_ngcontent-%COMP%]:hover, .grupo[_ngcontent-%COMP%]:hover{background-color:#014c7e}.user-photo[_ngcontent-%COMP%]{width:130px;height:130px;margin:auto;border-radius:5em;background-color:#908e8e;text-align:center}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.menu[_ngcontent-%COMP%]{padding:2em}.content[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);grid-gap:1em;display:grid}.openItemInfo[_ngcontent-%COMP%]{cursor:pointer}.main-ctt[_ngcontent-%COMP%]{grid-column:3/13;padding:1em 2em}.final-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);padding:.8em;grid-gap:.6em}h6[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#e87200;font-weight:800;text-align:center;align-self:center;grid-column:span 2}h1[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{color:#005087;font-size:52px}.final-ficha[_ngcontent-%COMP%]{width:100%;padding:.8em}.editar[_ngcontent-%COMP%], .vender[_ngcontent-%COMP%], .whatsApp[_ngcontent-%COMP%]{background-color:#fff;color:#005087;border:1px solid #e2e2e2;border-radius:.2em;text-align:center;outline:none;text-decoration:none;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal;font-size:14px;padding:0}.vender[_ngcontent-%COMP%]{grid-column:span 2}.whatsApp[_ngcontent-%COMP%]{grid-column:span 4}.plus-svg[_ngcontent-%COMP%]{background-image:url(/assets/Plus_font_awesome.svg);background-size:cover;filter:invert(100%) sepia(5%) saturate(1820%) hue-rotate(262deg) brightness(116%) contrast(81%);width:280px;height:280px;margin:80px auto auto}.plus-svg[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{text-align:center}h5[_ngcontent-%COMP%]{font-size:40px;color:#d4d4d4;margin:0;font-family:futura-pt,sans-serif;font-weight:200;font-style:normal}.editar[_ngcontent-%COMP%]:hover, .vender[_ngcontent-%COMP%]:hover, .whatsApp[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(232,112,0,.20392156862745098)}.ficha-btn[_ngcontent-%COMP%]{background-color:#fff;margin:10px;color:#e87200;border:1px solid #aaa;border-radius:.2em;text-align:center;outline:none;text-decoration:none;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal;font-size:14px;padding:0}.delete[_ngcontent-%COMP%]{width:100%;text-align:right}.title[_ngcontent-%COMP%]{overflow:auto}.title-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:90% 10%}.tool-bar[_ngcontent-%COMP%]{background-color:#005087;padding:0}.ficha-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,81,135,.10980392156862745)}.ficha-btn[_ngcontent-%COMP%]:active, .ficha-btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,81,135,.17254901960784313)}.example-card[_ngcontent-%COMP%]{width:auto}.info[_ngcontent-%COMP%]{margin-bottom:1em}.agregar-card[_ngcontent-%COMP%]{background-color:hsla(0,0%,87.5%,.26666666666666666);display:block}.agregar-card[_ngcontent-%COMP%]:hover{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px grey;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#b8b8b8;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#949494}[_nghost-%COMP%]{padding:1em}.list-items[_ngcontent-%COMP%]{overflow:auto!important;max-height:600px}.noficha[_ngcontent-%COMP%]{color:#005087}.noficha[_ngcontent-%COMP%]:hover{cursor:auto;background-color:#fff}"],changeDetection:0}),t})();function He(t,e){if(1&t){const t=u.Ub();u.Tb(0,"app-item-card",21),u.ac("deleteEvent",function(e){return u.rc(t),u.ec().openDialogEliminarItem(e)}),u.Sb()}2&t&&u.kc("item",e.$implicit)}const Ye=function(){return{margin:"auto"}};function Qe(t,e){1&t&&(u.Tb(0,"div",22),u.Ob(1,"mat-spinner",23),u.Sb()),2&t&&(u.Cb(1),u.kc("ngStyle",u.lc(1,Ye)))}const Ke=function(t){return{full:t}};let Xe=(()=>{class t{constructor(t,e,n,i,o,a,s){this.dialog=t,this.inventarioMNG=e,this.router=n,this.snackBar=i,this.ar=o,this.wSS=a,this.fb=s,this.currentListToDisplay=new r.a("Destacados"),this.specialGetItem=!0,this.selectedSort="date",this.subORtipo="tipo",this.order=new r.a("dsc"),this.listItems=new r.a([]),this.keep=new r.a(!0),this.searched=!1,this.loadingNewItems=!1,this.loadingNewItems$=new r.a(!1),this.numeroDeCargas=1,this.localOpened=!0,this.scrollY$=this.wSS.scrollY$}ngOnInit(){p.opened.pipe().subscribe(t=>{this.localOpened=t}),this.searchForm=this.fb.group({search:this.fb.control("",o.s.compose([o.s.pattern(/^[a-zA-Z0-9.-_# ]*$/),o.s.minLength(2)]))}),this.subsSearch=this.searchForm.get("search").valueChanges.pipe(Object(s.a)(),Object(c.a)(500)).subscribe(t=>{t?this.searchForm.valid&&t.length>0&&!this.loadingNewItems$.value&&(this.loadSearchItems(t.trim()),this.searched=!0):!0===this.searched&&(this.order.next(this.order.value),this.searched=!1)}),this.subs=this.ar.paramMap.subscribe(t=>{let e=t.get("tipo");this.subORtipo="tipo",t.get("subTipo")&&(e=t.get("subTipo"),this.subORtipo="sub"),e=this.inverseParseRoute(e),this.searched=!1,this.currentListToDisplay.next(e),this.loadingNewItems$.next(!0),this.listItems.next([]),this.searchForm.get("search").reset(),this.inventarioMNG.getItemsSorted(this.subORtipo,e,this.selectedSort,this.order.value,12).subscribe(t=>{this.wSS.scrollToTop(),this.listItems.next(t),this.numeroDeCargas=1,this.loadingNewItems$.next(!1)})}),this.subsOrder=this.order.pipe(Object(l.a)(1),Object(c.a)(300)).subscribe(t=>{this.loadingNewItems$.next(!0),this.listItems.next([]),this.searched=!1,this.inventarioMNG.getItemsSorted(this.subORtipo,this.currentListToDisplay.value,this.selectedSort,t,12).subscribe(t=>{this.numeroDeCargas=1,this.listItems.next(t),this.loadingNewItems$.next(!1),this.searchForm.get("search").reset()})})}inverseParseRoute(t){return t.trim().replace(/_/g," ")}ngAfterViewInit(){if(void 0===this.wSS.elementScroll){const t=document.getElementById("listado");this.wSS.elementScroll=t}document.getElementById("searchBar"),this.subsPorcent=this.wSS.porcent.pipe(Object(s.a)()).subscribe(t=>{t>=70&&!1===this.loadingNewItems$.value&&this.listItems.value.length===12*this.numeroDeCargas&&(this.loadingNewItems$.next(!0),this.inventarioMNG.getItemsSorted(this.subORtipo,this.currentListToDisplay.value,this.selectedSort,this.order.value,12*this.numeroDeCargas*2).subscribe(t=>{this.numeroDeCargas++,this.loadingNewItems$.next(!1);const e=this.listItems.value;t.forEach(t=>{e.push(t)}),this.listItems.next(e)}))})}loadSearchItems(t){this.listItems.next([]),this.loadingNewItems$.next(!0),this.inventarioMNG.getItemsSearch(t).subscribe(t=>{this.listItems.next(t),this.loadingNewItems$.next(!1)})}orderDsc(){this.order.next("dsc")}orderAsc(){this.order.next("asc")}onChageTipo(){this.order.next(this.order.value)}ngOnDestroy(){this.subs.unsubscribe(),this.subsOrder.unsubscribe(),this.subsPorcent.unsubscribe(),this.subsSearch.unsubscribe(),this.loadingNewItems$.complete()}openDialogEliminarItem(t){this.dialog.open(b,{width:"600px",data:t}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{t&&this.inventarioMNG.eliminarItem(t).pipe(Object(m.a)()).subscribe(t=>{t&&(this.order.next(this.order.value),this.snackBar.open("Item Eliminado!!","",{duration:2e3}))})})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.b),u.Nb(h.a),u.Nb(a.b),u.Nb(f.a),u.Nb(a.a),u.Nb(C),u.Nb(o.e))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-tipo-ruta"]],decls:38,vars:17,consts:[[1,"main-ctt"],[1,"info"],[1,"acciones"],[1,"selectDescAsc",3,"value"],["group","matButtonToggleGroup"],["value","dsc",3,"click"],["value","asc",3,"click"],[1,"dscIcon"],["appearance","fill",1,"selectSort"],[3,"value","valueChange","selectionChange"],["value","date"],["value","name"],["value","priceIGV"],[3,"formGroup"],["appearance","fill",1,"selectSort","searchInput"],["id","searchBar","matInput","","formControlName","search"],["matSuffix","",1,"searchIcon"],[1,"paddingToScroll"],[1,"cardsContainer",3,"ngClass"],[3,"item","deleteEvent",4,"ngFor","ngForOf"],["class","cargandoItems",4,"ngIf"],[3,"item","deleteEvent"],[1,"cargandoItems"],[3,"ngStyle"]],template:function(t,e){1&t&&(u.Tb(0,"section",0),u.Tb(1,"div",1),u.Tb(2,"h1"),u.yc(3),u.fc(4,"async"),u.Sb(),u.Tb(5,"div",2),u.Tb(6,"mat-button-toggle-group",3,4),u.fc(8,"async"),u.Tb(9,"mat-button-toggle",5),u.ac("click",function(){return e.orderDsc()}),u.Tb(10,"mat-icon"),u.yc(11,"sort"),u.Sb(),u.Sb(),u.Tb(12,"mat-button-toggle",6),u.ac("click",function(){return e.orderAsc()}),u.Tb(13,"mat-icon",7),u.yc(14,"sort"),u.Sb(),u.Sb(),u.Sb(),u.Tb(15,"mat-form-field",8),u.Tb(16,"mat-label"),u.yc(17,"Ordernar Por:"),u.Sb(),u.Tb(18,"mat-select",9),u.ac("valueChange",function(t){return e.selectedSort=t})("selectionChange",function(){return e.onChageTipo()}),u.Tb(19,"mat-option",10),u.yc(20,"Fecha"),u.Sb(),u.Tb(21,"mat-option",11),u.yc(22,"Nombre"),u.Sb(),u.Tb(23,"mat-option",12),u.yc(24,"Precio"),u.Sb(),u.Sb(),u.Sb(),u.Tb(25,"form",13),u.Tb(26,"mat-form-field",14),u.Tb(27,"mat-label"),u.yc(28,"Busqueda:"),u.Sb(),u.Ob(29,"input",15),u.Tb(30,"mat-icon",16),u.yc(31,"search"),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Tb(32,"div",17),u.Tb(33,"div",18),u.xc(34,He,1,1,"app-item-card",19),u.fc(35,"async"),u.Sb(),u.xc(36,Qe,2,2,"div",20),u.fc(37,"async"),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.Ac(" ",u.gc(4,7,e.currentListToDisplay)," "),u.Cb(3),u.kc("value",u.gc(8,9,e.order)),u.Cb(12),u.kc("value",e.selectedSort),u.Cb(7),u.kc("formGroup",e.searchForm),u.Cb(8),u.kc("ngClass",u.mc(15,Ke,!e.localOpened)),u.Cb(1),u.kc("ngForOf",u.gc(35,11,e.listItems)),u.Cb(2),u.kc("ngIf",u.gc(37,13,e.loadingNewItems$)))},directives:[I,D,G.a,V.c,V.f,j.a,O.m,o.t,o.o,o.g,L.b,o.c,o.n,o.f,V.h,i.k,i.l,i.m,qe,$.b,i.n],pipes:[i.b],styles:[".info[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;min-height:70px}.info[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:.5em .5em 0}.info[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding:0}.info[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.selectSort[_ngcontent-%COMP%]{width:140px;align-self:center;font-size:14px}.mat-select[_ngcontent-%COMP%], .selectSort[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}.mat-select[_ngcontent-%COMP%]{font-weight:600}.selectDescAsc[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;align-self:center;margin-right:.5em}.dscIcon[_ngcontent-%COMP%]{transform:rotate(180deg)}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.user-photo[_ngcontent-%COMP%]{background-image:url(/assets/logo-sirio.jpg);background-color:#fff;background-position:50%;background-size:cover}.example-viewport[_ngcontent-%COMP%]{height:90vh;width:100%}.test[_ngcontent-%COMP%]{height:100vh}.example-item[_ngcontent-%COMP%]{height:50px}h3[_ngcontent-%COMP%]{font-size:22px;color:#e87200}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#005087;font-family:futura-pt,sans-serif;font-weight:300;font-style:normal}.menu[_ngcontent-%COMP%]{overflow:hidden;background-color:#005087;width:20%}.mat-dialog-container[_ngcontent-%COMP%]{width:800px}.user-ctn[_ngcontent-%COMP%]{display:flex;width:100%}.show-opc[_ngcontent-%COMP%]{margin:1.5em 0}.icon-img[_ngcontent-%COMP%]{color:#fff}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{text-decoration:none;list-style-type:none;padding:0;font-family:futura-pt,sans-serif;font-style:normal}li[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;font-weight:600}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e87200;font-size:16px;display:inline-block;vertical-align:text-bottom}.down-btn[_ngcontent-%COMP%]{background-image:url(/assets/down.svg);display:inline-block;width:18px;height:18px;filter:invert(54%) sepia(35%) saturate(4661%) hue-rotate(3deg) brightness(92%) contrast(104%);transform:rotate(90deg)}.down-btn[_ngcontent-%COMP%], .logoShow[_ngcontent-%COMP%]{align-self:center;margin:auto}.logoShow[_ngcontent-%COMP%]{width:200px;height:auto;text-align:center;display:block;cursor:pointer}.user-photo[_ngcontent-%COMP%]{width:140px;height:140px;margin:auto;border-radius:10em;background-color:#908e8e;text-align:center}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.main-ctt[_ngcontent-%COMP%]{min-height:90vh;grid-column:3/13;padding:1em 0 6em;background-color:#eaf6ff}h1[_ngcontent-%COMP%]{margin:0;color:#005087;font-size:50px;font-weight:200}.editar[_ngcontent-%COMP%], .vender[_ngcontent-%COMP%]{background-color:#fff;color:#005087;border:1px solid #aaa;border-radius:.2em;text-align:center;outline:none;text-decoration:none;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal;font-size:14px;padding:0}.plus-svg[_ngcontent-%COMP%]{background-image:url(/assets/Plus_font_awesome.svg);background-size:cover;filter:invert(100%) sepia(5%) saturate(1820%) hue-rotate(262deg) brightness(116%) contrast(81%);width:280px;height:280px;text-align:center;margin:80px auto auto}.example-card[_ngcontent-%COMP%]{width:auto}.info[_ngcontent-%COMP%]{margin-bottom:2em;padding:0 3em}.agregar-card[_ngcontent-%COMP%]{background-color:hsla(0,0%,87.5%,.26666666666666666);display:block}.agregar-card[_ngcontent-%COMP%]:hover{cursor:pointer}*[_ngcontent-%COMP%]     ::-webkit-scrollbar{width:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-track{box-shadow:inset 0 0 5px grey;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb{background:#b8b8b8;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb:hover{background:#949494}.displayCheat[_ngcontent-%COMP%]{display:none}.displayCheatTwo[_ngcontent-%COMP%]{display:block}.displayCheatThree[_ngcontent-%COMP%]{display:none}.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);grid-gap:0;display:grid;padding-top:0}.full[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}.mainCont[_ngcontent-%COMP%]{flex:1}.cheating[_ngcontent-%COMP%]{height:700px}.cheatingTwo[_ngcontent-%COMP%]{height:200px}.cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{grid:inherit}.paddingToScroll[_ngcontent-%COMP%]{padding:0 2em}.showBar[_ngcontent-%COMP%]{display:none}.cargandoItems[_ngcontent-%COMP%]{width:100%;height:100px;text-align:center;padding-top:2em;padding-bottom:2em}.toolBar[_ngcontent-%COMP%]{background-color:#005087;box-shadow:0 7px 5px -3px rgba(0,0,0,.35);z-index:1000}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed}  .sizeIcon{height:44px!important;width:44px!important;font-size:34px!important;line-height:42px!important}  .sizeShop{font-size:24px!important;line-height:45px!important}  .sizePower{font-size:33px!important;line-height:45px!important}.addMarginTwo[_ngcontent-%COMP%]{margin-left:.2em}.cName[_ngcontent-%COMP%]{font-family:jubilat,sans-serif;font-weight:200}.toolBarName[_ngcontent-%COMP%]{margin-left:.4em;font-family:futura-pt,sans-serif;font-size:26px;font-weight:200}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menuPadding[_ngcontent-%COMP%]{padding:1.5em 1.5em 2em}.marcasBtn[_ngcontent-%COMP%]{background-color:#095486;margin-left:1em}.searchInput[_ngcontent-%COMP%]{width:42px;transition:width 1s;font-weight:800}.searchIcon[_ngcontent-%COMP%]:hover{cursor:pointer}form[_ngcontent-%COMP%]{align-self:center;margin-left:.5em}.searchInput[_ngcontent-%COMP%]{width:300px}@media screen and (max-width:1400px){.info[_ngcontent-%COMP%]{grid-template-columns:none;gap:1em}.acciones[_ngcontent-%COMP%]{justify-content:unset}.menuPadding[_ngcontent-%COMP%]{padding:1.5em 1em 2em}.logoShow[_ngcontent-%COMP%]{width:150px}.displayCheat[_ngcontent-%COMP%]{display:block}.displayCheatTwo[_ngcontent-%COMP%]{display:none}.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.full[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}h1[_ngcontent-%COMP%]{font-size:40px}}@media screen and (max-width:1100px){.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.displayCheatThree[_ngcontent-%COMP%]{display:block}.displayCheat[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:1100px){.menu[_ngcontent-%COMP%]{width:25%;box-shadow:none}.showBar[_ngcontent-%COMP%]{display:flex}.list-items[_ngcontent-%COMP%]{max-height:65vh}}@media screen and (max-width:822px){.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:822px){.info[_ngcontent-%COMP%]{padding:.5em 1em;margin:0 0 8px}.toolBar[_ngcontent-%COMP%]{height:56px}.info[_ngcontent-%COMP%]{grid-template-columns:none;gap:16px}.acciones[_ngcontent-%COMP%]{display:grid;margin:0;grid-template-columns:96px calc(100% - 96px - 16px);justify-content:unset;gap:16px}.selectSort[_ngcontent-%COMP%]{width:100%}.selectDescAsc[_ngcontent-%COMP%]{width:96px}form[_ngcontent-%COMP%]{grid-column:span 2}.selectDescAsc[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{margin:0}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.menu[_ngcontent-%COMP%]{width:40%;box-shadow:none}.menu[_ngcontent-%COMP%]     .mat-drawer-inner-container{overflow:auto}.paddingToScroll[_ngcontent-%COMP%]{padding:0}}@media screen and (max-width:700px){.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media screen and (max-width:700px){.info[_ngcontent-%COMP%]{padding:.5em 1em;margin:0 0 8px}.user-photo[_ngcontent-%COMP%]{width:30vw;height:30vw}.list-items[_ngcontent-%COMP%]{max-height:none}.menu[_ngcontent-%COMP%]{width:80%;box-shadow:none}.mainCont[_ngcontent-%COMP%]{background-color:#f6fbff}}"]}),t})();var Je=n("f0Cb");function We(t,e){if(1&t&&(u.Tb(0,"mat-option",26),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.name),u.Cb(1),u.zc(t.name)}}function Ze(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",35),u.Tb(1,"div",36),u.Tb(2,"mat-form-field",37),u.Tb(3,"mat-label"),u.yc(4,"Sub"),u.Sb(),u.Ob(5,"input",30),u.Sb(),u.Tb(6,"mat-form-field",37),u.Tb(7,"mat-label"),u.yc(8,"Sub II"),u.Sb(),u.Ob(9,"input",38),u.Sb(),u.Tb(10,"mat-form-field",39),u.Tb(11,"mat-label"),u.yc(12,"Cantidad"),u.Sb(),u.Tb(13,"input",40),u.ac("input",function(){u.rc(t);const n=e.index,i=u.ec().index;return u.ec().sumCantidades(i,n)}),u.Sb(),u.Sb(),u.Tb(14,"button",41),u.ac("click",function(){u.rc(t);const n=e.index,i=u.ec().index;return u.ec().deleteSubAsig(i,n)}),u.yc(15,"-"),u.Sb(),u.Tb(16,"button",42),u.ac("click",function(){u.rc(t);const n=e.index,i=u.ec().index;return u.ec().agregarSubAsig(i,n)}),u.yc(17,"+"),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.index;u.Cb(1),u.kc("formGroupName",t)}}function tn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",27),u.Tb(1,"h4"),u.yc(2),u.Sb(),u.Tb(3,"div",28),u.Tb(4,"mat-form-field",29),u.Tb(5,"mat-label"),u.yc(6,"Asignacion..."),u.Sb(),u.Ob(7,"input",30),u.Sb(),u.Tb(8,"mat-form-field",29),u.Tb(9,"mat-label"),u.yc(10,"Asignacion II..."),u.Sb(),u.Tb(11,"input",31),u.ac("change",function(){u.rc(t);const n=e.index;return u.ec().activateDualAss(n)}),u.Sb(),u.Sb(),u.Tb(12,"button",32),u.ac("click",function(){u.rc(t);const n=e.index;return u.ec().deleteCostAss(n)}),u.yc(13,"Eliminar"),u.Sb(),u.Tb(14,"div",33),u.xc(15,Ze,18,1,"div",34),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.index,n=u.ec();u.Cb(2),u.Ac("",n.disponibles[t]," items por asignar"),u.Cb(1),u.kc("formGroupName",t),u.Cb(12),u.kc("ngForOf",n.listOfOrders[t].controls)}}let en=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.inventarioMNG=e,this.dialogRef=n,this.data=i,this.marcasList=new r.a([]),this.onNewItem=new u.o,this.subsAsignaciones=0,this.scEnabled=!1,this.listOfOrders=[],this.sumatorias=[0,0],this.disponibles=[0,0],this.separatorKeysCodes=[qt.g,qt.c],this.subCant=[],this.removable=!0,this.addOnBlur=!0,this.dualActiveStates=[!1,!1]}ngOnInit(){this.inventarioMNG.getAllMarcas().subscribe(t=>{this.marcasList.next(t)}),this.myForm=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(2),o.s.maxLength(30)])),priceIGV:this.formBuilder.control("",o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.minLength(1),o.s.min(.01)])),cantidad:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)])),unidadDeMedida:this.formBuilder.control("",o.s.compose([o.s.required])),description:this.formBuilder.control("",o.s.compose([o.s.required])),costoPropio:this.formBuilder.control("",o.s.compose([o.s.required,o.s.pattern(/^\d*\.?\d{0,2}$/),o.s.minLength(1),o.s.min(0)])),marca:this.formBuilder.control("",o.s.compose([])),subConteo:this.formBuilder.array([])}),this.subConteo=this.myForm.get("subConteo")}sumCantidades(t,e){this.sumatorias[t]=0,this.listOfOrders[t].value.forEach(e=>{let n=e.cantidad;(null===n||n<0)&&(n=0),this.sumatorias[t]+=n}),this.myForm.get("cantidad").value-this.sumatorias[t]<0?(this.listOfOrders[t].at(e).get("cantidad").setValue(0),this.sumCantidades(t,e)):this.disponibles[t]=this.myForm.get("cantidad").value-this.sumatorias[t]}changeCantidadMain(){let t=-1;this.listOfOrders.forEach(e=>{if(t++,this.sumatorias[t]=0,e.value.forEach(e=>{let n=e.cantidad;(null===n||n<0)&&(n=0),this.sumatorias[t]+=n}),this.myForm.get("cantidad").value-this.sumatorias[t]<0){for(let t=0;t<e.value.length;t++)e.at(t).get("cantidad").setValue(0);this.disponibles[t]=this.myForm.get("cantidad").value}else this.disponibles[t]=this.myForm.get("cantidad").value-this.sumatorias[t]})}activateDualAss(t){if(this.subConteo.at(t).get("nameSecond").valid&&""!==this.subConteo.at(t).get("nameSecond").value){this.dualActiveStates[t]=!0;for(let e=0;e<this.listOfOrders[t].value.length;e++)this.listOfOrders[t].at(e).get("nameSecond").enable()}else{this.dualActiveStates[t]=!1;for(let e=0;e<this.listOfOrders[t].value.length;e++)this.listOfOrders[t].at(e).get("nameSecond").disable(),this.listOfOrders[t].at(e).get("nameSecond").reset()}}addSC(){if(this.subsAsignaciones<1){const t=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(30)])),nameSecond:this.formBuilder.control("",o.s.compose([o.s.minLength(1),o.s.maxLength(30)])),order:this.formBuilder.array([])});this.addOrder(t),this.subConteo.push(t),this.listOfOrders.push(t.get("order")),this.subsAsignaciones++,this.disponibles[this.listOfOrders.length-1]=this.myForm.get("cantidad").value}}addOrder(t){const e=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),nameSecond:this.formBuilder.control({value:"",disabled:!0},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),cantidad:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)]))});t.get("order").push(e)}agregarSubAsig(t,e){const n=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),nameSecond:this.formBuilder.control({value:"",disabled:!this.dualActiveStates[t]},o.s.compose([o.s.required,o.s.minLength(1),o.s.maxLength(20)])),cantidad:this.formBuilder.control(0,o.s.compose([o.s.required,o.s.pattern("^-?[0-9][^.]*$"),o.s.min(0)]))});this.listOfOrders[t].insert(e+1,n)}deleteSubAsig(t,e){1===this.listOfOrders[t].length?(0===t&&(this.dualActiveStates[0]=this.dualActiveStates[1],this.dualActiveStates[1]=!1,this.disponibles[0]=this.disponibles[1],this.disponibles[1]=0),this.disponibles[1]=0,this.subsAsignaciones--,this.listOfOrders[t].removeAt(e),this.listOfOrders.splice(t,1),this.subConteo.removeAt(t)):(this.listOfOrders[t].removeAt(e),this.sumCantidades(t,e))}deleteCostAss(t){0===t&&(this.dualActiveStates[0]=this.dualActiveStates[1],this.dualActiveStates[1]=!1,this.disponibles[0]=this.disponibles[1],this.disponibles[1]=0),this.disponibles[1]=0,this.subsAsignaciones--,this.listOfOrders.splice(t,1),this.subConteo.removeAt(t)}changedInstanceCB(){this.scEnabled=!this.scEnabled,this.scEnabled?(this.myForm.get("scName").enable(),this.myForm.get("scName").setValidators([o.s.minLength(3),o.s.required])):(this.myForm.get("scName").disable(),this.myForm.get("scName").clearValidators(),this.myForm.get("scName").reset())}convertCostoPropio(){if(""!==this.myForm.get("costoPropio").value){const t=this.myForm.get("costoPropio").value,e=this.myForm.get("costoPropio").valid;this.myForm.get("costoPropio").setValue(this.rebrandNumber(e,t))}}convertPriceIGV(){const t=this.myForm.get("priceIGV").value,e=this.myForm.get("priceIGV").valid;this.myForm.get("priceIGV").setValue(this.rebrandNumber(e,t))}rebrandNumber(t,e){const n=e.toString().trim().replace(",","."),i=n.indexOf(".");let o="";return t&&(o=-1===n.indexOf(".")?n+".00":""===n.charAt(i+1)?n+"00":""===n.charAt(i+2)?n+"0":n),o}onSubmit(t){const e=t;e.name=t.name.trim(),e.description=t.description.trim(),e.tipo=this.data.parentTipoName,e.subTipo=this.data.subTipo,this.subConteo.length>0?(e.subConteo=this.subConteo.at(0).value,e.subConteo.name=e.subConteo.name.trim(),e.subConteo.nameSecond&&(e.subConteo.nameSecond=e.subConteo.nameSecond.trim()),e.subConteo.order.forEach(t=>{t.name=t.name.trim(),t.nameSecond&&(t.nameSecond=t.nameSecond.trim())})):e.subConteo=void 0,this.inventarioMNG.addItem(e).subscribe(t=>{null!==t&&(this.myForm.reset(),this.dialogRef.close(t.codigo))})}add(t){const e=t.input,n=t.value;(n||"").trim()&&this.subCant.push(n.trim()),e&&(e.value="")}remove(t){const e=this.subCant.indexOf(t);e>=0&&this.subCant.splice(e,1)}removeAll(){this.subCant.forEach(t=>{this.remove(t)})}cantidadChanged(){this.removeAll(),this.myForm.get("cantidad")}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(o.e),u.Nb(h.a),u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-new-item-dialog"]],decls:58,vars:10,consts:[["alt","cerrar","src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title","",1,"title"],[1,"new-item-form",3,"formGroup"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width","nameForm"],["spellcheck","false","name","name","id","name","formControlName","name","maxlength","60","matInput",""],["appearance","fill",1,"example-full-width","precioForm"],["spellcheck","false","name","priceIGV","id","priceIGV","formControlName","priceIGV","min","1","step","1","type","number","matInput","",1,"example-right-align",3,"focusout"],["matPrefix",""],["spellcheck","false","name","cantidad","id","cantidad","formControlName","cantidad","type","number","min","0","step","1","matInput","",3,"input"],["name","unidadDeMedida","id","unidadDeMedida","formControlName","unidadDeMedida",3,"value"],["value","UND"],["value","PAR"],["value","CAJA"],["appearance","fill",1,"example-full-width","descriptionField"],["name","description","id","description","formControlName","description","maxlength","600","matInput",""],["spellcheck","false","name","costoPropio","id","costoPropio","formControlName","costoPropio","min","1","step","1","type","number","matInput","",1,"example-right-align",3,"focusout"],["appearance","fill",1,"example-full-width","marca"],["name","marca","id","marca","formControlName","marca",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"fDivide"],["formArrayName","subConteo",1,"botonAgregarSubCont"],["textIndex","i",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","color","accent","mat-button","",1,"botonAgregarSubCont",3,"disabled","click"],["mat-dialog-actions","","align","end"],["type","submit","mat-flat-button","","color","accent",3,"disabled","click"],[3,"value"],["textIndex","i"],[1,"tituloSC",3,"formGroupName"],["appearance","fill",1,"tituloInput"],["spellcheck","false","formControlName","name","maxlength","60","matInput",""],["spellcheck","false","formControlName","nameSecond","maxlength","60","matInput","",3,"change"],["type","button","mat-button","","mat-stroked-button","","color","accent",1,"eleminarMainSub",3,"click"],["formArrayName","order",1,"scExtra"],["textIndex","y",4,"ngFor","ngForOf"],["textIndex","y"],[1,"orderSC",3,"formGroupName"],["appearance","fill",1,"scDeno"],["spellcheck","false","formControlName","nameSecond","maxlength","60","matInput",""],["appearance","fill",1,"scDenoTwo"],["pellcheck","false","formControlName","cantidad","type","number","min","0","step","1","matInput","",3,"input"],["type","button","mat-button","","mat-stroked-button","","color","accent",1,"agregarCant",3,"click"],["type","button","mat-button","","mat-stroked-button","","color","primary",1,"dismCant",3,"click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Agregando a "),u.Tb(3,"b"),u.yc(4),u.Sb(),u.Sb(),u.Tb(5,"form",2),u.Tb(6,"div",3),u.Tb(7,"mat-form-field",4),u.Tb(8,"mat-label"),u.yc(9,"Nombre Del Producto"),u.Sb(),u.Ob(10,"input",5),u.Sb(),u.Tb(11,"mat-form-field",6),u.Tb(12,"mat-label"),u.yc(13,"Precio"),u.Sb(),u.Tb(14,"input",7),u.ac("focusout",function(){return e.convertPriceIGV()}),u.Sb(),u.Tb(15,"span",8),u.yc(16,"S/ "),u.Sb(),u.Sb(),u.Tb(17,"mat-form-field",6),u.Tb(18,"mat-label"),u.yc(19,"Cantidad"),u.Sb(),u.Tb(20,"input",9),u.ac("input",function(){return e.changeCantidadMain()}),u.Sb(),u.Sb(),u.Tb(21,"mat-form-field",6),u.Tb(22,"mat-label"),u.yc(23,"Unidad De Medida"),u.Sb(),u.Tb(24,"mat-select",10),u.Tb(25,"mat-option",11),u.yc(26,"UND"),u.Sb(),u.Tb(27,"mat-option",12),u.yc(28,"PAR"),u.Sb(),u.Tb(29,"mat-option",13),u.yc(30,"CAJA"),u.Sb(),u.Sb(),u.Sb(),u.Tb(31,"mat-form-field",14),u.Tb(32,"mat-label"),u.yc(33,"Descripci\xf3n"),u.Sb(),u.Ob(34,"textarea",15),u.Sb(),u.Tb(35,"mat-form-field",6),u.Tb(36,"mat-label"),u.yc(37,"Costo propio"),u.Sb(),u.Tb(38,"input",16),u.ac("focusout",function(){return e.convertCostoPropio()}),u.Sb(),u.Tb(39,"span",8),u.yc(40,"S/ "),u.Sb(),u.Sb(),u.Tb(41,"mat-form-field",17),u.Tb(42,"mat-label"),u.yc(43,"Marca"),u.Sb(),u.Tb(44,"mat-select",18),u.Tb(45,"mat-option"),u.yc(46,"Ninguna"),u.Sb(),u.xc(47,We,2,2,"mat-option",19),u.fc(48,"async"),u.Sb(),u.Sb(),u.Ob(49,"mat-divider",20),u.Tb(50,"div",21),u.xc(51,tn,16,3,"div",22),u.Sb(),u.Ob(52,"mat-divider"),u.Tb(53,"button",23),u.ac("click",function(){return e.addSC()}),u.yc(54,"Sub-Asignar Cantidad"),u.Sb(),u.Sb(),u.Tb(55,"div",24),u.Tb(56,"button",25),u.ac("click",function(){return e.onSubmit(e.myForm.value)}),u.yc(57,"Agregar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(4),u.zc(e.data.subTipo),u.Cb(1),u.kc("formGroup",e.myForm),u.Cb(19),u.kc("value",0),u.Cb(20),u.kc("value",0),u.Cb(3),u.kc("ngForOf",u.gc(48,8,e.marcasList)),u.Cb(4),u.kc("ngForOf",e.subConteo.controls),u.Cb(2),u.kc("disabled",e.subsAsignaciones>=1),u.Cb(3),u.kc("disabled",!e.myForm.valid||!(0===e.disponibles[0]&&0===e.disponibles[1])))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,o.q,V.g,j.a,O.m,i.l,Je.a,o.d,g.a,d.c,o.h],pipes:[i.b],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.example-form[_ngcontent-%COMP%]{min-width:900px;max-width:1000px;width:100%}.title[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-size:26px;font-weight:400}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}.orderSC[_ngcontent-%COMP%], .tituloSC[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);-moz-column-gap:.5em;column-gap:.5em}.orderSC[_ngcontent-%COMP%]{grid-template-columns:repeat(12,1fr)}.scExtra[_ngcontent-%COMP%]{grid-column:1/7;width:100%}h4[_ngcontent-%COMP%]{margin:.7em 0;font-size:26px;font-weight:200;color:#ff7b00}.scDeno[_ngcontent-%COMP%]{grid-column:span 3}.scDenoTwo[_ngcontent-%COMP%]{grid-column:span 2}.mat-divider[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2em;grid-column:1/4}.fDivide[_ngcontent-%COMP%]{margin:0}.tituloInput[_ngcontent-%COMP%]{grid-column:span 2}.agregarCant[_ngcontent-%COMP%], .dismCant[_ngcontent-%COMP%], .eleminarMainSub[_ngcontent-%COMP%]{grid-column:span 2;height:63px}.marca[_ngcontent-%COMP%]{grid-column:2/4}.botonAgregarSubCont[_ngcontent-%COMP%]{grid-column:1/4;width:100%}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%)}img[_ngcontent-%COMP%]:hover{cursor:pointer}input[_ngcontent-%COMP%]{font-size:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-half-width[_ngcontent-%COMP%]{width:30%}.chipSubCant[_ngcontent-%COMP%]{grid-column:1/4}.tresCuatro[_ngcontent-%COMP%]{grid-column:1/3}.mat-checkbox[_ngcontent-%COMP%]{margin-bottom:1em;align-self:center;text-align:center}.new-item-form[_ngcontent-%COMP%]     .mat-form-field-infix{width:100%}.new-item-form[_ngcontent-%COMP%]     .mat-form-field-flex{height:62px}.descriptionField[_ngcontent-%COMP%]{grid-column:1/4}.descriptionField[_ngcontent-%COMP%]     .mat-form-field-flex{height:auto}.nameForm[_ngcontent-%COMP%]{grid-column:1/4}b[_ngcontent-%COMP%]{color:#ff7b00;font-family:jubilat,sans-serif;font-weight:400}.close-btn[_ngcontent-%COMP%]{margin-bottom:.5em}.uploads[_ngcontent-%COMP%]{padding-bottom:1em}.ficha-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,81,135,.10980392156862745)}h5[_ngcontent-%COMP%]{display:inline-block;margin:0}td[_ngcontent-%COMP%]{padding-right:8px}.mat-dialog-container[_ngcontent-%COMP%], [_nghost-%COMP%]{width:800px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:50vh;display:grid;-moz-column-gap:.5em;column-gap:.5em;grid-template-columns:repeat(3,1fr)}@media screen and (max-width:800px){.title[_ngcontent-%COMP%]{font-size:20px}.put-margin[_ngcontent-%COMP%]{margin-right:0}.example-half-width[_ngcontent-%COMP%]{width:100%}.close-btn[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{margin-bottom:.5em}h1[_ngcontent-%COMP%]{line-height:1.5em}}"]}),t})(),nn=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.formBuilder=e,this.inventarioMNG=n,this.onSub=new u.o}ngOnInit(){this.form=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(3)]))})}onSubmit(t){this.inventarioMNG.addTipo(t.name.trim()).subscribe(t=>{"ADDED"===t?(this.onSub.emit(),this.form.reset()):alert("Error Al Subir Nueva Caterogia")})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(o.e),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-agregar-clase-item"]],decls:12,vars:2,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["spellcheck","false","name","name","id","name","formControlName","name","maxlength","20","matInput",""],["mat-dialog-actions","","align","end"],["type","submit","type","button","mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Agregar nueva categor\xeda"),u.Sb(),u.Tb(3,"form",2),u.ac("ngSubmit",function(){return e.onSubmit(e.form.value)}),u.Tb(4,"div",3),u.Tb(5,"mat-form-field",4),u.Tb(6,"mat-label"),u.yc(7,"Categoria"),u.Sb(),u.Ob(8,"input",5),u.Sb(),u.Sb(),u.Tb(9,"div",6),u.Tb(10,"button",7),u.ac("click",function(){return e.onSubmit(e.form.value)}),u.yc(11,"Agregar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.kc("formGroup",e.form),u.Cb(7),u.kc("disabled",!e.form.valid))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,d.c,g.a],styles:["h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}b[_ngcontent-%COMP%]{color:#014c7e}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%);margin-bottom:10px}img[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}}"]}),t})();var on=n("xgIS");let an=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.formBuilder=e,this.inventarioMNG=n,this.data=i,this.onSucces=new u.o,this.showMessage=!1}ngOnInit(){this.form=this.formBuilder.group({subTipo:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(3)]))})}onSubmit(){this.inventarioMNG.agregarSubTipo(this.form.get("subTipo").value.trim(),this.data.codigo).subscribe(()=>{this.form.reset(),this.showMessage=!0,this.onSucces.emit()})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(o.e),u.Nb(h.a),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-agregar-sub-categorias"]],decls:16,vars:3,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["spellcheck","false","name","subTipo","id","subTipo","formControlName","subTipo","maxlength","30","matInput",""],[3,"ngClass"],["mat-dialog-actions","","align","end"],["type","button","mat-flat-button","","color","primary","mat-dialog-close",""],["type","submit","type","button","mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Agregar nueva sub-categor\xeda"),u.Sb(),u.Tb(3,"form",2),u.Tb(4,"div",3),u.Tb(5,"mat-form-field",4),u.Tb(6,"mat-label"),u.yc(7,"Sub-categoria"),u.Sb(),u.Ob(8,"input",5),u.Sb(),u.Tb(9,"h5",6),u.yc(10,"Sub-categoria agregada!"),u.Sb(),u.Sb(),u.Tb(11,"div",7),u.Tb(12,"button",8),u.yc(13,"Terminar"),u.Sb(),u.Tb(14,"button",9),u.ac("click",function(){return e.onSubmit()}),u.yc(15,"Agregar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.kc("formGroup",e.form),u.Cb(6),u.kc("ngClass",e.showMessage?"show":"dontShow"),u.Cb(5),u.kc("disabled",!e.form.valid))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,i.k,d.c,g.a],styles:["h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}b[_ngcontent-%COMP%]{color:#014c7e}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%);margin-bottom:10px}img[_ngcontent-%COMP%]:hover{cursor:pointer}.show[_ngcontent-%COMP%]{display:block}.dontShow[_ngcontent-%COMP%]{display:none}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}}.mat-divider[_ngcontent-%COMP%]{margin-top:1em}"]}),t})();const rn=function(){return{margin:"0 0 0 .5em"}};function sn(t,e){1&t&&(u.Tb(0,"h4",12),u.yc(1,"Imag\xe9n Subida Correctamente"),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,rn))}function cn(t,e){1&t&&(u.Tb(0,"h4",12),u.yc(1,"Ficha Subida Correctamente"),u.Sb()),2&t&&u.kc("ngStyle",u.lc(1,rn))}const ln=function(){return{"margin-right":".5em"}};let mn=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.inventarioMNG=e,this.dialogRef=n,this.data=i,this.disabled=!0,this.disabledPDF=!0,this.showMessage=!1,this.showMessagePDF=!1}ngOnInit(){this.uploadForm=this.formBuilder.group({img:[""]}),this.uploadFileForm=this.formBuilder.group({pdf:[""]})}onFileSelect(t){this.fileToUpload=t.item(0),this.onSubmitIMG(),this.showMessage=!1}onFileSelectPDF(t){this.fileToUploadPDF=t.item(0),this.onSubmitPDF(),this.showMessagePDF=!1}onSubmitIMG(){this.inventarioMNG.uploadFile(this.fileToUpload,this.data.codigo,null).subscribe(t=>{!1!==t&&(this.disabled=!0,this.showMessage=!0)})}onSubmitPDF(){this.inventarioMNG.uploadFilePDF(this.fileToUploadPDF,this.data.codigo).subscribe(t=>{t&&(this.disabledPDF=!0,this.showMessagePDF=!0)})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(o.e),u.Nb(h.a),u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-uploads-dialog"]],decls:17,vars:6,consts:[["alt","cerrar","src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title","",1,"title"],["mat-dialog-content",""],[1,"new-item-form","topForm","customUpload",3,"ngStyle","formGroup","ngSubmit"],["matRipple","","for","img",1,"custom-file-upload"],["type","file","spellcheck","false","name","img","id","img","formControlName","img",3,"change"],["class","succesMSG",3,"ngStyle",4,"ngIf"],[1,"new-item-form","topForm","customUpload",3,"formGroup","ngSubmit"],["matRipple","","for","pdf",1,"custom-file-upload"],["type","file","spellcheck","false","name","pdf","id","pdf","formControlName","pdf",3,"change"],["mat-dialog-actions","","align","end"],["matDialogClose","","type","button","mat-flat-button","","color","primary"],[1,"succesMSG",3,"ngStyle"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Agregar imag\xe9n y ficha t\xe9cnica"),u.Sb(),u.Tb(3,"div",2),u.Tb(4,"form",3),u.ac("ngSubmit",function(){return e.onSubmitIMG()}),u.Tb(5,"label",4),u.yc(6," Subir Imag\xe9n "),u.Sb(),u.Tb(7,"input",5),u.ac("change",function(t){return e.onFileSelect(t.target.files)}),u.Sb(),u.xc(8,sn,2,2,"h4",6),u.Sb(),u.Tb(9,"form",7),u.ac("ngSubmit",function(){return e.onSubmitPDF()}),u.Tb(10,"label",8),u.yc(11," Subir Ficha "),u.Sb(),u.Tb(12,"input",9),u.ac("change",function(t){return e.onFileSelectPDF(t.target.files)}),u.Sb(),u.xc(13,cn,2,2,"h4",6),u.Sb(),u.Sb(),u.Tb(14,"div",10),u.Tb(15,"button",11),u.yc(16,"Listo"),u.Sb(),u.Sb()),2&t&&(u.Cb(4),u.kc("ngStyle",u.lc(5,ln))("formGroup",e.uploadForm),u.Cb(4),u.kc("ngIf",e.showMessage),u.Cb(1),u.kc("formGroup",e.uploadFileForm),u.Cb(4),u.kc("ngIf",e.showMessagePDF))},directives:[d.h,d.d,d.e,o.t,o.o,i.n,o.g,O.r,o.c,o.n,o.f,i.m,d.c,g.a],styles:[".example-form[_ngcontent-%COMP%]{min-width:900px;max-width:1000px;width:100%}.title[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-size:26px;font-weight:400}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}img[_ngcontent-%COMP%]{width:40px;height:40px;opacity:1%}img[_ngcontent-%COMP%]:hover{cursor:pointer}input[_ngcontent-%COMP%]{font-size:20px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-half-width[_ngcontent-%COMP%]{width:30%}.ficha-btn[_ngcontent-%COMP%]{background-color:#fff;color:#e87200;border:1px solid #aaa;border-radius:.2em;text-align:center;outline:none;text-decoration:none;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal;font-size:16px;width:200px;height:25px;margin-right:.5em}.close-btn[_ngcontent-%COMP%]{margin-bottom:.5em}.uploads[_ngcontent-%COMP%]{padding-bottom:1em}.ficha-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,81,135,.10980392156862745)}h5[_ngcontent-%COMP%]{display:inline-block;margin:0}.put-margin[_ngcontent-%COMP%]{margin-right:1em}td[_ngcontent-%COMP%]{padding-right:8px}.mat-dialog-container[_ngcontent-%COMP%], [_nghost-%COMP%]{width:800px}.topForm[_ngcontent-%COMP%]{margin-bottom:1em}.succesMSG[_ngcontent-%COMP%]{margin:.2em;color:#e87200}input[_ngcontent-%COMP%]{width:80%}input[_ngcontent-%COMP%]:hover{cursor:pointer}input[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{width:100px}input[type=file][_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ffd9b5;border-radius:.2em;padding:6px 12px;cursor:pointer;min-width:100px;display:inline-block;text-align:center}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:rgba(0,81,135,.17254901960784313)}.customUpload[_ngcontent-%COMP%]{display:inline-block;display:flex;align-items:center}@media screen and (max-width:700px) and (orientation:portrait){.title[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-size:20px}.put-margin[_ngcontent-%COMP%]{margin-right:0}.example-half-width[_ngcontent-%COMP%]{width:100%}}"]}),t})(),dn=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.inventarioMNG=i}ngOnInit(){this.form=this.formBuilder.group({newSubName:this.formBuilder.control(this.data.antiguoSubName,o.s.compose([o.s.required,o.s.minLength(3)]))})}onSubmit(t){this.inventarioMNG.updateSubTipoName(this.data.codigo,this.data.antiguoSubName,t.newSubName.trim()).subscribe(e=>{this.dialogRef.close(t.newSubName)})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a),u.Nb(o.e),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-sub-tipo-editar"]],decls:12,vars:2,consts:[["alt","cerrar","src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["spellcheck","false","name","newSubName","id","newSubName","formControlName","newSubName","maxlength","20","matInput",""],["mat-dialog-actions","","align","end"],["type","submit","type","button","mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Editar sub categor\xeda:"),u.Sb(),u.Tb(3,"form",2),u.ac("ngSubmit",function(){return e.onSubmit(e.form.value)}),u.Tb(4,"div",3),u.Tb(5,"mat-form-field",4),u.Tb(6,"mat-label"),u.yc(7,"Categoria"),u.Sb(),u.Ob(8,"input",5),u.Sb(),u.Sb(),u.Tb(9,"div",6),u.Tb(10,"button",7),u.ac("click",function(){return e.onSubmit(e.form.value)}),u.yc(11,"Actualizar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.kc("formGroup",e.form),u.Cb(7),u.kc("disabled",!e.form.valid))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,d.c,g.a],styles:["h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-weight:600;font-style:normal}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:10px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%)}img[_ngcontent-%COMP%]:hover{cursor:pointer}b[_ngcontent-%COMP%]{color:#ff7b00;font-weight:600}h2[_ngcontent-%COMP%]{color:#005087;font-size:22px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}}"]}),t})();const un=function(){return{"font-weight":"600"}};function gn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",8),u.ac("click",function(){return u.rc(t),u.ec().openAgregarItemDialog()}),u.yc(1," Agregar "),u.Ob(2,"img",9),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,un))}function bn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",8),u.ac("click",function(){return u.rc(t),u.ec().openDialogEditar()}),u.yc(1," Editar "),u.Ob(2,"img",9),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,un))}function pn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",10),u.ac("click",function(){return u.rc(t),u.ec().openDialogEliminar()}),u.yc(1," Eliminar "),u.Ob(2,"img",9),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,un))}function hn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",11),u.ac("click",function(){u.rc(t);const n=e.$implicit;return u.ec().goToItemPage(n)}),u.yc(1),u.Sb()}if(2&t){const t=e.$implicit;u.Cb(1),u.zc(t.name)}}const fn=function(t,e){return{"closed-btn":t,"open-btn":e}},Cn=function(t){return{closed:t}};let vn=(()=>{class t{constructor(t,e,n,i){this.dialog=t,this.inventarioMNG=e,this.authService=n,this.router=i,this.openDialogEliminarSub=new u.o,this.closeAllButThis=new u.o,this.loadListItemsSubTipo=new u.o,this.listaDeItems=new r.a([]),this.nameSub$=new r.a(null),this.status=!1,this.status$=new r.a(!1)}ngOnInit(){this.nameSub$.next(this.nameSub)}openList(){this.status$.value?this.status$.next(!1):(this.status$.next(!0),this.loadListItemsSubTipo.emit(this.nameSub$.value),this.closeAllButThis.emit(this.nameSub$.value),this.inventarioMNG.getAllItemsOfSubType(this.nameSub$.value).subscribe(t=>{this.listaDeItems.next(t)}))}openAgregarItemDialog(){this.dialog.open(en,{width:"800px",data:{subTipo:this.nameSub,parentTipoName:this.parentName}}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{t&&(this.openUploadDialog(t),this.inventarioMNG.getAllItemsOfSubType(this.nameSub$.value).subscribe(t=>{this.listaDeItems.next(t)}))})}openUploadDialog(t){this.dialog.open(mn,{width:"800px",data:{codigo:t}}).afterClosed().pipe(Object(m.a)()).subscribe(()=>{window.location.reload()})}openDialogEliminar(){this.openDialogEliminarSub.emit(this.nameSub$.value)}openDialogEditar(){this.dialog.open(dn,{width:"600px",data:{codigo:this.tipoCod,antiguoSubName:this.nameSub}}).afterClosed().pipe(Object(m.a)()).subscribe(t=>{void 0!==t&&this.nameSub$.next(t)})}goToItemPage(t){console.log(t),this.router.navigate(["/inventario",this.parsedRoute(t.tipo),this.parsedRoute(t.subTipo),t.codigo])}parsedRoute(t){return t.trim().replace(/ /g,"_")}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.b),u.Nb(h.a),u.Nb(B.a),u.Nb(a.b))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-sub-lista-desplegable"]],inputs:{nameSub:"nameSub",tipoCod:"tipoCod",parentName:"parentName"},outputs:{openDialogEliminarSub:"openDialogEliminarSub",closeAllButThis:"closeAllButThis",loadListItemsSubTipo:"loadListItemsSubTipo"},decls:17,vars:22,consts:[[1,"list-plegable","noselect"],["matRipple","",1,"grupo","noselect",3,"click"],[1,"grupo-name","noselect"],[1,"down-btn",3,"ngClass"],[3,"ngClass"],["matRipple","","class","agregar-sub-lista grupo-interno",3,"ngStyle","click",4,"ngIf"],["matRipple","","class","agregar-sub-lista eliminar grupo-interno",3,"ngStyle","click",4,"ngIf"],["class","grupo-interno noselect",3,"click",4,"ngFor","ngForOf"],["matRipple","",1,"agregar-sub-lista","grupo-interno",3,"ngStyle","click"],["src",""],["matRipple","",1,"agregar-sub-lista","eliminar","grupo-interno",3,"ngStyle","click"],[1,"grupo-interno","noselect",3,"click"]],template:function(t,e){1&t&&(u.Tb(0,"li",0),u.Tb(1,"div",1),u.ac("click",function(){return e.openList()}),u.Tb(2,"h2",2),u.yc(3),u.fc(4,"async"),u.Sb(),u.Ob(5,"div",3),u.fc(6,"async"),u.fc(7,"async"),u.Sb(),u.Tb(8,"div",4),u.fc(9,"async"),u.Tb(10,"ul"),u.xc(11,gn,3,2,"li",5),u.xc(12,bn,3,2,"li",5),u.xc(13,pn,3,2,"li",6),u.Ob(14,"mat-divider"),u.xc(15,hn,2,1,"li",7),u.fc(16,"async"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.zc(u.gc(4,7,e.nameSub$)),u.Cb(2),u.kc("ngClass",u.nc(17,fn,!1===u.gc(6,9,e.status$),!0===u.gc(7,11,e.status$))),u.Cb(3),u.kc("ngClass",u.mc(20,Cn,!1===u.gc(9,13,e.status$))),u.Cb(3),u.kc("ngIf",e.authService.loggedIn()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()),u.Cb(2),u.kc("ngForOf",u.gc(16,15,e.listaDeItems)))},directives:[O.r,i.k,i.m,Je.a,i.l,i.n],pipes:[i.b],styles:["li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{text-decoration:none;list-style-type:none;padding:0 0 0 15px;margin:0;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}.grupo[_ngcontent-%COMP%]{padding:4px;border-radius:.3em;grid-template-columns:90% 10%}.grupo[_ngcontent-%COMP%], .grupo-interno[_ngcontent-%COMP%]{min-height:30px;line-height:30px;display:block;cursor:pointer;display:grid}.grupo-interno[_ngcontent-%COMP%]{padding:0 20px;border-radius:.2em;grid-template-columns:100%;color:#f3e6d9;font-size:14px;font-weight:200;margin:.5em 0}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d69b63;margin:0;vertical-align:text-bottom;font-weight:600}.down-btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block}.down-btn[_ngcontent-%COMP%]{background-image:url(/assets/down.svg);width:18px;height:18px;filter:invert(80%) sepia(7%) saturate(3541%) hue-rotate(330deg) brightness(92%) contrast(85%);transform:rotate(180deg);align-self:center;margin:auto}.closed-btn[_ngcontent-%COMP%]{-webkit-animation:mymove .25s;animation:mymove .25s}.open-btn[_ngcontent-%COMP%]{-webkit-animation:mysmove .25s forwards;animation:mysmove .25s forwards}@-webkit-keyframes mysmove{to{transform:rotate(90deg)}}@keyframes mysmove{to{transform:rotate(90deg)}}@-webkit-keyframes mymove{to{transform:rotate(180deg)}}@keyframes mymove{to{transform:rotate(180deg)}}.grupo-interno[_ngcontent-%COMP%]:hover, .grupo[_ngcontent-%COMP%]:hover{background-color:#014c7e}.closed[_ngcontent-%COMP%]{display:none}.open[_ngcontent-%COMP%]{display:block}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;margin:.25em 0}.agregar-sub-lista[_ngcontent-%COMP%]{margin-bottom:.2em;color:#d8bb9f}.eliminar[_ngcontent-%COMP%]{margin-bottom:.4em}@media screen and (max-width:1400px){.grupo-interno[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:800px) and (orientation:portrait){.grupo[_ngcontent-%COMP%]{padding:5px;border-radius:.3em;cursor:pointer;display:grid;grid-template-columns:90% 10%}}"]}),t})(),_n=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.invetarioMNG=n,this.onEliminar=new u.o}ngOnInit(){}eliminarSubTipo(){this.invetarioMNG.eliminarSubTipo(this.data.codigo,this.data.subName).subscribe(t=>{!1!==t?this.dialogRef.close():alert("Error Al Eliminar")})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-eliminar-sub-tipo"]],decls:14,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"textB"],["align","end"],["mat-button","","mat-dialog-close","","color","accent",3,"click"],["cdkFocusInitial","","mat-button","","color","primary",3,"mat-dialog-close"]],template:function(t,e){1&t&&(u.Tb(0,"h2",0),u.yc(1,"Eliminando "),u.Tb(2,"b"),u.yc(3),u.Sb(),u.Sb(),u.Tb(4,"mat-dialog-content",1),u.Tb(5,"p"),u.yc(6,"\xbfSeguro que quieres eliminar este tipo?. "),u.Tb(7,"b",2),u.yc(8,"Se eliminaran todos los items dentro de esta categoria."),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-dialog-actions",3),u.Tb(10,"button",4),u.ac("click",function(){return e.eliminarSubTipo()}),u.yc(11,"Eliminar"),u.Sb(),u.Tb(12,"button",5),u.yc(13,"Cancelar"),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.zc(e.data.subName),u.Cb(9),u.kc("mat-dialog-close",!0))},directives:[d.h,d.e,d.c,g.a,d.d],styles:["b[_ngcontent-%COMP%]{color:#ff7b00;font-family:jubilat,sans-serif;font-weight:200}.textB[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}h2[_ngcontent-%COMP%]{color:#005087;font-family:jubilat,sans-serif;font-weight:200;font-size:26px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}@media screen and (max-width:800px){h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:16px}}"]}),t})();var On=n("3E0/");function Sn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",8),u.ac("click",function(){return u.rc(t),u.ec().openDialogSubCat()}),u.yc(1," Agregar Sub-Categoria "),u.Ob(2,"img",9),u.Sb()}}function yn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",8),u.ac("click",function(){return u.rc(t),u.ec().openDialogEditar()}),u.yc(1," Editar "),u.Ob(2,"img",9),u.Sb()}}function xn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"li",10),u.ac("click",function(){return u.rc(t),u.ec().openDialogEliminar()}),u.yc(1," Eliminar "),u.Ob(2,"img",9),u.Sb()}}function Mn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"app-sub-lista-desplegable",11),u.ac("closeAllButThis",function(e){return u.rc(t),u.ec().closeAllButOne(e)})("loadListItemsSubTipo",function(e){return u.rc(t),u.ec().loadSLI(e)})("openDialogEliminarSub",function(e){return u.rc(t),u.ec().eliminarSubTipo(e)}),u.Sb()}if(2&t){const t=e.$implicit,n=u.ec();u.kc("parentName",n.tipoLista.name)("nameSub",t)("tipoCod",n.tipoLista.codigo)}}const Pn=function(t,e){return{"closed-btn":t,"open-btn":e}},wn=function(t){return{closed:t}};let Tn=(()=>{class t{constructor(t,e,n){this.dialog=t,this.inventarioMNG=e,this.authService=n,this.openDialogEliminarOnMain=new u.o,this.openDialogEditarTipo=new u.o,this.closeAllButThis=new u.o,this.loadItemsOnMainTipo=new u.o,this.listaDeSub=new r.a([]),this.status=!1}ngOnInit(){}openList(){this.status?(this.status=!1,this.closeAllSubList()):(this.status=!0,this.loadItemsOnMainTipo.emit({name:this.tipoLista.name,subORtipo:"tipo"}),this.closeAllButThis.emit(this.tipoLista.name),this.inventarioMNG.getSubTipos(this.tipoLista.codigo).subscribe(t=>{this.listaDeSub.next(t.subTipo)}))}loadSLI(t){this.loadItemsOnMainTipo.emit({name:t,subORtipo:"sub"})}closeAllSubList(){this.subListasPlegables.forEach(t=>{t.status$.next(!1)})}openDialogSubCat(){const t=this.dialog.open(an,{width:"600px",data:this.tipoLista});t.componentInstance.onSucces.pipe().subscribe(()=>{this.inventarioMNG.getSubTipos(this.tipoLista.codigo).subscribe(t=>{this.listaDeSub.next(t.subTipo)})}),t.afterClosed().pipe(Object(m.a)()).subscribe(()=>{t.componentInstance.onSucces.unsubscribe()})}eliminarSubTipo(t){this.dialog.open(_n,{width:"600px",data:{codigo:this.tipoLista.codigo,subName:t}}).afterClosed().pipe(Object(m.a)(),Object(On.a)(300)).subscribe(()=>{this.inventarioMNG.getSubTipos(this.tipoLista.codigo).subscribe(t=>{this.listaDeSub.next(t.subTipo)})})}openDialogEliminar(){this.openDialogEliminarOnMain.emit(this.tipoLista)}openDialogEditar(){this.openDialogEditarTipo.emit(this.tipoLista)}closeAllButOne(t){this.subListasPlegables.forEach(e=>{t!==e.nameSub&&e.status$.next(!1)})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.b),u.Nb(h.a),u.Nb(B.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-lista-plegable"]],viewQuery:function(t,e){if(1&t&&u.Dc(vn,1),2&t){let t;u.oc(t=u.bc())&&(e.subListasPlegables=t)}},inputs:{tipoLista:"tipoLista"},outputs:{openDialogEliminarOnMain:"openDialogEliminarOnMain",openDialogEditarTipo:"openDialogEditarTipo",closeAllButThis:"closeAllButThis",loadItemsOnMainTipo:"loadItemsOnMainTipo"},decls:14,vars:14,consts:[[1,"list-plegable","noselect"],["matRipple","",1,"grupo","noselect",3,"click"],[1,"grupo-name","noselect"],[1,"down-btn",3,"ngClass"],[3,"ngClass"],["matRipple","","class","agregar-sub-lista grupo-interno",3,"click",4,"ngIf"],["matRipple","","class","agregar-sub-lista eliminar grupo-interno",3,"click",4,"ngIf"],[3,"parentName","nameSub","tipoCod","closeAllButThis","loadListItemsSubTipo","openDialogEliminarSub",4,"ngFor","ngForOf"],["matRipple","",1,"agregar-sub-lista","grupo-interno",3,"click"],["src",""],["matRipple","",1,"agregar-sub-lista","eliminar","grupo-interno",3,"click"],[3,"parentName","nameSub","tipoCod","closeAllButThis","loadListItemsSubTipo","openDialogEliminarSub"]],template:function(t,e){1&t&&(u.Tb(0,"li",0),u.Tb(1,"div",1),u.ac("click",function(){return e.openList()}),u.Tb(2,"h2",2),u.yc(3),u.Sb(),u.Ob(4,"div",3),u.Sb(),u.Tb(5,"div",4),u.Tb(6,"ul"),u.xc(7,Sn,3,0,"li",5),u.xc(8,yn,3,0,"li",5),u.xc(9,xn,3,0,"li",6),u.Ob(10,"mat-divider"),u.xc(11,Mn,1,3,"app-sub-lista-desplegable",7),u.fc(12,"async"),u.Sb(),u.Sb(),u.Sb(),u.Ob(13,"mat-divider")),2&t&&(u.Cb(3),u.zc(e.tipoLista.name),u.Cb(1),u.kc("ngClass",u.nc(9,Pn,!1===e.status,!0===e.status)),u.Cb(1),u.kc("ngClass",u.mc(12,wn,!1===e.status)),u.Cb(2),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(1),u.kc("ngIf",e.authService.loggedIn()&&"low"!==e.authService.getTtype()),u.Cb(2),u.kc("ngForOf",u.gc(12,7,e.listaDeSub)))},directives:[O.r,i.k,i.m,Je.a,i.l,vn],pipes:[i.b],styles:["li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{text-decoration:none;list-style-type:none;padding:0;margin:0;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}.grupo[_ngcontent-%COMP%]{line-height:40px;padding:4px 4px 4px 8px;border-radius:.3em;grid-template-columns:90% 10%}.grupo[_ngcontent-%COMP%], .grupo-interno[_ngcontent-%COMP%]{min-height:20px;display:block;cursor:pointer;display:grid}.grupo-interno[_ngcontent-%COMP%]{line-height:30px;padding:0 15px;border-radius:.2em;grid-template-columns:100%;color:#f3e6d9;font-size:14px;font-weight:600}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e87200;display:inline-block;margin:0;vertical-align:text-bottom;font-weight:600;font-size:16px}li[_ngcontent-%COMP%]{margin:.2em 0}.down-btn[_ngcontent-%COMP%]{background-image:url(/assets/down.svg);display:inline-block;width:18px;height:18px;filter:invert(54%) sepia(35%) saturate(4661%) hue-rotate(3deg) brightness(92%) contrast(104%);transform:rotate(180deg);align-self:center;margin:auto}.closed-btn[_ngcontent-%COMP%]{-webkit-animation:mymove .25s;animation:mymove .25s}.open-btn[_ngcontent-%COMP%]{-webkit-animation:mysmove .25s forwards;animation:mysmove .25s forwards}@-webkit-keyframes mysmove{to{transform:rotate(90deg)}}@keyframes mysmove{to{transform:rotate(90deg)}}@-webkit-keyframes mymove{to{transform:rotate(180deg)}}@keyframes mymove{to{transform:rotate(180deg)}}.grupo-interno[_ngcontent-%COMP%]:hover, .grupo[_ngcontent-%COMP%]:hover{background-color:#014c7e}.closed[_ngcontent-%COMP%]{display:none}.open[_ngcontent-%COMP%]{display:block}.agregar-sub-lista[_ngcontent-%COMP%]{margin-bottom:.2em;color:#e68932}.eliminar[_ngcontent-%COMP%]{margin-bottom:.4em}@media screen and (max-width:1400px){li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width:800px){.grupo[_ngcontent-%COMP%]{padding:5px;border-radius:.3em;cursor:pointer;display:grid;grid-template-columns:90% 10%}}.mat-divider[_ngcontent-%COMP%]{margin:.5em}"]}),t})();var kn=n("1G5W");let In=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.onEliminar=new u.o}ngOnInit(){}eliminarTipo(){this.onEliminar.emit(this.data)}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-seguro-eliminar"]],decls:14,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"textB"],["align","end"],["mat-button","","mat-dialog-close","","color","accent",3,"click"],["cdkFocusInitial","","mat-button","","color","primary",3,"mat-dialog-close"]],template:function(t,e){1&t&&(u.Tb(0,"h2",0),u.yc(1,"Eliminando "),u.Tb(2,"b"),u.yc(3),u.Sb(),u.Sb(),u.Tb(4,"mat-dialog-content",1),u.Tb(5,"p"),u.yc(6,"\xbfSeguro que quieres eliminar este tipo?. "),u.Tb(7,"b",2),u.yc(8,"Se eliminaran todos los items dentro de esta categoria."),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-dialog-actions",3),u.Tb(10,"button",4),u.ac("click",function(){return e.eliminarTipo()}),u.yc(11,"Eliminar"),u.Sb(),u.Tb(12,"button",5),u.yc(13,"Cancelar"),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.zc(e.data.name),u.Cb(9),u.kc("mat-dialog-close",!0))},directives:[d.h,d.e,d.c,g.a,d.d],styles:["b[_ngcontent-%COMP%]{color:#ff7b00;font-family:jubilat,sans-serif;font-weight:200}.textB[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}h2[_ngcontent-%COMP%]{color:#005087;font-family:jubilat,sans-serif;font-weight:200;font-size:26px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}@media screen and (max-width:800px){h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:16px}}"]}),t})(),Nn=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.inventarioMNG=i,this.onSub=new u.o}ngOnInit(){this.form=this.formBuilder.group({name:this.formBuilder.control(this.data.name,o.s.compose([o.s.required,o.s.minLength(3)]))})}onSubmit(t){t.name=t.name.trim(),t.codigo=this.data.codigo,this.onSub.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(d.a),u.Nb(o.e),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-editar-clase"]],decls:12,vars:2,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["spellcheck","false","name","name","id","name","formControlName","name","maxlength","20","matInput",""],["mat-dialog-actions","","align","end"],["type","submit","type","button","mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Editar categor\xeda:"),u.Sb(),u.Tb(3,"form",2),u.ac("ngSubmit",function(){return e.onSubmit(e.form.value)}),u.Tb(4,"div",3),u.Tb(5,"mat-form-field",4),u.Tb(6,"mat-label"),u.yc(7,"Categoria"),u.Sb(),u.Ob(8,"input",5),u.Sb(),u.Sb(),u.Tb(9,"div",6),u.Tb(10,"button",7),u.ac("click",function(){return e.onSubmit(e.form.value)}),u.yc(11,"Actualizar"),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(3),u.kc("formGroup",e.form),u.Cb(7),u.kc("disabled",!e.form.valid))},directives:[d.h,d.d,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,d.c,g.a],styles:["h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-weight:600;font-style:normal}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:10px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%)}img[_ngcontent-%COMP%]:hover{cursor:pointer}b[_ngcontent-%COMP%]{color:#ff7b00;font-weight:600}h2[_ngcontent-%COMP%]{color:#005087;font-size:22px}p[_ngcontent-%COMP%]{font-size:18px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}}"]}),t})();var Fn=n("MutI");function Dn(t,e){if(1&t&&(u.Tb(0,"mat-list-option",13),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.name),u.Cb(1),u.Ac(" ",t.name," ")}}let An=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.formBuilder=e,this.inventarioMNG=n,this.marcasList=new r.a([]),this.onSub=new u.o}ngOnInit(){this.inventarioMNG.getAllMarcas().subscribe(t=>{this.marcasList.next(t)}),this.form=this.formBuilder.group({name:this.formBuilder.control("",o.s.compose([o.s.required,o.s.minLength(3)]))})}onSubmit(t){t.name=t.name.trim(),this.inventarioMNG.addNewMarca(t).subscribe(t=>{if(null!==t){this.form.reset();const e=this.marcasList.value;e.push(t),this.marcasList.next(e)}})}deleteMarcas(t){const e=t.map(t=>t.value).join("_");this.inventarioMNG.deleteMarcas(e).subscribe(t=>{t&&this.inventarioMNG.getAllMarcas().subscribe(t=>{this.marcasList.next(t)})})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.g),u.Nb(o.e),u.Nb(h.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-marcas-dialog"]],decls:20,vars:6,consts:[["src","assets/close.svg","mat-dialog-title","","matDialogClose","",1,"close-btn"],["mat-dialog-title",""],[1,"listaMarca"],["marcas",""],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["spellcheck","false","name","name","id","name","formControlName","name","maxlength","30","matInput",""],["mat-dialog-actions","","align","end"],["type","button","type","button","mat-stroked-button","","color","accent",3,"disabled","click"],["type","submit","type","button","mat-flat-button","","color","primary",3,"disabled","click"],["type","button","type","button","mat-flat-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(t,e){if(1&t){const t=u.Ub();u.Ob(0,"img",0),u.Tb(1,"h1",1),u.yc(2,"Marcas"),u.Sb(),u.Tb(3,"mat-selection-list",2,3),u.xc(5,Dn,2,2,"mat-list-option",4),u.fc(6,"async"),u.Sb(),u.Tb(7,"form",5),u.Tb(8,"div",6),u.Tb(9,"mat-form-field",7),u.Tb(10,"mat-label"),u.yc(11,"Agregar Marca"),u.Sb(),u.Ob(12,"input",8),u.Sb(),u.Sb(),u.Tb(13,"div",9),u.Tb(14,"button",10),u.ac("click",function(){u.rc(t);const n=u.pc(4);return e.deleteMarcas(n.selectedOptions.selected)}),u.yc(15,"Eliminar"),u.Sb(),u.Tb(16,"button",11),u.ac("click",function(){return e.onSubmit(e.form.value)}),u.yc(17,"Agregar"),u.Sb(),u.Tb(18,"button",12),u.yc(19,"Listo"),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.pc(4);u.Cb(5),u.kc("ngForOf",u.gc(6,4,e.marcasList)),u.Cb(2),u.kc("formGroup",e.form),u.Cb(7),u.kc("disabled",t.selectedOptions.selected.length<1),u.Cb(2),u.kc("disabled",!e.form.valid)}},directives:[d.h,d.d,Fn.g,i.l,o.t,o.o,o.g,d.e,V.c,V.f,o.c,L.b,o.n,o.f,o.j,d.c,g.a,Fn.e],pipes:[i.b],styles:["h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:26px}*[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600;font-style:normal}b[_ngcontent-%COMP%]{color:#014c7e}.example-full-width[_ngcontent-%COMP%]{width:100%}.hpc[_ngcontent-%COMP%]{margin-bottom:1em}h2[_ngcontent-%COMP%]{margin:.5em 0 .1em}img[_ngcontent-%COMP%]{width:40px;height:40px;filter:invert(100%) sepia(0) saturate(2113%) hue-rotate(327deg) brightness(115%) contrast(77%);margin-bottom:10px}img[_ngcontent-%COMP%]:hover{cursor:pointer}.listaMarca[_ngcontent-%COMP%]{margin:1em}@media screen and (max-width:800px){h1[_ngcontent-%COMP%]{color:#014c7e;font-family:jubilat,sans-serif;font-weight:400;font-size:20px}.mat-dialog-actions[_ngcontent-%COMP%]{row-gap:.5em}}"]}),t})();var Gn=n("0MNC"),Vn=n("jhN1"),jn=n("/t3+"),Ln=n("quSY"),zn=n("LRne"),Bn=n("7Hc7"),En=n("JX91"),Rn=n("eIep"),$n=n("IzEk"),Un=n("pLZG"),qn=n("+rOU"),Hn=n("rDax"),Yn=n("nLfN"),Qn=n("vxfF"),Kn=n("cH1L");const Xn=["mat-menu-item",""],Jn=["*"];function Wn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",0),u.ac("keydown",function(e){return u.rc(t),u.ec()._handleKeydown(e)})("click",function(){return u.rc(t),u.ec().closed.emit("click")})("@transformMenu.start",function(e){return u.rc(t),u.ec()._onAnimationStart(e)})("@transformMenu.done",function(e){return u.rc(t),u.ec()._onAnimationDone(e)}),u.Tb(1,"div",1),u.ic(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.kc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),u.Db("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Zn={transformMenu:Object(Qt.m)("transformMenu",[Object(Qt.j)("void",Object(Qt.k)({opacity:0,transform:"scale(0.8)"})),Object(Qt.l)("void => enter",Object(Qt.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(Qt.k)({opacity:1,transform:"scale(1)"}))),Object(Qt.l)("* => void",Object(Qt.e)("100ms 25ms linear",Object(Qt.k)({opacity:0})))]),fadeInItems:Object(Qt.m)("fadeInItems",[Object(Qt.j)("showing",Object(Qt.k)({opacity:1})),Object(Qt.l)("void => *",[Object(Qt.k)({opacity:0}),Object(Qt.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ti=new u.s("MatMenuContent"),ei=new u.s("MAT_MENU_PANEL");class ni{}const ii=Object(O.x)(Object(O.y)(ni));let oi=(()=>{class t extends ii{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new Ht.a,this._focused=new Ht.a,this._highlighted=!1,this._triggersSubmenu=!1,i&&i.addItem&&i.addItem(this)}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++){const e=i[o];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(u.l),u.Nb(i.e),u.Nb(S.h),u.Nb(ei,8))},t.\u0275cmp=u.Hb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&u.ac("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(u.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),u.Fb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[u.zb],attrs:Xn,ngContentSelectors:Jn,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(u.jc(),u.ic(0),u.Ob(1,"div",0)),2&t&&(u.Cb(1),u.kc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[O.r],encapsulation:2,changeDetection:0}),t})();const ai=new u.s("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ri=0,si=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new u.F,this._tabSubscription=Ln.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ht.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new u.o,this.close=this.closed,this.panelId="mat-menu-panel-"+ri++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(v.c)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(v.c)(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new S.g(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(En.a)(this._directDescendantItems),Object(Rn.a)(t=>Object(Yt.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(En.a)(this._directDescendantItems),Object(Rn.a)(t=>Object(Yt.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case qt.h:Object(qt.t)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case qt.j:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case qt.n:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:e!==qt.q&&e!==qt.e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Object($n.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(En.a)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(u.l),u.Nb(u.B),u.Nb(ai))},t.\u0275dir=u.Ib({type:t,contentQueries:function(t,e,n){if(1&t&&(u.Gb(n,ti,1),u.Gb(n,oi,1),u.Gb(n,oi,0)),2&t){let t;u.oc(t=u.bc())&&(e.lazyContent=t.first),u.oc(t=u.bc())&&(e._allItems=t),u.oc(t=u.bc())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&u.Dc(u.N,1),2&t){let t;u.oc(t=u.bc())&&(e.templateRef=t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),ci=(()=>{class t extends si{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(u.l),u.Nb(u.B),u.Nb(ai))},t.\u0275cmp=u.Hb({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,e){2&t&&u.Db("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[u.Bb([{provide:ei,useExisting:t}]),u.zb],ngContentSelectors:Jn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(u.jc(),u.xc(0,Wn,3,6,"ng-template"))},directives:[i.k],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Zn.transformMenu,Zn.fadeInItems]},changeDetection:0}),t})();const li=new u.s("mat-menu-scroll-strategy"),mi={provide:li,deps:[Hn.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},di=Object(Yn.f)({passive:!0});let ui=(()=>{class t{constructor(t,e,n,i,o,a,r,s){this._overlay=t,this._element=e,this._viewContainerRef=n,this._menuItemInstance=a,this._dir=r,this._focusMonitor=s,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ln.a.EMPTY,this._hoverSubscription=Ln.a.EMPTY,this._menuCloseSubscription=Ln.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new u.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new u.o,this.onMenuClose=this.menuClosed,this._scrollStrategy=i,this._parentMaterialMenu=o instanceof si?o:void 0,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,di),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(t),"click"!==t&&"tab"!==t||!this._parentMaterialMenu||this._parentMaterialMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,di),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof si&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),!this.restoreFocus||"keydown"!==t&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy),this._openedBy=void 0,e instanceof si?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Object(Un.a)(t=>"void"===t.toState),Object($n.a)(1),Object(kn.a)(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Hn.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,r]=[i,o],[s,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=s="end"===e?"start":"end",l="bottom"===i?8:-8):this.menu.overlapTrigger||(a="top"===i?"bottom":"top",r="top"===o?"bottom":"top"),t.withPositions([{originX:e,originY:a,overlayX:s,overlayY:i,offsetY:l},{originX:n,originY:a,overlayX:c,overlayY:i,offsetY:l},{originX:e,originY:r,overlayX:s,overlayY:o,offsetY:-l},{originX:n,originY:r,overlayX:c,overlayY:o,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Object(zn.a)(),i=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Object(Un.a)(t=>t!==this._menuItemInstance),Object(Un.a)(()=>this._menuOpen)):Object(zn.a)();return Object(Yt.a)(t,n,i,e)}_handleMousedown(t){Object(S.l)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;e!==qt.g&&e!==qt.o||(this._openedBy="keyboard"),this.triggersSubmenu()&&(e===qt.n&&"ltr"===this.dir||e===qt.j&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Object(Un.a)(t=>t===this._menuItemInstance&&!t.disabled),Object(On.a)(0,Bn.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof si&&this.menu._isAnimating?this.menu._animationDone.pipe(Object($n.a)(1),Object(On.a)(0,Bn.a),Object(kn.a)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new qn.g(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(Hn.c),u.Nb(u.l),u.Nb(u.R),u.Nb(li),u.Nb(ei,8),u.Nb(oi,10),u.Nb(Kn.b,8),u.Nb(S.h))},t.\u0275dir=u.Ib({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&u.ac("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&u.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),gi=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},providers:[mi],imports:[O.j]}),t})(),bi=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},providers:[mi],imports:[[i.c,O.j,O.s,Hn.f,gi],Qn.b,O.j,gi]}),t})();var pi=n("XhcP");function hi(t,e){if(1&t&&(u.Tb(0,"button",36),u.Tb(1,"mat-icon",37),u.yc(2,"person"),u.Sb(),u.Tb(3,"span"),u.yc(4),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Cb(4),u.zc(t.nombreUsuario)}}function fi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",38),u.ac("click",function(){return u.rc(t),u.ec().aToLogin()}),u.Tb(1,"mat-icon",37),u.yc(2,"power"),u.Sb(),u.Tb(3,"span"),u.yc(4,"Iniciar Sesi\xf3n"),u.Sb(),u.Sb()}}function Ci(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",38),u.ac("click",function(){return u.rc(t),u.ec().cerrarSesion()}),u.Tb(1,"mat-icon",37),u.yc(2,"power_off"),u.Sb(),u.Tb(3,"span"),u.yc(4,"Cerrar Sesi\xf3n"),u.Sb(),u.Sb()}}function vi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",39),u.ac("click",function(){return u.rc(t),u.ec().aVentas()}),u.Tb(1,"mat-icon",9),u.yc(2,"shopping_cart"),u.Sb(),u.Sb()}}function _i(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",40),u.Tb(1,"button",41),u.ac("click",function(){return u.rc(t),u.ec().openDialogAgregarCat()}),u.Tb(2,"mat-icon",42),u.yc(3,"add_box"),u.Sb(),u.Sb(),u.Tb(4,"button",43),u.ac("click",function(){return u.rc(t),u.ec().openDialogMarcas()}),u.Tb(5,"mat-icon",42),u.yc(6,"business"),u.Sb(),u.Sb(),u.Sb()}}function Oi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"app-lista-plegable",44),u.ac("openDialogEliminarOnMain",function(e){return u.rc(t),u.ec().openDialogDelete(e)})("loadItemsOnMainTipo",function(e){return u.rc(t),u.ec().loadListItems(e)})("openDialogEditarTipo",function(e){return u.rc(t),u.ec().openDialogEditar(e)})("closeAllButThis",function(e){return u.rc(t),u.ec().closeAllButOne(e)}),u.Sb()}2&t&&u.kc("tipoLista",e.$implicit)}const Si=function(){return{padding:".5em"}},yi=function(){return{cursor:"pointer"}},xi=function(){return{color:"white","font-weight":400,cursor:"pointer"}},Mi=function(t){return{marginForShow:t}},Pi=function(){return{"padding-bottom":"12px"}},wi=function(){return{margin:"auto"}};function Ti(t,e){1&t&&(u.Tb(0,"div",5),u.Ob(1,"mat-spinner",6),u.Sb()),2&t&&(u.Cb(1),u.kc("ngStyle",u.lc(1,wi)))}function ki(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",7),u.Tb(1,"h5",8),u.ac("click",function(){return u.rc(t),u.ec().goToTipo()}),u.yc(2),u.fc(3,"async"),u.Sb(),u.Ob(4,"i",9),u.Tb(5,"h5",8),u.ac("click",function(){return u.rc(t),u.ec().goToSubTipo()}),u.yc(6),u.fc(7,"async"),u.Sb(),u.Ob(8,"i",9),u.Tb(9,"h5",8),u.ac("click",function(){return u.rc(t),u.ec().refreshPage()}),u.yc(10),u.fc(11,"async"),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Cb(2),u.Ac(" ",u.gc(3,3,t.item$).tipo," "),u.Cb(4),u.Ac(" ",u.gc(7,5,t.item$).subTipo," "),u.Cb(4),u.Ac(" ",u.gc(11,7,t.item$).name," ")}}function Ii(t,e){if(1&t&&u.Ob(0,"img",17),2&t){const t=u.ec(2);u.kc("src",t.imageLink,u.sc)}}const Ni=function(){return{"padding-bottom":"12px"}};function Fi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",18),u.Tb(1,"h3",19),u.yc(2,"Contactanos:"),u.Sb(),u.Tb(3,"mat-list",20),u.Tb(4,"div",21),u.yc(5,"WhatsApp:"),u.Sb(),u.Tb(6,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(2).goToLink("w1")}),u.Tb(7,"mat-icon",23),u.Ob(8,"i",24),u.Sb(),u.Tb(9,"div",25),u.yc(10,"+51 977 426 349"),u.Sb(),u.Sb(),u.Ob(11,"mat-divider"),u.Tb(12,"div",21),u.yc(13,"Redes Sociales:"),u.Sb(),u.Tb(14,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(2).goToLink("https://www.facebook.com/siriodinar")}),u.Tb(15,"mat-icon",26),u.yc(16,"facebook"),u.Sb(),u.Tb(17,"div",25),u.yc(18,"fb.com/siriodinar"),u.Sb(),u.Sb(),u.Tb(19,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(2).goToLink("https://www.instagram.com/dinarsirio/")}),u.Tb(20,"mat-icon",23),u.Ob(21,"i",27),u.Sb(),u.Tb(22,"div",25),u.yc(23,"@dinarsirio"),u.Sb(),u.Sb(),u.Ob(24,"mat-divider"),u.Tb(25,"div",21),u.yc(26,"Direcci\xf3n:"),u.Sb(),u.Tb(27,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(2).goToLink("https://www.google.com/maps/place/Felipe+Pardo+y+Aliaga+213,+Trujillo+13006/@-8.11283,-79.0178555,19z/data=!3m1!4b1!4m5!3m4!1s0x91ad162a59b1c931:0xda445057079ecc8!8m2!3d-8.1128313!4d-79.0173083?rapsrc=apiv3")}),u.Tb(28,"mat-icon",26),u.yc(29,"room"),u.Sb(),u.Tb(30,"div",25),u.yc(31,"Jr. Felipe Pardo Y Aliaga 213"),u.Sb(),u.Tb(32,"div",25),u.yc(33,"Urb. Palermo. Trujillo, Per\xfa."),u.Sb(),u.Sb(),u.Sb(),u.Sb()}2&t&&(u.Cb(7),u.kc("ngStyle",u.lc(2,Ni)),u.Cb(13),u.kc("ngStyle",u.lc(3,Ni)))}const Di=function(){return{cursor:"pointer"}};function Ai(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-icon",37),u.ac("click",function(){return u.rc(t),u.ec(3).deConvertToFavorite()}),u.yc(1,"favorite"),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,Di))}function Gi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-icon",37),u.ac("click",function(){return u.rc(t),u.ec(3).convertToFavorite()}),u.yc(1,"favorite_border"),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,Di))}const Vi=function(){return{height:"36px"}};function ji(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",38),u.ac("click",function(){return u.rc(t),u.ec(3).descargarReporteItem()}),u.yc(1,"Descargar Reporte"),u.Sb()}2&t&&u.kc("ngStyle",u.lc(1,Vi))}const Li=function(){return{"grid-column":"1/5"}};function zi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",39),u.Tb(1,"h3",19),u.yc(2,"Contactanos:"),u.Sb(),u.Tb(3,"mat-list",20),u.Tb(4,"div",21),u.yc(5,"Redes Sociales:"),u.Sb(),u.Tb(6,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(3).goToLink("https://www.facebook.com/siriodinar")}),u.Tb(7,"mat-icon",26),u.yc(8,"facebook"),u.Sb(),u.Tb(9,"div",25),u.yc(10,"fb.com/siriodinar"),u.Sb(),u.Sb(),u.Tb(11,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(3).goToLink("https://www.instagram.com/dinarsirio/")}),u.Tb(12,"mat-icon",23),u.Ob(13,"i",27),u.Sb(),u.Tb(14,"div",25),u.yc(15,"@dinarsirio"),u.Sb(),u.Sb(),u.Ob(16,"mat-divider"),u.Tb(17,"div",21),u.yc(18,"WhatsApp:"),u.Sb(),u.Tb(19,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(3).goToLink("w1")}),u.Tb(20,"mat-icon",23),u.Ob(21,"i",24),u.Sb(),u.Tb(22,"div",25),u.yc(23,"+51 977 426 349"),u.Sb(),u.Sb(),u.Ob(24,"mat-divider"),u.Tb(25,"div",21),u.yc(26,"Direcci\xf3n:"),u.Sb(),u.Tb(27,"mat-list-item",22),u.ac("click",function(){return u.rc(t),u.ec(3).goToLink("https://www.google.com/maps/place/Felipe+Pardo+y+Aliaga+213,+Trujillo+13006/@-8.11283,-79.0178555,19z/data=!3m1!4b1!4m5!3m4!1s0x91ad162a59b1c931:0xda445057079ecc8!8m2!3d-8.1128313!4d-79.0173083?rapsrc=apiv3")}),u.Tb(28,"mat-icon",26),u.yc(29,"room"),u.Sb(),u.Tb(30,"div",25),u.yc(31,"Jr. Felipe Pardo Y Aliaga 213"),u.Sb(),u.Tb(32,"div",25),u.yc(33,"Urb. Palermo. Trujillo, Per\xfa."),u.Sb(),u.Sb(),u.Sb(),u.Sb()}2&t&&(u.kc("ngStyle",u.lc(3,Li)),u.Cb(12),u.kc("ngStyle",u.lc(4,Ni)),u.Cb(8),u.kc("ngStyle",u.lc(5,Ni)))}function Bi(t,e){if(1&t&&(u.Tb(0,"th",50),u.yc(1),u.fc(2,"async"),u.Sb()),2&t){const t=u.ec(4);u.Cb(1),u.Ac(" ",u.gc(2,1,t.item$).subConteo.name," ")}}function Ei(t,e){if(1&t&&(u.Tb(0,"td",51),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.name," ")}}function Ri(t,e){1&t&&(u.Tb(0,"td",52),u.yc(1," Total "),u.Sb())}function $i(t,e){if(1&t&&(u.Tb(0,"th",50),u.yc(1),u.fc(2,"async"),u.Sb()),2&t){const t=u.ec(4);u.Cb(1),u.Ac(" ",u.gc(2,1,t.item$).subConteo.nameSecond," ")}}function Ui(t,e){if(1&t&&(u.Tb(0,"td",51),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.nameSecond," ")}}function qi(t,e){1&t&&u.Ob(0,"td",52)}function Hi(t,e){1&t&&(u.Tb(0,"th",50),u.yc(1," Cantidad "),u.Sb())}function Yi(t,e){if(1&t&&(u.Tb(0,"td",51),u.yc(1),u.Sb()),2&t){const t=e.$implicit;u.Cb(1),u.Ac(" ",t.cantidad," ")}}function Qi(t,e){if(1&t&&(u.Tb(0,"td",52),u.yc(1),u.fc(2,"async"),u.Sb()),2&t){const t=u.ec(4);u.Cb(1),u.zc(u.gc(2,1,t.item$).cantidad)}}function Ki(t,e){1&t&&u.Ob(0,"tr",53)}function Xi(t,e){1&t&&u.Ob(0,"tr",54)}function Ji(t,e){1&t&&u.Ob(0,"tr",55)}function Wi(t,e){if(1&t&&(u.Tb(0,"div",35),u.Tb(1,"table",40),u.Rb(2,41),u.xc(3,Bi,3,3,"th",42),u.xc(4,Ei,2,1,"td",43),u.xc(5,Ri,2,0,"td",44),u.Qb(),u.Rb(6,45),u.xc(7,$i,3,3,"th",42),u.xc(8,Ui,2,1,"td",43),u.xc(9,qi,1,0,"td",44),u.Qb(),u.Rb(10,46),u.xc(11,Hi,2,0,"th",42),u.xc(12,Yi,2,1,"td",43),u.xc(13,Qi,3,3,"td",44),u.Qb(),u.xc(14,Ki,1,0,"tr",47),u.xc(15,Xi,1,0,"tr",48),u.xc(16,Ji,1,0,"tr",49),u.Sb(),u.Sb()),2&t){const t=u.ec(3);u.Cb(1),u.kc("dataSource",t.dataSource),u.Cb(13),u.kc("matHeaderRowDef",t.displayedColumnsPos),u.Cb(1),u.kc("matRowDefColumns",t.displayedColumnsPos),u.Cb(1),u.kc("matFooterRowDef",t.displayedColumnsPos)}}const Zi=function(){return{color:"#E87200"}},to=function(){return{background:"white"}};function eo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",28),u.Tb(1,"div",29),u.Ob(2,"img",30),u.Sb(),u.Tb(3,"h1"),u.yc(4),u.fc(5,"async"),u.xc(6,Ai,2,2,"mat-icon",31),u.fc(7,"async"),u.xc(8,Gi,2,2,"mat-icon",31),u.fc(9,"async"),u.Sb(),u.Tb(10,"p"),u.yc(11),u.fc(12,"async"),u.Sb(),u.Tb(13,"h4"),u.yc(14),u.fc(15,"currency"),u.fc(16,"async"),u.fc(17,"currency"),u.fc(18,"async"),u.fc(19,"async"),u.Sb(),u.Tb(20,"h4",6),u.yc(21," *Los precios son por unidad. No dude en consultarnos por precios al por mayor. "),u.Sb(),u.Tb(22,"button",32),u.ac("click",function(){return u.rc(t),u.ec(2).descargarFicha()}),u.fc(23,"async"),u.yc(24,"Descargar Ficha Tecnica"),u.Sb(),u.xc(25,ji,2,2,"button",33),u.xc(26,zi,34,6,"div",34),u.fc(27,"async"),u.Tb(28,"h3"),u.yc(29,"Cantidades:"),u.Sb(),u.Tb(30,"div",35),u.Tb(31,"mat-toolbar",6),u.Tb(32,"span"),u.yc(33),u.fc(34,"async"),u.fc(35,"async"),u.Sb(),u.Sb(),u.Sb(),u.xc(36,Wi,17,4,"div",36),u.fc(37,"async"),u.Sb()}if(2&t){const t=u.ec(2);u.Cb(2),u.kc("src",t.imageLink,u.sc),u.Cb(2),u.Ac(" ",u.gc(5,17,t.item$).name," "),u.Cb(2),u.kc("ngIf",1===u.gc(7,19,t.item$).oferta&&t.authService.loggedIn()&&"low"!==t.authService.getTtype()),u.Cb(2),u.kc("ngIf",0===u.gc(9,21,t.item$).oferta&&t.authService.loggedIn()&&"low"!==t.authService.getTtype()),u.Cb(3),u.Ac(" ",u.gc(12,23,t.item$).description," "),u.Cb(3),u.Cc(" Precio: ",u.hc(15,25,u.gc(16,28,t.item$).priceIGV,"S/")," | Precio Sin IGV: ",u.hc(17,30,u.gc(18,33,t.item$).priceNoIGV,"S/")," | Marca: ",u.gc(19,35,t.item$).marca," "),u.Cb(6),u.kc("ngStyle",u.lc(47,Zi)),u.Cb(2),u.kc("disabled",!u.gc(23,37,t.item$).ficha)("ngStyle",u.lc(48,Vi)),u.Cb(3),u.kc("ngIf",t.authService.loggedIn()&&"low"!==t.authService.getTtype()),u.Cb(1),u.kc("ngIf",u.gc(27,39,t.item$)),u.Cb(5),u.kc("ngStyle",u.lc(49,to)),u.Cb(2),u.Bc("",u.gc(34,41,t.item$).cantidad," ",u.gc(35,43,t.item$).unidadDeMedida," disponibles."),u.Cb(3),u.kc("ngIf",u.gc(37,45,t.item$).subConteo)}}function no(t,e){if(1&t&&(u.Tb(0,"main",10),u.Tb(1,"div",11),u.Tb(2,"div",12),u.xc(3,Ii,1,1,"img",13),u.fc(4,"async"),u.Sb(),u.Ob(5,"div",14),u.xc(6,Fi,34,4,"div",15),u.fc(7,"async"),u.Sb(),u.xc(8,eo,38,50,"div",16),u.fc(9,"async"),u.Sb()),2&t){const t=u.ec();u.Cb(3),u.kc("ngIf",u.gc(4,3,t.item$)),u.Cb(3),u.kc("ngIf",u.gc(7,5,t.item$)),u.Cb(2),u.kc("ngIf",u.gc(9,7,t.item$))}}const io=function(t){return{"background-image":t}};function oo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",59),u.ac("click",function(){u.rc(t);const n=e.$implicit;return u.ec(2).goToItem(n.tipo,n.subTipo,n.codigo)}),u.Tb(1,"h4"),u.yc(2),u.Sb(),u.Ob(3,"div",60),u.Sb()}if(2&t){const t=e.$implicit;u.kc("ngStyle",u.lc(3,Di)),u.Cb(2),u.Ac(" ",t.name," "),u.Cb(1),u.kc("ngStyle",u.mc(4,io,"url(https://inventario-sirio-dinar.herokuapp.com/inventario/image/"+t.photo+")"))}}function ao(t,e){if(1&t&&(u.Tb(0,"section",56),u.Tb(1,"h2"),u.yc(2,"Productos relacionados"),u.Sb(),u.Tb(3,"div",57),u.xc(4,oo,4,6,"div",58),u.fc(5,"async"),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Cb(4),u.kc("ngForOf",u.gc(5,1,t.itemsRelacionados$))}}const ro=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,a,s,c,l,m,d){this.dialog=t,this.inventarioMNG=e,this.auth=n,this.router=a,this.snackBar=s,this.ar=c,this.wss=l,this.titleService=m,this.metaTagService=d,this.specialGetItem=!0,this.whatsAppLinkOne="https://wa.me/51977426349?text=Buenas, me gustaria obtener m\xe1s informaci\xf3n.",this.whatsAppLinkTwo="https://wa.me/51922412404?text=Buenas, me gustaria obtener m\xe1s informaci\xf3n.",this.selectedSort="date",this.subORtipo="tipo",this.codigo=null,this.panelOpenState=!1,this.tiposSubject=new r.a([]),this.keep=new r.a(!0),this.order=new r.a("dsc"),this.listaItemsCurrent="Destacados",this.currentListToDisplay=new r.a("Destacados"),this.listItems=new r.a([]),this.destroy=new Ht.a,this.destroy$=this.destroy.asObservable(),this.nombreUsuario=n.getDisplayUser(),this.mobileQuery=o.matchMedia("(max-width: 1080px)"),this.mobileQueryListener=()=>i.detectChanges(),this.mobileQuery.addListener(this.mobileQueryListener)}getYPosition(t){return t.target.scrollTop}ngOnInit(){this.titleService.setTitle("Sirio Dinar | Inventario"),this.metaTagService.updateTag({name:"description",content:"Inventario de Sirio Dinar"}),this.loadList()}ngAfterViewInit(){const t=document.getElementById("listado");this.wss.elementScroll=t,Object(on.a)(t,"scroll").pipe(Object(s.a)(),Object(kn.a)(this.destroy$)).subscribe(e=>{this.wss.scrollY.next(this.getYPosition(e)),this.wss.scrollH.next(t.scrollHeight);const n=Math.round(100*this.wss.scrollY.value/(this.wss.scrollH.value-this.wss.elementScroll.clientHeight));this.wss.porcent.next(n)})}loadListItems(t){if(this.subORtipo=t.subORtipo,this.currentListToDisplay.next(t.name),"tipo"===this.subORtipo)this.router.navigate(["/inventario",this.parsedRoute(t.name)]);else{const e=this.router.url.slice(1).split("/")[1];this.router.navigate(["/inventario",this.parsedRoute(e),this.parsedRoute(t.name)])}}parsedRoute(t){return t.trim().replace(/ /g,"_")}cerrarSesion(){this.auth.cerrarSesion(),this.router.navigate(["/login"])}aVentas(){this.router.navigate(["/ventas"])}changeState(){p.opened.next(!0)}changeStateNeg(){p.opened.next(!1)}closeAllButOne(t){this.listasPlegables.forEach(e=>{t!==e.tipoLista.name&&(e.status=!1)})}openDialog(){this.dialogItemRef=this.dialog.open(en),this.dialogItemRef.componentInstance.onNewItem.pipe(Object(m.a)()).subscribe(t=>{this.dialogItemRef.close(),this.codigo=t}),this.dialogItemRef.afterClosed().pipe(Object(m.a)()).subscribe(()=>{this.dialogItemRef.componentInstance.onNewItem.unsubscribe(),null!==this.codigo&&this.openUploadDialog()})}openUploadDialog(){this.dialogUploadRef=this.dialog.open(mn,{width:"800px"}),this.dialogUploadRef.componentInstance.codigo=this.codigo,this.dialogUploadRef.afterClosed().pipe(Object(m.a)()).subscribe(()=>{this.codigo=null,this.order.next("asc")})}changeItemCurrentList(t){this.listaItemsCurrent=t,this.order.next(this.order.value)}openDialogAgregarCat(){this.dialogRef=this.dialog.open(nn,{width:"600px"}),this.dialogRef.componentInstance.onSub.pipe(Object(m.a)()).subscribe(()=>{this.loadList(),this.dialogRef.close()}),this.dialogRef.afterClosed().pipe(Object(m.a)()).subscribe(()=>this.dialogRef.componentInstance.onSub.unsubscribe())}loadList(){this.inventarioMNG.getTipos().subscribe(t=>{this.tiposSubject.next(t)})}ngOnDestroy(){this.listItems.unsubscribe(),this.order.unsubscribe(),this.currentListToDisplay.unsubscribe(),this.mobileQuery.removeListener(this.mobileQueryListener),this.destroy.next()}aInventario(){this.router.navigate(["/inventario"])}aToLogin(){this.router.navigate(["/login"])}openDialogDelete(t){this.dialog.open(In,{width:"600px",data:t}).componentInstance.onEliminar.pipe(Object(m.a)()).subscribe(t=>{this.inventarioMNG.eliminarTipo(t.codigo).subscribe(()=>{this.inventarioMNG.getTipos().subscribe(t=>{window.location.reload()})})})}openDialogEditar(t){const e=this.dialog.open(Nn,{width:"600px",data:t});e.componentInstance.onSub.pipe(Object(m.a)()).subscribe(t=>{e.close(),this.inventarioMNG.updateTipoName(t).pipe(Object(m.a)()).subscribe(()=>{this.inventarioMNG.getTipos().subscribe(t=>{this.tiposSubject.next(t)})})})}goToLink(t){"w1"===t?window.open(this.whatsAppLinkOne,"_blank"):"w2"===t?window.open(this.whatsAppLinkTwo,"_blank"):window.open(t,"_blank")}reloadPage(){this.router.navigate(["/inventario"])}openDialogMarcas(){this.dialog.open(An,{width:"800px"})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.b),u.Nb(h.a),u.Nb(B.a),u.Nb(u.h),u.Nb(Gn.c),u.Nb(a.b),u.Nb(f.a),u.Nb(a.a),u.Nb(C),u.Nb(Vn.d),u.Nb(Vn.c))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-inventario"]],viewQuery:function(t,e){if(1&t&&u.Dc(Tn,1),2&t){let t;u.oc(t=u.bc())&&(e.listasPlegables=t)}},decls:85,vars:33,consts:[[1,"main"],["color","primary",1,"example-toolbar","toolBar",3,"ngStyle"],["mat-icon-button","",1,"sizeIcon",3,"click"],[1,"sizeIcon"],[1,"toolBarName"],[1,"cName",3,"ngStyle","click"],[1,"example-spacer"],[3,"matMenuTriggerFor","ngStyle"],["mat-icon-button","",1,"sizeIcon",3,"matMenuTriggerFor"],[1,"sizeIcon","sizeShop"],["menu","matMenu"],["routerLink","/usuario","mat-menu-item","",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["matTooltip","Inventario","mat-icon-button","",1,"sizeIcon",3,"click"],["matTooltip","Ventas","mat-icon-button","","class","sizeIcon addMargin",3,"click",4,"ngIf"],[1,"mainCont"],["fixedTopGap","56",1,"menu",2,"overflow","hidden",3,"fixedInViewport","mode","opened","closed"],["snav",""],[1,"menuPadding"],[1,"user-ctn",3,"ngClass"],["alt","Logo sirio dinar","src","assets/logoRER.svg",1,"logoShow",3,"click"],["class","show-opc",4,"ngIf"],[1,"options"],[1,"list-items"],[1,"list-general"],[3,"tipoLista","openDialogEliminarOnMain","loadItemsOnMainTipo","openDialogEditarTipo","closeAllButThis",4,"ngFor","ngForOf"],["id","listado"],[1,"toMainPage",3,"click"],["role","list"],["mat-subheader",""],[1,"social-link",3,"click"],["mat-list-icon",""],["mat-line",""],["mat-list-icon","",3,"ngStyle"],[1,"fab","fa-instagram"],["aria-hidden","true",1,"fa","fa-whatsapp"],["routerLink","/usuario","mat-menu-item",""],["color","accent"],["mat-menu-item","",3,"click"],["matTooltip","Ventas","mat-icon-button","",1,"sizeIcon","addMargin",3,"click"],[1,"show-opc"],["mat-fab","","color","warn","aria-label","Example icon button with a home icon",3,"click"],[1,"icon-img"],["mat-fab","","color","primary","aria-label","Example icon button with a home icon",1,"marcasBtn",3,"click"],[3,"tipoLista","openDialogEliminarOnMain","loadItemsOnMainTipo","openDialogEditarTipo","closeAllButThis"]],template:function(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",0),u.Tb(1,"mat-toolbar",1),u.Tb(2,"button",2),u.ac("click",function(){return u.rc(t),u.pc(25).toggle()}),u.Tb(3,"mat-icon",3),u.yc(4,"menu"),u.Sb(),u.Sb(),u.Tb(5,"span",4),u.Tb(6,"b",5),u.ac("click",function(){return e.aInventario()}),u.yc(7,"Sirio Dinar"),u.Sb(),u.Sb(),u.Ob(8,"span",6),u.Tb(9,"h2",7),u.yc(10),u.Sb(),u.Tb(11,"button",8),u.Tb(12,"mat-icon",9),u.yc(13,"person"),u.Sb(),u.Sb(),u.Tb(14,"mat-menu",null,10),u.xc(16,hi,5,1,"button",11),u.xc(17,fi,5,0,"button",12),u.xc(18,Ci,5,0,"button",12),u.Sb(),u.Tb(19,"button",13),u.ac("click",function(){return e.aInventario()}),u.Tb(20,"mat-icon",9),u.yc(21,"assignment"),u.Sb(),u.Sb(),u.xc(22,vi,3,0,"button",14),u.Sb(),u.Tb(23,"mat-sidenav-container",15),u.Tb(24,"mat-sidenav",16,17),u.ac("closed",function(){return e.changeStateNeg()})("opened",function(){return e.changeState()}),u.Tb(26,"div",18),u.Tb(27,"div",19),u.Tb(28,"img",20),u.ac("click",function(){return e.reloadPage()}),u.Sb(),u.Sb(),u.xc(29,_i,7,0,"div",21),u.Ob(30,"div",22),u.Tb(31,"h2"),u.yc(32,"Inventario"),u.Sb(),u.Tb(33,"div",23),u.Tb(34,"ul",24),u.xc(35,Oi,1,1,"app-lista-plegable",25),u.fc(36,"async"),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Tb(37,"mat-sidenav-content",26),u.Ob(38,"router-outlet"),u.Tb(39,"footer"),u.Tb(40,"div"),u.Tb(41,"div"),u.Tb(42,"h3",27),u.ac("click",function(){return e.goToLink("http://www.siriodinar.com/inicio")}),u.yc(43,"\xbfQuienes Somos?"),u.Sb(),u.Ob(44,"mat-divider"),u.Tb(45,"p"),u.yc(46,"Sirio Dinar es, como empresa, un operador log\xedstico que brinda apoyo incondicional a medianas y grandes empresas que intentan expandirse en el mercado actual, brindando el servicio de desarrollo, dise\xf1o y soporte de productos para tu negocio."),u.Sb(),u.Sb(),u.Sb(),u.Tb(47,"mat-list",28),u.Tb(48,"div",29),u.yc(49,"Redes Sociales:"),u.Sb(),u.Tb(50,"mat-list-item",30),u.ac("click",function(){return e.goToLink("https://www.facebook.com/siriodinar")}),u.Tb(51,"mat-icon",31),u.yc(52,"facebook"),u.Sb(),u.Tb(53,"div",32),u.yc(54,"fb.com/siriodinar"),u.Sb(),u.Sb(),u.Ob(55,"mat-divider"),u.Tb(56,"mat-list-item",30),u.ac("click",function(){return e.goToLink("https://www.instagram.com/dinarsirio/")}),u.Tb(57,"mat-icon",33),u.Ob(58,"i",34),u.Sb(),u.Tb(59,"div",32),u.yc(60,"@dinarsirio"),u.Sb(),u.Sb(),u.Sb(),u.Tb(61,"mat-list",28),u.Tb(62,"div",29),u.yc(63,"WhatsApps:"),u.Sb(),u.Tb(64,"mat-list-item",30),u.ac("click",function(){return e.goToLink("w1")}),u.Tb(65,"mat-icon",33),u.Ob(66,"i",35),u.Sb(),u.Tb(67,"div",32),u.yc(68,"+51 977 426 349"),u.Sb(),u.Sb(),u.Ob(69,"mat-divider"),u.Tb(70,"mat-list-item",30),u.ac("click",function(){return e.goToLink("w2")}),u.Tb(71,"mat-icon",33),u.Ob(72,"i",35),u.Sb(),u.Tb(73,"div",32),u.yc(74,"+51 922 412 404"),u.Sb(),u.Sb(),u.Sb(),u.Tb(75,"mat-list",28),u.Tb(76,"div",29),u.yc(77,"Direcci\xf3n:"),u.Sb(),u.Tb(78,"mat-list-item",30),u.ac("click",function(){return e.goToLink("https://www.google.com/maps/place/Felipe+Pardo+y+Aliaga+213,+Trujillo+13006/@-8.11283,-79.0178555,19z/data=!3m1!4b1!4m5!3m4!1s0x91ad162a59b1c931:0xda445057079ecc8!8m2!3d-8.1128313!4d-79.0173083?rapsrc=apiv3")}),u.Tb(79,"mat-icon",31),u.yc(80,"room"),u.Sb(),u.Tb(81,"div",32),u.yc(82,"Jr. Felipe Pardo Y Aliaga 213"),u.Sb(),u.Tb(83,"div",32),u.yc(84,"Urb. Palermo. Trujillo, Per\xfa."),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.pc(15);u.Fb("example-is-mobile",e.mobileQuery.matches),u.Cb(1),u.kc("ngStyle",u.lc(25,Si)),u.Cb(5),u.kc("ngStyle",u.lc(26,yi)),u.Cb(3),u.kc("matMenuTriggerFor",t)("ngStyle",u.lc(27,xi)),u.Cb(1),u.Ac(" ",e.nombreUsuario," "),u.Cb(1),u.kc("matMenuTriggerFor",t),u.Cb(5),u.kc("ngIf",e.auth.loggedIn()),u.Cb(1),u.kc("ngIf",!e.auth.loggedIn()),u.Cb(1),u.kc("ngIf",e.auth.loggedIn()),u.Cb(4),u.kc("ngIf",e.auth.loggedIn()&&"low"!==e.auth.getTtype()),u.Cb(1),u.uc("margin-top",e.mobileQuery.matches?55:0,"px"),u.Cb(1),u.kc("fixedInViewport",e.mobileQuery.matches)("mode",e.mobileQuery.matches?"over":"side")("opened",!e.mobileQuery.matches),u.Cb(3),u.kc("ngClass",u.mc(28,Mi,!e.auth.loggedIn()&&"low"===e.auth.getTtype())),u.Cb(2),u.kc("ngIf",e.auth.loggedIn()&&"low"!==e.auth.getTtype()),u.Cb(6),u.kc("ngForOf",u.gc(36,23,e.tiposSubject)),u.Cb(22),u.kc("ngStyle",u.lc(30,Pi)),u.Cb(8),u.kc("ngStyle",u.lc(31,Pi)),u.Cb(6),u.kc("ngStyle",u.lc(32,Pi))}},directives:[jn.a,i.n,g.a,G.a,ui,ci,i.m,Ve.a,pi.b,pi.a,i.k,i.l,pi.c,a.f,Je.a,Fn.a,Fn.f,Fn.c,Fn.b,O.k,a.c,oi,Tn],pipes:[i.b],styles:[".mat-select[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif;font-weight:600}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.example-viewport[_ngcontent-%COMP%]{height:90vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}h3[_ngcontent-%COMP%]{font-size:22px;color:#e87200}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#005087;font-family:futura-pt,sans-serif;font-weight:300;font-style:normal}.menu[_ngcontent-%COMP%]{overflow:hidden;background-color:#005087;width:20%}.mat-dialog-container[_ngcontent-%COMP%]{width:800px}.user-ctn[_ngcontent-%COMP%]{display:flex;width:100%}.social-link[_ngcontent-%COMP%]:hover{cursor:pointer;color:#e87200}.show-opc[_ngcontent-%COMP%]{margin:1.5em 0}.icon-img[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{color:inherit}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{text-decoration:none}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{text-decoration:none;list-style-type:none;padding:0;font-family:futura-pt,sans-serif;font-style:normal}li[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;font-weight:600}li[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e87200;font-size:16px;display:inline-block;vertical-align:text-bottom}.logoShow[_ngcontent-%COMP%]{width:180px;height:auto;align-self:center;text-align:center;display:block;margin:auto;cursor:pointer}h2[_ngcontent-%COMP%]{font-weight:200;font-family:futura-pt,sans-serif;color:#e87200}.marginForShow[_ngcontent-%COMP%]{margin-bottom:2em}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.main-ctt[_ngcontent-%COMP%]{grid-column:3/13;padding:1em 0 6em;background-color:#eaf6ff}h1[_ngcontent-%COMP%]{margin:0;color:#005087;font-size:50px;font-weight:200}footer[_ngcontent-%COMP%]{padding:3em;display:grid;gap:2em;grid-template-columns:2fr 1fr 1fr 1fr}p[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}*[_ngcontent-%COMP%]     ::-webkit-scrollbar{width:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-track{box-shadow:inset 0 0 5px grey;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb{background:#b8b8b8;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb:hover{background:#949494}.content[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{grid-template-columns:repeat(4,1fr);grid-gap:0;display:grid;padding-top:0}.mainCont[_ngcontent-%COMP%]{flex:1}.cheating[_ngcontent-%COMP%]{height:700px}.cheatingTwo[_ngcontent-%COMP%]{height:200px}.cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{grid:inherit}.paddingToScroll[_ngcontent-%COMP%]{padding:0 2em}.showBar[_ngcontent-%COMP%]{display:none}.toMainPage[_ngcontent-%COMP%]{cursor:pointer}.toMainPage[_ngcontent-%COMP%]:hover{color:#005087}.toolBar[_ngcontent-%COMP%]{background-color:#005087;box-shadow:0 7px 5px -3px rgba(0,0,0,.35);z-index:1000}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed}  .sizeIcon{height:44px!important;width:44px!important;font-size:34px!important;line-height:42px!important}  .sizeShop{font-size:24px!important;line-height:45px!important}  .sizePower{font-size:33px!important;line-height:45px!important}.addMarginTwo[_ngcontent-%COMP%]{margin-left:.2em}.cName[_ngcontent-%COMP%]{font-family:jubilat,sans-serif;font-weight:200}.toolBarName[_ngcontent-%COMP%]{margin-left:.4em;font-family:futura-pt,sans-serif;font-size:26px;font-weight:200}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menuPadding[_ngcontent-%COMP%]{padding:1.5em 1.5em 2em}.marcasBtn[_ngcontent-%COMP%]{background-color:#095486;margin-left:1em}@media screen and (max-width:1400px){.menuPadding[_ngcontent-%COMP%]{padding:1.5em 1em 2em}.logoShow[_ngcontent-%COMP%]{width:150px}.displayCheat[_ngcontent-%COMP%]{display:block}.displayCheatTwo[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{grid-template-columns:repeat(3,1fr)}footer[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{grid-column:span 3}}@media screen and (max-width:1100px){.content[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{grid-template-columns:repeat(2,1fr)}.displayCheatThree[_ngcontent-%COMP%]{display:block}.displayCheat[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{grid-column:span 2}}@media screen and (max-width:1100px){.menu[_ngcontent-%COMP%]{width:25%;box-shadow:none}.showBar[_ngcontent-%COMP%]{display:flex}.list-items[_ngcontent-%COMP%]{max-height:65vh}}@media screen and (max-width:820px){.content[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:820px){.cName[_ngcontent-%COMP%]{font-size:24px;margin-left:2px}.toolBarName[_ngcontent-%COMP%]{margin:0}.toolBar[_ngcontent-%COMP%]{height:56px}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}.menu[_ngcontent-%COMP%]{width:40%;box-shadow:none}.menu[_ngcontent-%COMP%]     .mat-drawer-inner-container{overflow:auto}.list-items[_ngcontent-%COMP%]{overflow:hidden;max-height:none}footer[_ngcontent-%COMP%]{padding:3em 1.5em;display:grid;gap:2em;grid-template-columns:none}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{grid-column:unset}}@media screen and (max-width:700px){.content[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{grid-template-columns:repeat(1,1fr)}}@media screen and (max-width:700px){.info[_ngcontent-%COMP%]{padding:.5em 1em;margin:0}.list-items[_ngcontent-%COMP%]{max-height:none}.menu[_ngcontent-%COMP%]{width:80%;box-shadow:none}.mainCont[_ngcontent-%COMP%]{background-color:#f6fbff}.paddingToScroll[_ngcontent-%COMP%]{padding:1em}}"],changeDetection:0}),t})(),children:[{path:":tipo",component:Xe},{path:":tipo/:subTipo",component:Xe},{path:":tipo/:subTipo/:item",component:(()=>{class t{constructor(t,e,n,i,o,a,s){this.inventarioMNG=t,this.ar=e,this.router=n,this.titleService=i,this.metaTagService=o,this.wSS=a,this.authService=s,this.item$=new r.a(null),this.itemsRelacionados$=new r.a(null),this.panelOpenState=!1,this.displayedColumnsPos=["name","nameSecond","cantidad"],this.balance=0,this.urlOfImage=new r.a(null),this.datasourceTest=[{name:"Test1",nameSecond:"test2",cantidad:2}];let c="noone";this.scrollY$=this.wSS.scrollY$,this.subs=this.ar.paramMap.subscribe(t=>{void 0!==a.elementScroll&&a.scrollToTop(),c=t.get("item"),this.item$.next(null),this.inventarioMNG.getItem(c).subscribe(t=>{this.item$.next(t),this.titleService.setTitle(`Sirio Dinar | ${this.item$.value.name}`),this.metaTagService.updateTag({name:"description",content:`Informacion de ${this.item$.value.name} en trujillo`}),this.whatsAppLinkOne="https://wa.me/51977426349?text=Buenas estoy interesado en "+this.item$.value.name+" quisiera obtener m\xe1s informaci\xf3n",this.whatsAppLinkTwo="https://wa.me/51922412404?text=Buenas estoy interesado en "+this.item$.value.name+" quisiera obtener m\xe1s informaci\xf3n",this.inventarioMNG.getItemsRelacionados(this.item$.value.codigo,this.item$.value.tipo).subscribe(t=>{this.itemsRelacionados$.next(t)}),this.imageLink="https://inventario-sirio-dinar.herokuapp.com/inventario/image/"+this.item$.value.photo,this.item=t,this.item&&this.item.subConteo&&(this.dataSource=new me.o(this.item.subConteo.order))})})}set content(t){this.item&&this.item.subConteo&&(this.dataSource.sort=t)}ngOnInit(){}ngAfterViewInit(){if(void 0===this.wSS.elementScroll){const t=document.getElementById("listado");this.wSS.elementScroll=t}}descargarReporteItem(){this.inventarioMNG.getExcelReportItem(this.item$.value.codigo).subscribe(t=>{t&&Object(de.saveAs)(t,`reporte-${this.item$.value.name}`)})}deConvertToFavorite(){this.inventarioMNG.deConvertToFavorite(this.item$.value).subscribe(t=>{t&&this.item$.next(t)})}convertToFavorite(){this.inventarioMNG.convertToFavorite(this.item$.value).subscribe(t=>{t&&this.item$.next(t)})}descargarFicha(){window.open("https://inventario-sirio-dinar.herokuapp.com/inventario/pdf/ficha-"+this.item$.value.codigo+".pdf","_blank")}refreshPage(){window.location.reload()}goToTipo(){this.router.navigate(["/inventario",this.parsedRoute(this.item$.value.tipo)])}goToSubTipo(){this.router.navigate(["/inventario",this.parsedRoute(this.item$.value.tipo),this.parsedRoute(this.item$.value.subTipo)])}goToLink(t){"w1"===t?window.open(this.whatsAppLinkOne,"_blank"):"w2"===t?window.open(this.whatsAppLinkTwo,"_blank"):window.open(t,"_blank")}getMousePos(t){}goToItem(t,e,n){this.router.navigate(["/inventario",this.parsedRoute(t),this.parsedRoute(e),n])}parsedRoute(t){return t.trim().replace(/ /g,"_")}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(a.a),u.Nb(a.b),u.Nb(Vn.d),u.Nb(Vn.c),u.Nb(C),u.Nb(B.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-item-page"]],viewQuery:function(t,e){if(1&t&&u.Dc(te,1),2&t){let t;u.oc(t=u.bc())&&(e.content=t.first)}},decls:9,vars:12,consts:[[1,"main-ctt"],["class","cargandoItems",4,"ngIf"],["class","navegacion",4,"ngIf"],["class","header-item",4,"ngIf"],["class","other-items",4,"ngIf"],[1,"cargandoItems"],[3,"ngStyle"],[1,"navegacion"],[3,"click"],[1,"fas","fa-chevron-right"],[1,"header-item"],[1,"images-container"],["id","imgzoom",1,"zoom-container"],["alt","Imagen del item","width","354","height","354",3,"src",4,"ngIf"],[1,"preview-img"],["class","social",4,"ngIf"],["class","item-info",4,"ngIf"],["alt","Imagen del item","width","354","height","354",3,"src"],[1,"social"],[1,"color-contacto"],["role","list"],["mat-subheader",""],[1,"social-link",3,"click"],["mat-list-icon","",3,"ngStyle"],["aria-hidden","true",1,"fa","fa-whatsapp"],["mat-line",""],["mat-list-icon",""],[1,"fab","fa-instagram"],[1,"item-info"],[1,"small-img"],["alt","imageLink",3,"src"],[3,"ngStyle","click",4,"ngIf"],["mat-raised-button","","color","accent",1,"ficha-btn",3,"disabled","ngStyle","click"],["class","ficha-btn","mat-raised-button","","color","primary",3,"ngStyle","click",4,"ngIf"],["class","social socialTwo",3,"ngStyle",4,"ngIf"],[1,"tablContenedor"],["class","tablContenedor",4,"ngIf"],[3,"ngStyle","click"],["mat-raised-button","","color","primary",1,"ficha-btn",3,"ngStyle","click"],[1,"social","socialTwo",3,"ngStyle"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","nameSecond"],["matColumnDef","cantidad"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"other-items"],[1,"cards"],["class","mini-card",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mini-card",3,"ngStyle","click"],[1,"card-image",3,"ngStyle"]],template:function(t,e){1&t&&(u.Tb(0,"section",0),u.xc(1,Ti,2,2,"div",1),u.fc(2,"async"),u.xc(3,ki,12,9,"div",2),u.fc(4,"async"),u.xc(5,no,10,9,"main",3),u.fc(6,"async"),u.xc(7,ao,6,3,"section",4),u.fc(8,"async"),u.Sb()),2&t&&(u.Cb(1),u.kc("ngIf",!u.gc(2,4,e.item$)),u.Cb(2),u.kc("ngIf",u.gc(4,6,e.item$)),u.Cb(2),u.kc("ngIf",u.gc(6,8,e.item$)),u.Cb(2),u.kc("ngIf",u.gc(8,10,e.item$)))},directives:[i.m,$.b,i.n,Fn.a,Fn.f,Fn.c,G.a,Fn.b,O.k,Je.a,g.a,jn.a,me.n,te,me.c,me.i,me.b,me.e,me.k,me.m,me.g,me.h,ce,me.a,me.d,me.j,me.l,me.f,i.l],pipes:[i.b,i.d],styles:[".tablContenedor[_ngcontent-%COMP%]{grid-column:span 4}table[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:.5em .5em 0}.info[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding:0}.info[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}h3[_ngcontent-%COMP%]{font-size:22px;color:#e87200}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#005087;font-family:futura-pt,sans-serif;font-weight:300;font-style:normal}.mat-dialog-container[_ngcontent-%COMP%]{width:800px}.mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none}.main-ctt[_ngcontent-%COMP%]{min-height:95vh;background-color:#eaf6ff}h1[_ngcontent-%COMP%]{margin:0;color:#005087;font-size:50px;font-weight:400}.editar[_ngcontent-%COMP%], .vender[_ngcontent-%COMP%]{background-color:#fff;color:#005087;border:1px solid #aaa;border-radius:.2em;text-align:center;outline:none;text-decoration:none;font-family:futura-pt,sans-serif;font-weight:600;font-style:normal;font-size:14px;padding:0}.example-card[_ngcontent-%COMP%]{width:auto}.cargandoItems[_ngcontent-%COMP%]{width:100%;height:100px;text-align:center;padding-top:2em;padding-bottom:2em}.info[_ngcontent-%COMP%]{margin-bottom:2em;padding:3em;display:grid}.agregar-card[_ngcontent-%COMP%]{background-color:hsla(0,0%,87.5%,.26666666666666666);display:block}.agregar-card[_ngcontent-%COMP%]:hover{cursor:pointer}*[_ngcontent-%COMP%]     ::-webkit-scrollbar{width:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-track{box-shadow:inset 0 0 5px grey;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb{background:#b8b8b8;border-radius:5px}*[_ngcontent-%COMP%]     ::-webkit-scrollbar-thumb:hover{background:#949494}.displayCheat[_ngcontent-%COMP%]{display:none}.displayCheatTwo[_ngcontent-%COMP%]{display:block}.displayCheatThree[_ngcontent-%COMP%]{display:none}.cardsContainer[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);grid-gap:0;display:grid;padding-top:0}.images[_ngcontent-%COMP%]{display:grid;grid-template-columns:354px 50px}img[_ngcontent-%COMP%]{margin:0}.mainCont[_ngcontent-%COMP%]{flex:1}.cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{grid:inherit}.paddingToScroll[_ngcontent-%COMP%]{padding:0 2em}.showBar[_ngcontent-%COMP%]{display:none}.toolBar[_ngcontent-%COMP%]{background-color:#005087;box-shadow:0 7px 5px -3px rgba(0,0,0,.35);z-index:1000}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed}.preview-img[_ngcontent-%COMP%]{height:50px}.images-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:354px;grid-template-rows:354px 50px;row-gap:5px;width:354px;padding-top:.8em}a[_ngcontent-%COMP%]{color:inherit}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{text-decoration:none}.header-item[_ngcontent-%COMP%]{padding:1.2em 3em 2.2em;display:grid;-moz-column-gap:3em;column-gap:3em;grid-template-columns:.5fr 1fr 1fr}p[_ngcontent-%COMP%]{font-family:futura-pt,sans-serif}.zoom-container[_ngcontent-%COMP%]{height:354px;position:relative}.zoom-img[_ngcontent-%COMP%]{z-index:50;height:354px;width:708px;left:440px;top:46px;position:absolute;background-image:url(https://inventario-sirio-dinar.herokuapp.com/inventario/image/img-23SDBP9-1597381127996.png);background-size:1416px 1416px;background-repeat:no-repeat}.socialTwo[_ngcontent-%COMP%]{display:none}.img-magnifier-glass[_ngcontent-%COMP%]{position:absolute;border:3px solid #000;border-radius:50%;cursor:none;width:100px;height:100px}.social-link[_ngcontent-%COMP%]:hover{cursor:pointer;color:#005087}.item-info[_ngcontent-%COMP%]{display:grid;grid-column:span 2;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(8,-webkit-max-content);grid-template-rows:repeat(8,max-content);gap:2em}p[_ngcontent-%COMP%]{margin:0}.pre-venta[_ngcontent-%COMP%]{grid-column:span 4;display:grid;grid-template-columns:repeat(4,1fr);gap:1.5em}.item-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{grid-column:span 4}h3[_ngcontent-%COMP%]{font-weight:400;color:#005087}.ficha-btn[_ngcontent-%COMP%]{grid-column:span 1}.color-contacto[_ngcontent-%COMP%]{color:#e87200}.mini-card[_ngcontent-%COMP%]{display:grid;width:100%;box-shadow:0 0 2px 1px rgba(0,0,0,.1);background-color:#fff;border-radius:.3em;grid-template-rows:40px 160px;height:200px;transition:.2s ease-out}.other-items[_ngcontent-%COMP%]{padding:0 3em 6em}.other-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e87200;font-weight:200;margin-bottom:2em}.card-image[_ngcontent-%COMP%]{background-size:cover;border-bottom-left-radius:.3em;border-bottom-right-radius:.3em;background-repeat:no-repeat;background-position:50%}.navegacion[_ngcontent-%COMP%]{display:flex;padding:2.2em 3em 0}.navegacion[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:12px;margin:0 .5em 0 0;color:#e87200}.navegacion[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{color:#5a5a5a;line-height:1;font-weight:400;font-family:futura-pt,sans-serif}.navegacion[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]:hover{color:#005087;cursor:pointer}.other-items[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#005087;font-family:futura-pt,sans-serif;font-size:12px;font-weight:200;padding:.5em}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:2em}.mini-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 9px 1px rgba(0,0,0,.15);transform:scale(1.02) translate(6px,-3px)}.ficha-btn[_ngcontent-%COMP%]{grid-column:1/2}.small-img[_ngcontent-%COMP%]{display:none}@media screen and (max-width:1400px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}.ficha-btn[_ngcontent-%COMP%]{grid-column:1/3}}@media screen and (max-width:1100px){.ficha-btn[_ngcontent-%COMP%]{grid-column:1/4}.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media screen and (max-width:1100px){.showBar[_ngcontent-%COMP%]{display:flex}.list-items[_ngcontent-%COMP%]{max-height:65vh}}@media screen and (max-width:850px){.other-items[_ngcontent-%COMP%]{padding:0 1.5em 6em}.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.header-item[_ngcontent-%COMP%]{padding:1.2em 1.5em 2.5em;grid-template-columns:none}.images-container[_ngcontent-%COMP%]{display:none}.small-img[_ngcontent-%COMP%], .socialTwo[_ngcontent-%COMP%]{display:block}.small-img[_ngcontent-%COMP%]{grid-column:1/5}.small-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:24px}.ficha-btn[_ngcontent-%COMP%]{grid-column:1/5}.navegacion[_ngcontent-%COMP%]{flex-wrap:wrap;padding:2.2em 1.5em 0}.navegacion[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-bottom:1em}}@media screen and (max-width:600px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]}),t})()},{path:"",redirectTo:"Destacado",pathMatch:"full"}]}];let so=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(ro)],a.e]}),t})();var co=n("Wp6s"),lo=n("5+WD"),mo=n("A5z7"),uo=n("iadO");let go=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},imports:[[i.c,so,co.a,pi.d,g.b,ue.b,lo.a,d.f,V.e,L.c,j.b,G.b,E.b,jn.b,mo.a,o.r,Qn.d,Ve.b,Je.b,f.b,O.s,A,Fn.d,me.p,le,$.a,uo.c,bi,R.b,o.i]]}),t})()}}]);