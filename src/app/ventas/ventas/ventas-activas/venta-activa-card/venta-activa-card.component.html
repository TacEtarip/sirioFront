<div class="item-card">
  <div class="title-card">
    <div class="title">
    <h3  class="openItemInfo">#{{(venta$|async).codigo}}</h3>
    </div>
    <div class="btns">
      <button  (click)="anularVenta()" type="button" class="anular" color="accent" mat-stroked-button>Anular</button>
      <button [ngStyle]="{'margin-left': '.5em'}" (click)="openAddItemDialog()" type="button" class="agr" color="primary" mat-stroked-button>Agregar Item</button>
      <button (click)="ejecutarVenta()" type="button" class="ejecutar" color="primary" mat-stroked-button>Ejecutar</button>
    </div>
  </div>
  <div class="contenidoCardVentas">
    <table mat-table [dataSource]="tableVentaInfo$|async" class="mat-elevation-z8">
      <!-- Item Column -->
      <ng-container matColumnDef="codigo">
        <th mat-header-cell *matHeaderCellDef> Cod. </th>
        <td mat-cell *matCellDef="let tableVentaInfo"> {{tableVentaInfo.codigo}} </td>
        <td mat-footer-cell *matFooterCellDef> Total </td>
      </ng-container>


      <ng-container matColumnDef="name">
        <th class="vientoPor" mat-header-cell *matHeaderCellDef> Nombre </th>
        <td class="vientoPor" mat-cell *matCellDef="let tableVentaInfo"> {{tableVentaInfo.name}} </td>
        <td class="vientoPor" mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="subName">
        <th mat-header-cell *matHeaderCellDef> Sub I </th>
        <td mat-cell *matCellDef="let tableVentaInfo"> {{tableVentaInfo.subName}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="subNameSecond">
        <th mat-header-cell *matHeaderCellDef> Sub II </th>
        <td mat-cell *matCellDef="let tableVentaInfo"> {{tableVentaInfo.subNameSecond}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="cantidad">
        <th mat-header-cell *matHeaderCellDef> Cantidad </th>
        <td mat-cell *matCellDef="let tableVentaInfo">  {{tableVentaInfo.cantidad}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="priceIGV">
        <th mat-header-cell *matHeaderCellDef> Precio </th>
        <td mat-cell *matCellDef="let tableVentaInfo"> S/{{tableVentaInfo.priceIGV|currency: ' '}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef> P. Total </th>
        <td mat-cell *matCellDef="let tableVentaInfo"> S/{{tableVentaInfo.total|currency: ' '}} </td>
        <td mat-footer-cell *matFooterCellDef> S/{{(costoTotal|async)|currency: ' '}} </td>
      </ng-container>

      <ng-container matColumnDef="editar">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let tableVentaInfo">
          <button (click)="editarAddItemDialog(tableVentaInfo)" mat-stroked-button  type="button" color="primary">Editar</button> </td>
        <td mat-footer-cell *matFooterCellDef>  </td>
      </ng-container>

      <ng-container matColumnDef="eliminar">
        <th mat-header-cell *matHeaderCellDef>  </th>
        <td mat-cell *matCellDef="let tableVentaInfo">  <button (dblclick)="eliminarItem(tableVentaInfo)" mat-stroked-button  type="button" color="accent">-</button> </td>
        <td mat-footer-cell *matFooterCellDef>  </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumnsVenta"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsVenta;"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumnsVenta"></tr>
    </table>
  </div>
  <!--
    <p>
      {{(itemInfo|async).description}}
    </p>-->

   <!--<button disabled *ngIf="!(itemInfo|async).ficha" (click)="descargarFicha()"  class="ficha-btn noficha">Ficha Tecnica No Disponible</button>-->
</div>

