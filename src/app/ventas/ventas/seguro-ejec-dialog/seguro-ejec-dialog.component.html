<h2 mat-dialog-title>Realizar Venta</h2>

<mat-dialog-content>
  <form [formGroup]="ventaEjecutarForm">
    <mat-form-field  appearance="fill" class="oneC">
      <mat-label>Tipo De Comprobante</mat-label>
      <mat-select #SELECT [(value)]="currentDocumentType" (ngModelChange)="changeValidators()" name="documentoTipo"  formControlName="documentoTipo">
        <mat-option *ngFor="let item of tiposDocumentos" [value]="item.value">{{item.viewValue}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field id="busquedaDOC" appearance="fill"  class="oneC">
      <mat-label  *ngIf="ventaEjecutarForm.get('documentoTipo').value === 'factura'">RUC</mat-label>
      <mat-label *ngIf="ventaEjecutarForm.get('documentoTipo').value === 'boleta'">DNI</mat-label>
      <input (keyup)="comprobarDOC()"  name="docCod" id="docCod" formControlName="docCod" matInput>
    </mat-form-field>
    <mat-form-field appearance="fill"  class="fullC">
      <mat-label>Nombre...</mat-label>
      <input spellcheck="false" name="name" id="name" formControlName="nameDocumento" maxlength="60" matInput>
    </mat-form-field>
    <mat-form-field currentMetodoPago  appearance="fill" class="oneC">
      <mat-label>Metodo de pago</mat-label>
      <mat-select [(value)]="currentMetodoPago" name="metodoPagoOne"  formControlName="metodoPagoOne">
        <mat-option *ngFor="let item of metodosDePago" [value]="item.value">{{item.viewValue}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field id="busquedaDOC" appearance="fill"  class="oneC">
      <mat-label>Descripci√≥n</mat-label>
      <input name="metodoPagoTwo" id="metodoPagoTwo" formControlName="metodoPagoTwo" matInput>
    </mat-form-field>
    <mat-form-field appearance="fill"  class="fullC">
      <mat-label>Cliente email...</mat-label>
      <input spellcheck="false" name="clienteEmail" id="clienteEmail" formControlName="clienteEmail" matInput>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button cdkFocusInitial mat-button mat-dialog-close [mat-dialog-close]="true" color="accent">Cancelar</button>
  <button [disabled]="!ventaEjecutarForm.valid || (!(documentAccepted|async) && (SELECT.value != 'noone'))"
  (click)="ejecutarVenta(ventaEjecutarForm.getRawValue())"  mat-button color="primary">Vender</button>
</mat-dialog-actions>

<div  *ngIf="ventaEnCurso|async" id="overlay">
  <mat-spinner class="ventaR" color="accent"></mat-spinner>
</div>
